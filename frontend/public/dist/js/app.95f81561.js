(()=>{"use strict";var e={571:(e,t,a)=>{var s=a(751),r=a(641);const i={id:"app"};function o(e,t,a,s,o,n){const l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.bF)(l)])}const n={name:"App"};var l=a(262);const d=(0,l.A)(n,[["render",o]]),c=d;var h=a(499),u=a(33);const g={class:"auth-container"},p={class:"auth-card"},v={class:"form-group"},m={class:"form-group"},k={key:0,class:"error-message"},y=["disabled"],f={class:"auth-footer"};function b(e,t,a,i,o,n){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",g,[(0,r.Lk)("div",p,[t[7]||(t[7]=(0,r.Fv)('<div class="auth-header" data-v-17ce4450><div class="logo-container" data-v-17ce4450><svg class="logo-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" data-v-17ce4450><defs data-v-17ce4450><linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%" data-v-17ce4450><stop offset="0%" style="stop-color:var(--color-primary);stop-opacity:1;" data-v-17ce4450></stop><stop offset="100%" style="stop-color:var(--color-primaryDark);stop-opacity:1;" data-v-17ce4450></stop></linearGradient></defs><circle cx="30" cy="50" r="25" fill="url(#logoGradient)" opacity="0.8" data-v-17ce4450></circle><circle cx="70" cy="50" r="25" fill="url(#logoGradient)" opacity="0.8" data-v-17ce4450></circle><path d="M 30 35 Q 50 20 70 35" stroke="var(--color-primaryLight)" stroke-width="4" fill="none" stroke-linecap="round" data-v-17ce4450></path><circle cx="30" cy="45" r="4" fill="white" data-v-17ce4450></circle><circle cx="70" cy="45" r="4" fill="white" data-v-17ce4450></circle><path d="M 20 55 Q 30 65 40 55" stroke="white" stroke-width="3" fill="none" stroke-linecap="round" data-v-17ce4450></path><path d="M 60 55 Q 70 65 80 55" stroke="white" stroke-width="3" fill="none" stroke-linecap="round" data-v-17ce4450></path></svg><h1 data-v-17ce4450>PingMe</h1></div><p data-v-17ce4450>Zaloguj siÄ™ do swojego konta</p></div>',1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)((...e)=>n.handleLogin&&n.handleLogin(...e),["prevent"])),class:"auth-form"},[(0,r.Lk)("div",v,[t[3]||(t[3]=(0,r.Lk)("label",{for:"email"},"Email",-1)),(0,r.bo)((0,r.Lk)("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),type:"email",placeholder:"WprowadÅº swÃ³j email",required:""},null,512),[[s.Jo,o.email]])]),(0,r.Lk)("div",m,[t[4]||(t[4]=(0,r.Lk)("label",{for:"password"},"HasÅ‚o",-1)),(0,r.bo)((0,r.Lk)("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),type:"password",placeholder:"WprowadÅº hasÅ‚o",required:""},null,512),[[s.Jo,o.password]])]),o.error?((0,r.uX)(),(0,r.CE)("div",k,(0,u.v_)(o.error),1)):(0,r.Q3)("",!0),(0,r.Lk)("button",{type:"submit",class:"submit-btn",disabled:o.loading},(0,u.v_)(o.loading?"Logowanie...":"Zaloguj siÄ™"),9,y)],32),(0,r.Lk)("div",f,[(0,r.Lk)("p",null,[t[6]||(t[6]=(0,r.eW)("Nie masz konta? ",-1)),(0,r.bF)(l,{to:"/register"},{default:(0,r.k6)(()=>[...t[5]||(t[5]=[(0,r.eW)("Zarejestruj siÄ™",-1)])]),_:1})])])]),t[8]||(t[8]=(0,r.Fv)('<footer class="page-footer" data-v-17ce4450><div class="footer-content" data-v-17ce4450><a href="mailto:kontakt@test.com" class="footer-link" data-v-17ce4450><div class="icon-wrapper" data-v-17ce4450><svg class="envelope-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-17ce4450><rect x="3" y="5" width="18" height="14" rx="2" stroke="currentColor" stroke-width="2" data-v-17ce4450></rect><path d="M3 7L12 13L21 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-17ce4450></path></svg><span class="icon-letter" data-v-17ce4450>i</span></div><span data-v-17ce4450>kontakt@test.com</span></a><a href="tel:123213321" class="footer-link" data-v-17ce4450><svg class="phone-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-17ce4450><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-17ce4450></path></svg><span data-v-17ce4450>123-213-321</span></a></div></footer>',1))])}const w={purpleDream:{name:"Purple Dream",colors:{primary:"#8b5cf6",primaryDark:"#6d28d9",primaryLight:"#a78bfa",primaryLighter:"#c4b5fd",background1:"#1a1a2e",background2:"#16213e",background3:"#0f0f1e",cardBg:"linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%)",border:"rgba(139, 92, 246, 0.3)",text:"#c4b5fd",textLight:"rgba(196, 181, 253, 0.7)",success:"#86efac",error:"#fca5a5"}},oceanBlue:{name:"Ocean Blue",colors:{primary:"#3b82f6",primaryDark:"#1e40af",primaryLight:"#60a5fa",primaryLighter:"#93c5fd",background1:"#0f172a",background2:"#1e293b",background3:"#020617",cardBg:"linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%)",border:"rgba(59, 130, 246, 0.3)",text:"#93c5fd",textLight:"rgba(147, 197, 253, 0.7)",success:"#86efac",error:"#fca5a5"}},forestGreen:{name:"Forest Green",colors:{primary:"#10b981",primaryDark:"#047857",primaryLight:"#34d399",primaryLighter:"#6ee7b7",background1:"#022c22",background2:"#064e3b",background3:"#011714",cardBg:"linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%)",border:"rgba(16, 185, 129, 0.3)",text:"#6ee7b7",textLight:"rgba(110, 231, 183, 0.7)",success:"#86efac",error:"#fca5a5"}},sunsetOrange:{name:"Sunset Orange",colors:{primary:"#f97316",primaryDark:"#c2410c",primaryLight:"#fb923c",primaryLighter:"#fdba74",background1:"#1c1917",background2:"#292524",background3:"#0c0a09",cardBg:"linear-gradient(135deg, rgba(249, 115, 22, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%)",border:"rgba(249, 115, 22, 0.3)",text:"#fdba74",textLight:"rgba(253, 186, 116, 0.7)",success:"#86efac",error:"#fca5a5"}},cherryBlossom:{name:"Cherry Blossom",colors:{primary:"#ec4899",primaryDark:"#be185d",primaryLight:"#f472b6",primaryLighter:"#f9a8d4",background1:"#1e1420",background2:"#2d1b2e",background3:"#150a14",cardBg:"linear-gradient(135deg, rgba(236, 72, 153, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%)",border:"rgba(236, 72, 153, 0.3)",text:"#f9a8d4",textLight:"rgba(249, 168, 212, 0.7)",success:"#86efac",error:"#fca5a5"}},midnightDark:{name:"Midnight Dark",colors:{primary:"#6366f1",primaryDark:"#4338ca",primaryLight:"#818cf8",primaryLighter:"#a5b4fc",background1:"#0a0a0f",background2:"#13131a",background3:"#050508",cardBg:"linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(0, 0, 0, 0.9) 100%)",border:"rgba(99, 102, 241, 0.3)",text:"#a5b4fc",textLight:"rgba(165, 180, 252, 0.7)",success:"#86efac",error:"#fca5a5"}},tokyoNight:{name:"Tokyo Night",colors:{primary:"#7aa2f7",primaryDark:"#565f89",primaryLight:"#9ece6a",primaryLighter:"#bb9af7",background1:"#1a1b26",background2:"#24283b",background3:"#16161e",cardBg:"linear-gradient(135deg, rgba(122, 162, 247, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%)",border:"rgba(122, 162, 247, 0.3)",text:"#c0caf5",textLight:"rgba(192, 202, 245, 0.7)",success:"#9ece6a",error:"#f7768e"}},cyberpunk:{name:"Cyberpunk",colors:{primary:"#00ff9f",primaryDark:"#00cc7e",primaryLight:"#33ffb5",primaryLighter:"#66ffcb",background1:"#0a0e27",background2:"#151932",background3:"#05070f",cardBg:"linear-gradient(135deg, rgba(0, 255, 159, 0.1) 0%, rgba(0, 0, 0, 0.9) 100%)",border:"rgba(0, 255, 159, 0.3)",text:"#00ff9f",textLight:"rgba(0, 255, 159, 0.7)",success:"#00ff9f",error:"#ff006e"}},nord:{name:"Nord",colors:{primary:"#88c0d0",primaryDark:"#5e81ac",primaryLight:"#8fbcbb",primaryLighter:"#81a1c1",background1:"#2e3440",background2:"#3b4252",background3:"#242933",cardBg:"linear-gradient(135deg, rgba(136, 192, 208, 0.1) 0%, rgba(0, 0, 0, 0.6) 100%)",border:"rgba(136, 192, 208, 0.3)",text:"#d8dee9",textLight:"rgba(216, 222, 233, 0.7)",success:"#a3be8c",error:"#bf616a"}},monokai:{name:"Monokai",colors:{primary:"#66d9ef",primaryDark:"#49b8d5",primaryLight:"#7de2f5",primaryLighter:"#a6e22e",background1:"#272822",background2:"#3e3d32",background3:"#1e1f1c",cardBg:"linear-gradient(135deg, rgba(102, 217, 239, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%)",border:"rgba(102, 217, 239, 0.3)",text:"#f8f8f2",textLight:"rgba(248, 248, 242, 0.7)",success:"#a6e22e",error:"#f92672"}},dracula:{name:"Dracula",colors:{primary:"#bd93f9",primaryDark:"#9b6ee0",primaryLight:"#d0a9ff",primaryLighter:"#ff79c6",background1:"#282a36",background2:"#383a59",background3:"#1e1f2b",cardBg:"linear-gradient(135deg, rgba(189, 147, 249, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%)",border:"rgba(189, 147, 249, 0.3)",text:"#f8f8f2",textLight:"rgba(248, 248, 242, 0.7)",success:"#50fa7b",error:"#ff5555"}}},L=["ðŸ¦","ðŸ¯","ðŸ¦Š","ðŸ¼","ðŸ¨","ðŸ¸","ðŸ¦„","ðŸ¦‹","ðŸ™","ðŸ¦€","ðŸ¬","ðŸ¦…","ðŸŒŸ","ðŸ”¥","âš¡","ðŸŒˆ","ðŸŽ¨","ðŸŽ­","ðŸŽ®","ðŸŽ¸","ðŸŽ¯","ðŸš€","ðŸŒ™","â˜€ï¸"];function C(e){const t=w[e];if(!t)return;const a=document.documentElement;Object.entries(t.colors).forEach(([e,t])=>{a.style.setProperty(`--color-${e}`,t)})}function E(e){const t={small:"text-size-small",medium:"text-size-medium",large:"text-size-large"};return t[e]||t.medium}const T={name:"Login",data(){return{email:"",password:"",error:"",loading:!1,apiUrl:"http://localhost:8000/api"}},mounted(){const e=localStorage.getItem("theme")||"purpleDream";C(e);const t=localStorage.getItem("textSize")||"medium";document.body.classList.add(E(t))},methods:{async handleLogin(){this.error="",this.loading=!0;try{const e=await fetch(`${this.apiUrl}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})}),t=await e.json();e.ok?(localStorage.setItem("user",JSON.stringify(t.user)),this.$router.push("/dashboard")):this.error=t.error||"BÅ‚Ä…d logowania"}catch(e){console.error("Login error:",e),this.error="WystÄ…piÅ‚ bÅ‚Ä…d podczas logowania"}finally{this.loading=!1}}}},S=(0,l.A)(T,[["render",b],["__scopeId","data-v-17ce4450"]]),z=S,D={class:"auth-container"},U={class:"auth-card"},x={class:"form-group"},M={class:"form-group"},I={class:"form-group"},F={class:"form-group"},j={key:0,class:"error-message"},A={key:1,class:"success-message"},X=["disabled"],$={class:"auth-footer"};function O(e,t,a,i,o,n){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",D,[(0,r.Lk)("div",U,[t[11]||(t[11]=(0,r.Fv)('<div class="auth-header" data-v-66799b14><div class="logo-container" data-v-66799b14><svg class="logo-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" data-v-66799b14><defs data-v-66799b14><linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%" data-v-66799b14><stop offset="0%" style="stop-color:var(--color-primary);stop-opacity:1;" data-v-66799b14></stop><stop offset="100%" style="stop-color:var(--color-primaryDark);stop-opacity:1;" data-v-66799b14></stop></linearGradient></defs><circle cx="30" cy="50" r="25" fill="url(#logoGradient)" opacity="0.8" data-v-66799b14></circle><circle cx="70" cy="50" r="25" fill="url(#logoGradient)" opacity="0.8" data-v-66799b14></circle><path d="M 30 35 Q 50 20 70 35" stroke="var(--color-primaryLight)" stroke-width="4" fill="none" stroke-linecap="round" data-v-66799b14></path><circle cx="30" cy="45" r="4" fill="white" data-v-66799b14></circle><circle cx="70" cy="45" r="4" fill="white" data-v-66799b14></circle><path d="M 20 55 Q 30 65 40 55" stroke="white" stroke-width="3" fill="none" stroke-linecap="round" data-v-66799b14></path><path d="M 60 55 Q 70 65 80 55" stroke="white" stroke-width="3" fill="none" stroke-linecap="round" data-v-66799b14></path></svg><h1 data-v-66799b14>PingMe</h1></div><p data-v-66799b14>UtwÃ³rz nowe konto</p></div>',1)),(0,r.Lk)("form",{onSubmit:t[4]||(t[4]=(0,s.D$)((...e)=>n.handleRegister&&n.handleRegister(...e),["prevent"])),class:"auth-form"},[(0,r.Lk)("div",x,[t[5]||(t[5]=(0,r.Lk)("label",{for:"username"},"Nazwa uÅ¼ytkownika",-1)),(0,r.bo)((0,r.Lk)("input",{id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),type:"text",placeholder:"Wybierz nazwÄ™ uÅ¼ytkownika",required:""},null,512),[[s.Jo,o.username]])]),(0,r.Lk)("div",M,[t[6]||(t[6]=(0,r.Lk)("label",{for:"email"},"Email",-1)),(0,r.bo)((0,r.Lk)("input",{id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>o.email=e),type:"email",placeholder:"WprowadÅº swÃ³j email",required:""},null,512),[[s.Jo,o.email]])]),(0,r.Lk)("div",I,[t[7]||(t[7]=(0,r.Lk)("label",{for:"password"},"HasÅ‚o",-1)),(0,r.bo)((0,r.Lk)("input",{id:"password","onUpdate:modelValue":t[2]||(t[2]=e=>o.password=e),type:"password",placeholder:"Wybierz hasÅ‚o",required:""},null,512),[[s.Jo,o.password]])]),(0,r.Lk)("div",F,[t[8]||(t[8]=(0,r.Lk)("label",{for:"confirmPassword"},"PotwierdÅº hasÅ‚o",-1)),(0,r.bo)((0,r.Lk)("input",{id:"confirmPassword","onUpdate:modelValue":t[3]||(t[3]=e=>o.confirmPassword=e),type:"password",placeholder:"PotwierdÅº hasÅ‚o",required:""},null,512),[[s.Jo,o.confirmPassword]])]),o.error?((0,r.uX)(),(0,r.CE)("div",j,(0,u.v_)(o.error),1)):(0,r.Q3)("",!0),o.success?((0,r.uX)(),(0,r.CE)("div",A,(0,u.v_)(o.success),1)):(0,r.Q3)("",!0),(0,r.Lk)("button",{type:"submit",class:"submit-btn",disabled:o.loading},(0,u.v_)(o.loading?"Rejestracja...":"Zarejestruj siÄ™"),9,X)],32),(0,r.Lk)("div",$,[(0,r.Lk)("p",null,[t[10]||(t[10]=(0,r.eW)("Masz juÅ¼ konto? ",-1)),(0,r.bF)(l,{to:"/login"},{default:(0,r.k6)(()=>[...t[9]||(t[9]=[(0,r.eW)("Zaloguj siÄ™",-1)])]),_:1})])])]),t[12]||(t[12]=(0,r.Fv)('<footer class="page-footer" data-v-66799b14><div class="footer-content" data-v-66799b14><a href="mailto:kontakt@test.com" class="footer-link" data-v-66799b14><div class="icon-wrapper" data-v-66799b14><svg class="envelope-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-66799b14><rect x="3" y="5" width="18" height="14" rx="2" stroke="currentColor" stroke-width="2" data-v-66799b14></rect><path d="M3 7L12 13L21 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-66799b14></path></svg><span class="icon-letter" data-v-66799b14>i</span></div><span data-v-66799b14>kontakt@test.com</span></a><a href="tel:123213321" class="footer-link" data-v-66799b14><svg class="phone-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-66799b14><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-66799b14></path></svg><span data-v-66799b14>123-213-321</span></a></div></footer>',1))])}const P={name:"Register",data(){return{username:"",email:"",password:"",confirmPassword:"",error:"",success:"",loading:!1,apiUrl:"http://localhost:8000/api"}},mounted(){const e=localStorage.getItem("theme")||"purpleDream";C(e);const t=localStorage.getItem("textSize")||"medium";document.body.classList.add(E(t))},methods:{async handleRegister(){if(this.error="",this.success="",this.password===this.confirmPassword)if(this.password.length<6)this.error="HasÅ‚o musi mieÄ‡ co najmniej 6 znakÃ³w";else{this.loading=!0;try{const e=await fetch(`${this.apiUrl}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,email:this.email,password:this.password})}),t=await e.json();e.ok?(this.success="Rejestracja zakoÅ„czona pomyÅ›lnie! Przekierowywanie...",setTimeout(()=>{this.$router.push("/login")},2e3)):this.error=t.error||"BÅ‚Ä…d rejestracji"}catch(e){console.error("Registration error:",e),this.error="WystÄ…piÅ‚ bÅ‚Ä…d podczas rejestracji"}finally{this.loading=!1}}else this.error="HasÅ‚a nie sÄ… identyczne"}}},_=(0,l.A)(P,[["render",O],["__scopeId","data-v-66799b14"]]),B=_,Q={class:"dashboard-wrapper"},R={class:"dashboard-container"},G={class:"sidebar"},N={class:"sidebar-header"},W={class:"user-info"},J={class:"avatar"},q={class:"sidebar-nav"},K={class:"main-content"},H={key:0,class:"content-section"},Z={key:1,class:"content-section"},V={key:2,class:"content-section"},Y={key:3,class:"content-section"};function ee(e,t,a,s,i,o){const n=(0,r.g2)("Friends"),l=(0,r.g2)("Events"),d=(0,r.g2)("Settings"),c=(0,r.g2)("ChatRoom");return(0,r.uX)(),(0,r.CE)("div",Q,[(0,r.Lk)("div",R,[(0,r.Lk)("div",G,[(0,r.Lk)("div",N,[t[4]||(t[4]=(0,r.Fv)('<div class="logo-container" data-v-1471bd0d><svg class="logo-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" data-v-1471bd0d><defs data-v-1471bd0d><linearGradient id="logoGradientDash" x1="0%" y1="0%" x2="100%" y2="100%" data-v-1471bd0d><stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1;" data-v-1471bd0d></stop><stop offset="100%" style="stop-color:#6d28d9;stop-opacity:1;" data-v-1471bd0d></stop></linearGradient></defs><circle cx="30" cy="50" r="25" fill="url(#logoGradientDash)" opacity="0.8" data-v-1471bd0d></circle><circle cx="70" cy="50" r="25" fill="url(#logoGradientDash)" opacity="0.8" data-v-1471bd0d></circle><path d="M 30 35 Q 50 20 70 35" stroke="#a78bfa" stroke-width="4" fill="none" stroke-linecap="round" data-v-1471bd0d></path><circle cx="30" cy="45" r="4" fill="white" data-v-1471bd0d></circle><circle cx="70" cy="45" r="4" fill="white" data-v-1471bd0d></circle><path d="M 20 55 Q 30 65 40 55" stroke="white" stroke-width="3" fill="none" stroke-linecap="round" data-v-1471bd0d></path><path d="M 60 55 Q 70 65 80 55" stroke="white" stroke-width="3" fill="none" stroke-linecap="round" data-v-1471bd0d></path></svg><h2 data-v-1471bd0d>PingMe</h2></div>',1)),(0,r.Lk)("div",W,[(0,r.Lk)("div",J,(0,u.v_)(i.userAvatar),1),(0,r.Lk)("span",null,(0,u.v_)(i.currentUser?.username),1)])]),(0,r.Lk)("nav",q,[(0,r.Lk)("button",{class:(0,u.C4)(["nav-btn",{active:"friends"===i.activeTab}]),onClick:t[0]||(t[0]=e=>o.switchTab("friends"))}," ðŸ‘¥ Znajomi ",2),(0,r.Lk)("button",{class:(0,u.C4)(["nav-btn",{active:"events"===i.activeTab}]),onClick:t[1]||(t[1]=e=>o.switchTab("events"))}," ðŸ“… Wydarzenia ",2),(0,r.Lk)("button",{class:(0,u.C4)(["nav-btn",{active:"settings"===i.activeTab}]),onClick:t[2]||(t[2]=e=>o.switchTab("settings"))}," âš™ï¸ Ustawienia ",2)]),(0,r.Lk)("button",{class:"logout-btn",onClick:t[3]||(t[3]=(...e)=>o.handleLogout&&o.handleLogout(...e))}," ðŸšª Wyloguj siÄ™ ")]),(0,r.Lk)("div",K,["friends"!==i.activeTab||i.selectedFriend?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",H,[(0,r.bF)(n,{currentUser:i.currentUser,onOpenChat:o.openChat},null,8,["currentUser","onOpenChat"])])),"events"===i.activeTab?((0,r.uX)(),(0,r.CE)("div",Z,[(0,r.bF)(l,{currentUser:i.currentUser},null,8,["currentUser"])])):(0,r.Q3)("",!0),"settings"===i.activeTab?((0,r.uX)(),(0,r.CE)("div",V,[(0,r.bF)(d,{currentUser:i.currentUser,onCloseSettings:o.closeSettings,onAvatarChanged:o.updateAvatar,onThemeChanged:o.handleThemeChange,onTextSizeChanged:o.handleTextSizeChange},null,8,["currentUser","onCloseSettings","onAvatarChanged","onThemeChanged","onTextSizeChanged"])])):(0,r.Q3)("",!0),i.selectedFriend?((0,r.uX)(),(0,r.CE)("div",Y,[(0,r.bF)(c,{currentUser:i.currentUser,friend:i.selectedFriend,onCloseChat:o.closeChat},null,8,["currentUser","friend","onCloseChat"])])):(0,r.Q3)("",!0)])]),t[5]||(t[5]=(0,r.Fv)('<footer class="dashboard-footer" data-v-1471bd0d><div class="footer-content" data-v-1471bd0d><a href="mailto:kontakt@test.com" class="footer-link" data-v-1471bd0d><div class="icon-wrapper" data-v-1471bd0d><svg class="envelope-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-1471bd0d><rect x="3" y="5" width="18" height="14" rx="2" stroke="currentColor" stroke-width="2" data-v-1471bd0d></rect><path d="M3 7L12 13L21 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-1471bd0d></path></svg><span class="icon-letter" data-v-1471bd0d>i</span></div><span data-v-1471bd0d>kontakt@test.com</span></a><a href="tel:123213321" class="footer-link" data-v-1471bd0d><svg class="phone-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-1471bd0d><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-1471bd0d></path></svg><span data-v-1471bd0d>123-213-321</span></a></div></footer>',1))])}const te={class:"friends-container"},ae={class:"friends-panel"},se={class:"panel-header"},re={key:0,class:"all-users-section"},ie={key:0,class:"empty-state"},oe={key:1,class:"users-list"},ne={class:"user-avatar"},le={class:"user-info"},de={class:"user-name"},ce={class:"user-email"},he=["onClick"],ue={key:1,class:"friend-badge"},ge={class:"friends-section"},pe={key:0,class:"empty-state"},ve={key:1,class:"friends-list"},me=["onClick"],ke={class:"friend-avatar"},ye={class:"friend-info"},fe={class:"friend-name"},be={key:0,class:"last-message"},we={class:"message-text"},Le={class:"message-meta"},Ce={class:"message-time"},Ee={class:"message-date"},Te={key:0,class:"read-status"},Se={key:1,class:"last-message no-messages"},ze=["onClick"];function De(e,t,a,i,o,n){return(0,r.uX)(),(0,r.CE)("div",te,[(0,r.Lk)("div",ae,[(0,r.Lk)("div",se,[t[2]||(t[2]=(0,r.Lk)("h2",null,"ðŸ‘¥ Znajomi",-1)),(0,r.Lk)("button",{class:"add-btn",onClick:t[0]||(t[0]=e=>o.showAllUsers=!o.showAllUsers)},(0,u.v_)(o.showAllUsers?"âŒ Zamknij":"âž• Dodaj znajomego"),1)]),o.showAllUsers?((0,r.uX)(),(0,r.CE)("div",re,[t[3]||(t[3]=(0,r.Lk)("h3",null,"Wszyscy uÅ¼ytkownicy",-1)),0===o.allUsers.length?((0,r.uX)(),(0,r.CE)("div",ie," Brak uÅ¼ytkownikÃ³w ")):((0,r.uX)(),(0,r.CE)("div",oe,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.availableUsers,e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"user-card"},[(0,r.Lk)("div",ne,(0,u.v_)(e.username.charAt(0).toUpperCase()),1),(0,r.Lk)("div",le,[(0,r.Lk)("div",de,(0,u.v_)(e.username),1),(0,r.Lk)("div",ce,(0,u.v_)(e.email),1)]),n.isFriend(e.id)?((0,r.uX)(),(0,r.CE)("span",ue,"âœ“ Znajomy")):((0,r.uX)(),(0,r.CE)("button",{key:0,class:"add-friend-btn",onClick:t=>n.addFriend(e.id)}," âž• Dodaj ",8,he))]))),128))]))])):(0,r.Q3)("",!0),(0,r.Lk)("div",ge,[(0,r.Lk)("h3",null,"Twoi znajomi ("+(0,u.v_)(o.friends.length)+")",1),0===o.friends.length?((0,r.uX)(),(0,r.CE)("div",pe," Nie masz jeszcze znajomych. Dodaj kogoÅ›! ")):((0,r.uX)(),(0,r.CE)("div",ve,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.friendsWithMessages,e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"friend-card",onClick:t=>n.startChat(e)},[(0,r.Lk)("div",ke,(0,u.v_)(e.username.charAt(0).toUpperCase()),1),(0,r.Lk)("div",ye,[(0,r.Lk)("div",fe,(0,u.v_)(e.username),1),e.lastMessage?((0,r.uX)(),(0,r.CE)("div",be,[(0,r.Lk)("span",we,(0,u.v_)(e.lastMessage.content),1),(0,r.Lk)("div",Le,[(0,r.Lk)("span",Ce,(0,u.v_)(n.formatTime(e.lastMessage.createdAt)),1),(0,r.Lk)("span",Ee,(0,u.v_)(n.formatDate(e.lastMessage.createdAt)),1),e.lastMessage.authorId!==a.currentUser.id?((0,r.uX)(),(0,r.CE)("span",Te,(0,u.v_)(e.lastMessage.isRead?"âœ“âœ“":"âœ“"),1)):(0,r.Q3)("",!0)])])):((0,r.uX)(),(0,r.CE)("div",Se," Brak wiadomoÅ›ci "))]),(0,r.Lk)("div",{class:"friend-actions",onClick:t[1]||(t[1]=(0,s.D$)(()=>{},["stop"]))},[(0,r.Lk)("button",{class:"chat-btn",onClick:t=>n.startChat(e)},"ðŸ’¬ Czat",8,ze)])],8,me))),128))]))])])])}const Ue={name:"Friends",props:{currentUser:{type:Object,required:!0}},data(){return{friends:[],allUsers:[],conversations:[],showAllUsers:!1,apiUrl:"http://localhost:8000/api"}},computed:{availableUsers(){return this.allUsers.filter(e=>e.id!==this.currentUser?.id)},friendsWithMessages(){return this.friends.map(e=>{const t=this.conversations.find(t=>t.participant.id===e.id);return{...e,lastMessage:t?.lastMessage||null}})}},mounted(){this.loadFriends(),this.loadAllUsers(),this.loadConversations(),this.conversationInterval=setInterval(()=>{this.loadConversations()},3e3)},beforeUnmount(){this.conversationInterval&&clearInterval(this.conversationInterval)},methods:{async loadFriends(){try{const e=await fetch(`${this.apiUrl}/auth/users/${this.currentUser.id}/friends`);e.ok&&(this.friends=await e.json())}catch(e){console.error("Error loading friends:",e)}},async loadAllUsers(){try{const e=await fetch(`${this.apiUrl}/auth/users`);e.ok&&(this.allUsers=await e.json())}catch(e){console.error("Error loading users:",e)}},async loadConversations(){try{const e=await fetch(`${this.apiUrl}/conversations/${this.currentUser.id}`);e.ok&&(this.conversations=await e.json())}catch(e){console.error("Error loading conversations:",e)}},async addFriend(e){try{const t=await fetch(`${this.apiUrl}/auth/users/${e}/friends`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentUserId:this.currentUser.id})});t.ok&&(await this.loadFriends(),await this.loadAllUsers())}catch(t){console.error("Error adding friend:",t)}},isFriend(e){return this.friends.some(t=>t.id===e)},startChat(e){this.$emit("open-chat",e)},formatTime(e){if(!e)return"";const t=new Date(e);return`${t.getHours()}:${String(t.getMinutes()).padStart(2,"0")}`},formatDate(e){if(!e)return"";const t=new Date(e),a=new Date,s=new Date(a);return s.setDate(s.getDate()-1),t.toDateString()===a.toDateString()?"Dzisiaj":t.toDateString()===s.toDateString()?"Wczoraj":`${t.getDate()}.${t.getMonth()+1}.${t.getFullYear()}`}}},xe=(0,l.A)(Ue,[["render",De],["__scopeId","data-v-063d9de1"]]),Me=xe,Ie={class:"chatroom-container"},Fe={class:"chatroom-header"},je={class:"chat-user-info"},Ae={class:"chat-avatar"},Xe={class:"chat-username"},$e={key:0,class:"drop-overlay"},Oe={key:1,class:"empty-chat-message"},Pe={class:"message-bubble"},_e={key:0,class:"message-attachment"},Be=["src","alt","onClick"],Qe={key:1,class:"message-attachment"},Re=["src"],Ge={key:2,class:"message-attachment"},Ne=["src"],We={key:3},Je=["onClick"],qe={class:"message-time"},Ke={key:0,class:"active-reactions"},He=["onClick"],Ze={key:1,class:"reactions-menu"},Ve=["onClick"],Ye={class:"input-area"},et={key:0,class:"attachment-menu"},tt={key:1,class:"gif-picker"},at={class:"gif-picker-header"},st={class:"gif-grid"},rt=["src","alt","onClick"],it={key:2,class:"upload-progress"},ot={key:3,class:"file-preview"},nt=["src"],lt=["src"],dt=["disabled"],ct=["src"];function ht(e,t,a,i,o,n){return(0,r.uX)(),(0,r.CE)("div",Ie,[(0,r.Lk)("div",Fe,[(0,r.Lk)("button",{class:"back-btn",onClick:t[0]||(t[0]=t=>e.$emit("close-chat"))}," â† PowrÃ³t "),(0,r.Lk)("div",je,[(0,r.Lk)("div",Ae,(0,u.v_)(a.friend.username.charAt(0).toUpperCase()),1),(0,r.Lk)("div",Xe,(0,u.v_)(a.friend.username),1)]),t[16]||(t[16]=(0,r.Lk)("div",{class:"header-spacer"},null,-1))]),(0,r.Lk)("div",{class:(0,u.C4)(["chat-area",{"drag-over":o.isDragging}]),ref:"chatArea",onDrop:t[1]||(t[1]=(...e)=>n.handleDrop&&n.handleDrop(...e)),onDragover:t[2]||(t[2]=(...e)=>n.handleDragOver&&n.handleDragOver(...e)),onDragleave:t[3]||(t[3]=(...e)=>n.handleDragLeave&&n.handleDragLeave(...e))},[o.isDragging?((0,r.uX)(),(0,r.CE)("div",$e," ðŸ“Ž UpuÅ›Ä‡ plik tutaj ")):(0,r.Q3)("",!0),0===o.messages.length?((0,r.uX)(),(0,r.CE)("div",Oe," Brak wiadomoÅ›ci. Zacznij konwersacjÄ™! ")):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.messages,e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:(0,u.C4)(["message",e.author?.id===a.currentUser.id?"sent":"received"])},[(0,r.Lk)("div",Pe,["image"===e.attachmentType?((0,r.uX)(),(0,r.CE)("div",_e,[(0,r.Lk)("img",{src:e.attachmentUrl,alt:e.attachmentName,class:"attachment-image",onClick:t=>n.openImageModal(e.attachmentUrl)},null,8,Be)])):"video"===e.attachmentType?((0,r.uX)(),(0,r.CE)("div",Qe,[(0,r.Lk)("video",{src:e.attachmentUrl,controls:"",class:"attachment-video"},null,8,Re)])):"gif"===e.attachmentType?((0,r.uX)(),(0,r.CE)("div",Ge,[(0,r.Lk)("img",{src:e.attachmentUrl,alt:"GIF",class:"attachment-gif"},null,8,Ne)])):(0,r.Q3)("",!0),e.content?((0,r.uX)(),(0,r.CE)("span",We,(0,u.v_)(e.content),1)):(0,r.Q3)("",!0),(0,r.Lk)("button",{class:"reaction-toggle-btn",onClick:t=>n.toggleReactionMenu(e.id),title:"Dodaj reakcjÄ™"}," + ",8,Je)]),(0,r.Lk)("div",qe,(0,u.v_)(n.formatTime(e.createdAt)),1),n.hasActiveReactions(e)?((0,r.uX)(),(0,r.CE)("div",Ke,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.reactionEmojis,(t,a)=>(0,r.bo)(((0,r.uX)(),(0,r.CE)("span",{key:a,class:"reaction-badge",onClick:t=>n.toggleReaction(e.id,a)},(0,u.v_)(t)+" "+(0,u.v_)(e.reactions[a]),9,He)),[[s.aG,e.reactions&&e.reactions[a]>0]])),128))])):(0,r.Q3)("",!0),o.openReactionMenuId===e.id?((0,r.uX)(),(0,r.CE)("div",Ze,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.reactionEmojis,(t,a)=>((0,r.uX)(),(0,r.CE)("button",{key:a,class:(0,u.C4)(["reaction-btn",{active:e.reactions&&e.reactions[a]>0}]),onClick:t=>n.addReaction(e.id,a)},(0,u.v_)(t),11,Ve))),128))])):(0,r.Q3)("",!0)],2))),128))],34),(0,r.Lk)("div",Ye,[(0,r.Lk)("button",{class:"attachment-btn",onClick:t[4]||(t[4]=(...e)=>n.toggleAttachmentMenu&&n.toggleAttachmentMenu(...e)),title:"Dodaj zaÅ‚Ä…cznik"}," ðŸ“Ž "),o.showAttachmentMenu?((0,r.uX)(),(0,r.CE)("div",et,[(0,r.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>n.openFileDialog&&n.openFileDialog(...e)),class:"menu-item"}," ðŸ–¼ï¸ Obraz/Wideo "),(0,r.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>n.toggleGifPicker&&n.toggleGifPicker(...e)),class:"menu-item"}," ðŸ˜„ GIF ")])):(0,r.Q3)("",!0),(0,r.Lk)("input",{ref:"fileInput",type:"file",accept:"image/*,video/*",onChange:t[7]||(t[7]=(...e)=>n.handleFileSelect&&n.handleFileSelect(...e)),style:{display:"none"}},null,544),o.showGifPicker?((0,r.uX)(),(0,r.CE)("div",tt,[(0,r.Lk)("div",at,[t[17]||(t[17]=(0,r.Lk)("h4",null,"Wybierz GIF",-1)),(0,r.Lk)("button",{onClick:t[8]||(t[8]=e=>o.showGifPicker=!1),class:"close-btn"},"Ã—")]),(0,r.Lk)("div",st,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.popularGifs,e=>((0,r.uX)(),(0,r.CE)("img",{key:e.id,src:e.url,alt:e.title,class:"gif-item",onClick:t=>n.sendGif(e.url)},null,8,rt))),128))])])):(0,r.Q3)("",!0),o.uploadProgress>0&&o.uploadProgress<100?((0,r.uX)(),(0,r.CE)("div",it," PrzesyÅ‚anie: "+(0,u.v_)(o.uploadProgress)+"% ",1)):(0,r.Q3)("",!0),o.selectedFile?((0,r.uX)(),(0,r.CE)("div",ot,["image"===o.selectedFileType?((0,r.uX)(),(0,r.CE)("img",{key:0,src:o.selectedFilePreview,alt:"Preview",class:"preview-image"},null,8,nt)):"video"===o.selectedFileType?((0,r.uX)(),(0,r.CE)("video",{key:1,src:o.selectedFilePreview,class:"preview-video"},null,8,lt)):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>n.clearSelectedFile&&n.clearSelectedFile(...e)),class:"clear-btn"},"Ã—")])):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>o.newMessage=e),type:"text",placeholder:"Napisz wiadomoÅ›Ä‡...",onKeyup:t[11]||(t[11]=(0,s.jR)((...e)=>n.sendMessage&&n.sendMessage(...e),["enter"])),ref:"messageInput"},null,544),[[s.Jo,o.newMessage]]),(0,r.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>n.sendMessage&&n.sendMessage(...e)),disabled:o.isSending},(0,u.v_)(o.isSending?"â³":"WyÅ›lij"),9,dt)]),o.showImageModal?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"image-modal",onClick:t[15]||(t[15]=(...e)=>n.closeImageModal&&n.closeImageModal(...e))},[(0,r.Lk)("div",{class:"modal-content",onClick:t[14]||(t[14]=(0,s.D$)(()=>{},["stop"]))},[(0,r.Lk)("img",{src:o.modalImageUrl,alt:"Full size image"},null,8,ct),(0,r.Lk)("button",{class:"modal-close",onClick:t[13]||(t[13]=(...e)=>n.closeImageModal&&n.closeImageModal(...e))},"Ã—")])])):(0,r.Q3)("",!0)])}const ut={name:"ChatRoom",props:{currentUser:{type:Object,required:!0},friend:{type:Object,required:!0}},data(){return{messages:[],newMessage:"",conversationId:null,openReactionMenuId:null,reactionEmojis:{heart:"â¤ï¸",like:"ðŸ‘",laugh:"ðŸ˜‚",wow:"ðŸ˜®"},apiUrl:"http://localhost:8000/api",showAttachmentMenu:!1,showGifPicker:!1,selectedFile:null,selectedFileType:null,selectedFilePreview:null,uploadProgress:0,isSending:!1,isDragging:!1,showImageModal:!1,modalImageUrl:"",popularGifs:[{id:1,url:"https://media.giphy.com/media/3oz8xAFtqoOUUrsh7W/giphy.gif",title:"Happy"},{id:2,url:"https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif",title:"Thumbs up"},{id:3,url:"https://media.giphy.com/media/g9582DNuQppxC/giphy.gif",title:"Laughing"},{id:4,url:"https://media.giphy.com/media/26ufdipQqU2lhNA4g/giphy.gif",title:"Yes"},{id:5,url:"https://media.giphy.com/media/3o7abKhOpu0NwenH3O/giphy.gif",title:"No"},{id:6,url:"https://media.giphy.com/media/3o6Zt481isNVuQI1l6/giphy.gif",title:"Thinking"},{id:7,url:"https://media.giphy.com/media/l3q2K5jinAlChoCLS/giphy.gif",title:"Love"},{id:8,url:"https://media.giphy.com/media/3o7bu3XilJ5BOiSGic/giphy.gif",title:"Dancing"},{id:9,url:"https://media.giphy.com/media/3ohzdIuqJoo8QdKlnW/giphy.gif",title:"Surprised"},{id:10,url:"https://media.giphy.com/media/3o6ZsYqXm8RnLhJb9K/giphy.gif",title:"Wow"},{id:11,url:"https://media.giphy.com/media/l0HlBO7eyXzSZkJri/giphy.gif",title:"Celebrate"},{id:12,url:"https://media.giphy.com/media/26tP4gFBQewkLnMv6/giphy.gif",title:"High Five"}]}},mounted(){this.initializeConversation(),this.messageInterval=setInterval(()=>{this.loadMessages()},2e3),document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){this.messageInterval&&clearInterval(this.messageInterval),this.conversationId&&this.markConversationAsRead(),document.removeEventListener("click",this.handleClickOutside)},methods:{async initializeConversation(){try{const e=`${this.apiUrl}/conversations/${this.currentUser.id}/with/${this.friend.id}`,t=await fetch(e),a=await t.json();this.conversationId=a.id,await this.loadMessages(),await this.markConversationAsRead()}catch(e){console.error("Error initializing conversation:",e)}},async loadMessages(){if(this.conversationId)try{const e=await fetch(`${this.apiUrl}/conversations/${this.conversationId}/messages`),t=await e.json();this.messages=Array.isArray(t)?t:[],this.$nextTick(()=>{this.scrollToBottom()})}catch(e){console.error("Error loading messages:",e)}},async sendMessage(){if((this.newMessage.trim()||this.selectedFile)&&this.conversationId){this.isSending=!0;try{let e=null;this.selectedFile&&(e=await this.uploadFile(this.selectedFile));const t={content:this.newMessage,authorId:this.currentUser.id};e&&(t.attachmentType=e.attachmentType,t.attachmentUrl=e.attachmentUrl,t.attachmentName=e.attachmentName);const a=await fetch(`${this.apiUrl}/conversations/${this.conversationId}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});a.ok&&(this.newMessage="",this.clearSelectedFile(),await this.loadMessages())}catch(e){console.error("Error sending message:",e),alert("BÅ‚Ä…d podczas wysyÅ‚ania wiadomoÅ›ci")}finally{this.isSending=!1}}},async uploadFile(e){const t=new FormData;t.append("file",e);try{const e=await fetch(`${this.apiUrl}/conversations/${this.conversationId}/messages/upload`,{method:"POST",body:t});if(e.ok){const t=await e.json();return t}throw new Error("Upload failed")}catch(a){throw console.error("Error uploading file:",a),a}},toggleAttachmentMenu(){this.showAttachmentMenu=!this.showAttachmentMenu,this.showAttachmentMenu&&(this.showGifPicker=!1)},openFileDialog(){this.$refs.fileInput.click(),this.showAttachmentMenu=!1},handleFileSelect(e){const t=e.target.files[0];if(!t)return;if(t.size>10485760)return void alert("Plik jest za duÅ¼y (max 10MB)");this.selectedFile=t,this.selectedFileType=t.type.startsWith("image/")?"image":"video";const a=new FileReader;a.onload=e=>{this.selectedFilePreview=e.target.result},a.readAsDataURL(t)},clearSelectedFile(){this.selectedFile=null,this.selectedFileType=null,this.selectedFilePreview=null,this.$refs.fileInput&&(this.$refs.fileInput.value="")},toggleGifPicker(){this.showGifPicker=!this.showGifPicker,this.showAttachmentMenu=!1},async sendGif(e){if(this.conversationId){this.isSending=!0;try{const t=await fetch(`${this.apiUrl}/conversations/${this.conversationId}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:this.newMessage||"",authorId:this.currentUser.id,attachmentType:"gif",attachmentUrl:e,attachmentName:"GIF"})});t.ok&&(this.newMessage="",this.showGifPicker=!1,await this.loadMessages())}catch(t){console.error("Error sending GIF:",t),alert("BÅ‚Ä…d podczas wysyÅ‚ania GIF")}finally{this.isSending=!1}}},handleDragOver(e){e.preventDefault(),this.isDragging=!0},handleDragLeave(e){e.preventDefault(),this.isDragging=!1},handleDrop(e){e.preventDefault(),this.isDragging=!1;const t=e.dataTransfer.files;if(t.length>0){const e=t[0];if(e.type.startsWith("image/")||e.type.startsWith("video/")){const t=new DataTransfer;t.items.add(e),this.$refs.fileInput&&(this.$refs.fileInput.files=t.files,this.handleFileSelect({target:{files:t.files}}))}else alert("ObsÅ‚ugiwane sÄ… tylko pliki obrazÃ³w i wideo")}},openImageModal(e){this.modalImageUrl=e,this.showImageModal=!0},closeImageModal(){this.showImageModal=!1,this.modalImageUrl=""},toggleReactionMenu(e){event.stopPropagation(),this.openReactionMenuId===e?this.openReactionMenuId=null:this.openReactionMenuId=e},handleClickOutside(e){const t=e.target.closest(".reactions-menu"),a=e.target.closest(".reaction-toggle-btn");t||a||(this.openReactionMenuId=null)},hasActiveReactions(e){return!!e.reactions&&Object.values(e.reactions).some(e=>e>0)},async addReaction(e,t){await this.toggleReaction(e,t),this.openReactionMenuId=null},async toggleReaction(e,t){if(this.conversationId)try{const a=await fetch(`${this.apiUrl}/conversations/${this.conversationId}/messages/${e}/reaction`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t})});a.ok&&await this.loadMessages()}catch(a){console.error("Error adding reaction:",a)}},async markConversationAsRead(){if(this.conversationId)try{await fetch(`${this.apiUrl}/conversations/${this.conversationId}/messages/mark-read`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:this.currentUser.id})})}catch(e){console.error("Error marking messages as read:",e)}},formatTime(e){if(!e)return"";const t=new Date(e),a=new Date,s=a-t,r=Math.floor(s/6e4),i=(Math.floor(s/36e5),Math.floor(s/864e5));return 0===i?r<1?"teraz":r<60?`${r} min temu`:`${t.getHours()}:${String(t.getMinutes()).padStart(2,"0")}`:1===i?`wczoraj ${t.getHours()}:${String(t.getMinutes()).padStart(2,"0")}`:`${t.getDate()}.${t.getMonth()+1} ${t.getHours()}:${String(t.getMinutes()).padStart(2,"0")}`},scrollToBottom(){const e=this.$refs.chatArea;e&&(e.scrollTop=e.scrollHeight)}}},gt=(0,l.A)(ut,[["render",ht],["__scopeId","data-v-1bdf7e45"]]),pt=gt,vt={class:"settings-container"},mt={class:"settings-panel"},kt={class:"settings-header"},yt={class:"settings-content"},ft={class:"settings-section"},bt={class:"theme-grid"},wt=["onClick"],Lt={class:"theme-name"},Ct={key:0,class:"theme-check"},Et={class:"settings-section"},Tt={class:"text-size-options"},St=["onClick"],zt={class:"settings-section"},Dt={class:"avatar-grid"},Ut=["onClick"],xt={class:"avatar-emoji"},Mt={key:0,class:"avatar-check"},It={class:"settings-section"},Ft={class:"user-details"},jt={class:"settings-section save-section"},At=["disabled"];function Xt(e,t,a,s,i,o){return(0,r.uX)(),(0,r.CE)("div",vt,[(0,r.Lk)("div",mt,[(0,r.Lk)("div",kt,[(0,r.Lk)("button",{class:"back-btn",onClick:t[0]||(t[0]=t=>e.$emit("close-settings"))}," â† PowrÃ³t "),t[2]||(t[2]=(0,r.Lk)("h2",null,"âš™ï¸ Ustawienia",-1))]),(0,r.Lk)("div",yt,[(0,r.Lk)("div",ft,[t[3]||(t[3]=(0,r.Lk)("h3",null,"ðŸŽ¨ Motyw",-1)),(0,r.Lk)("div",bt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.themes,(e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:(0,u.C4)(["theme-card",{active:i.currentTheme===t}]),onClick:e=>o.changeTheme(t)},[(0,r.Lk)("div",{class:"theme-preview",style:(0,u.Tr)(o.getThemePreview(e))},null,4),(0,r.Lk)("span",Lt,(0,u.v_)(e.name),1),i.currentTheme===t?((0,r.uX)(),(0,r.CE)("span",Ct,"âœ“")):(0,r.Q3)("",!0)],10,wt))),128))])]),(0,r.Lk)("div",Et,[t[4]||(t[4]=(0,r.Lk)("h3",null,"ðŸ“ Rozmiar tekstu",-1)),(0,r.Lk)("div",Tt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.textSizes,e=>((0,r.uX)(),(0,r.CE)("button",{key:e.value,class:(0,u.C4)(["size-btn",{active:i.currentTextSize===e.value}]),onClick:t=>o.changeTextSize(e.value)},(0,u.v_)(e.label),11,St))),128))]),(0,r.Lk)("div",{class:(0,u.C4)(["text-preview",o.getTextSizeClass(i.currentTextSize)])}," PrzykÅ‚adowy tekst wiadomoÅ›ci ",2)]),(0,r.Lk)("div",zt,[t[5]||(t[5]=(0,r.Lk)("h3",null,"ðŸŽ­ Avatar",-1)),(0,r.Lk)("div",Dt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.avatars,e=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:(0,u.C4)(["avatar-option",{active:i.currentAvatar===e}]),onClick:t=>o.changeAvatar(e)},[(0,r.Lk)("span",xt,(0,u.v_)(e),1),i.currentAvatar===e?((0,r.uX)(),(0,r.CE)("span",Mt,"âœ“")):(0,r.Q3)("",!0)],10,Ut))),128))])]),(0,r.Lk)("div",It,[t[8]||(t[8]=(0,r.Lk)("h3",null,"ðŸ‘¤ Informacje o koncie",-1)),(0,r.Lk)("div",Ft,[(0,r.Lk)("p",null,[t[6]||(t[6]=(0,r.Lk)("strong",null,"Nazwa uÅ¼ytkownika:",-1)),(0,r.eW)(" "+(0,u.v_)(a.currentUser?.username),1)]),(0,r.Lk)("p",null,[t[7]||(t[7]=(0,r.Lk)("strong",null,"Email:",-1)),(0,r.eW)(" "+(0,u.v_)(a.currentUser?.email),1)])])]),(0,r.Lk)("div",jt,[(0,r.Lk)("button",{class:"save-btn",onClick:t[1]||(t[1]=(...e)=>o.saveSettings&&o.saveSettings(...e)),disabled:i.isSaving},(0,u.v_)(i.isSaving?"Zapisywanie...":"ðŸ’¾ Zapisz ustawienia"),9,At),i.saveMessage?((0,r.uX)(),(0,r.CE)("p",{key:0,class:(0,u.C4)(["save-message",i.saveMessageType])},(0,u.v_)(i.saveMessage),3)):(0,r.Q3)("",!0)])])])])}const $t={name:"Settings",props:{currentUser:{type:Object,required:!0}},data(){return{themes:w,avatars:L,currentTheme:localStorage.getItem("theme")||"purpleDream",currentTextSize:localStorage.getItem("textSize")||"medium",currentAvatar:localStorage.getItem("avatar")||"ðŸ¦",textSizes:[{value:"small",label:"MaÅ‚y"},{value:"medium",label:"Åšredni"},{value:"large",label:"DuÅ¼y"}],apiUrl:"http://localhost:8000/api",isSaving:!1,saveMessage:"",saveMessageType:""}},mounted(){C(this.currentTheme),this.applyTextSize(this.currentTextSize)},methods:{getTextSizeClass:E,changeTheme(e){this.currentTheme=e,localStorage.setItem("theme",e),C(e),this.$emit("theme-changed",e)},changeTextSize(e){this.currentTextSize=e,localStorage.setItem("textSize",e),this.applyTextSize(e),this.$emit("text-size-changed",e)},applyTextSize(e){document.body.classList.remove("text-size-small","text-size-medium","text-size-large"),document.body.classList.add(E(e))},changeAvatar(e){this.currentAvatar=e,localStorage.setItem("avatar",e),this.$emit("avatar-changed",e)},getThemePreview(e){return{background:`linear-gradient(135deg, ${e.colors.primary} 0%, ${e.colors.primaryDark} 100%)`}},async saveSettings(){this.isSaving=!0,this.saveMessage="",this.saveMessageType="";try{const e=await fetch(`${this.apiUrl}/auth/users/${this.currentUser.id}/settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({theme:this.currentTheme,textSize:this.currentTextSize,avatar:this.currentAvatar})});if(e.ok)this.saveMessage="âœ“ Ustawienia zostaÅ‚y zapisane pomyÅ›lnie!",this.saveMessageType="success",setTimeout(()=>{this.saveMessage=""},3e3);else{const t=await e.json();this.saveMessage=t.error||"Nie udaÅ‚o siÄ™ zapisaÄ‡ ustawieÅ„",this.saveMessageType="error"}}catch(e){console.error("Save settings error:",e),this.saveMessage="WystÄ…piÅ‚ bÅ‚Ä…d podczas zapisywania ustawieÅ„",this.saveMessageType="error"}finally{this.isSaving=!1}}}},Ot=(0,l.A)($t,[["render",Xt],["__scopeId","data-v-60f9f97f"]]),Pt=Ot,_t={class:"events-container"},Bt={class:"events-panel"},Qt={class:"panel-header"},Rt={key:0,class:"add-event-form"},Gt={class:"form-row"},Nt={class:"events-content"},Wt={class:"calendar-section"},Jt={class:"calendar-header"},qt={class:"calendar-grid"},Kt=["onClick"],Ht={class:"day-number"},Zt={key:0,class:"event-dot"},Vt={class:"events-list-section"},Yt={key:0,class:"empty-state"},ea={key:1,class:"events-list"},ta={class:"event-header"},aa={class:"event-time"},sa={key:0,class:"event-description"},ra={class:"event-meta"},ia={class:"event-author"},oa=["onClick"],na={class:"todo-section"},la={class:"todo-header"},da={key:0,class:"add-todo-form"},ca={class:"todo-list"},ha=["checked","onChange"],ua=["onClick"],ga={key:0,class:"empty-state-small"};function pa(e,t,a,i,o,n){return(0,r.uX)(),(0,r.CE)("div",_t,[(0,r.Lk)("div",Bt,[(0,r.Lk)("div",Qt,[t[12]||(t[12]=(0,r.Lk)("h2",null,"ðŸ“… Wydarzenia",-1)),(0,r.Lk)("button",{class:"add-event-btn",onClick:t[0]||(t[0]=e=>o.showAddEventForm=!o.showAddEventForm)},(0,u.v_)(o.showAddEventForm?"âŒ Anuluj":"âž• Dodaj wydarzenie"),1)]),o.showAddEventForm?((0,r.uX)(),(0,r.CE)("div",Rt,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.newEvent.title=e),placeholder:"TytuÅ‚ wydarzenia"},null,512),[[s.Jo,o.newEvent.title]]),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.newEvent.description=e),placeholder:"Opis (opcjonalnie)"},null,512),[[s.Jo,o.newEvent.description]]),(0,r.Lk)("div",Gt,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.newEvent.date=e),type:"date"},null,512),[[s.Jo,o.newEvent.date]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.newEvent.time=e),type:"time"},null,512),[[s.Jo,o.newEvent.time]])]),(0,r.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>n.addEvent&&n.addEvent(...e)),class:"save-btn"},"Zapisz wydarzenie")])):(0,r.Q3)("",!0),(0,r.Lk)("div",Nt,[(0,r.Lk)("div",Wt,[(0,r.Lk)("div",Jt,[(0,r.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>n.previousMonth&&n.previousMonth(...e)),class:"nav-btn"},"â®"),(0,r.Lk)("h3",null,(0,u.v_)(n.currentMonthYear),1),(0,r.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>n.nextMonth&&n.nextMonth(...e)),class:"nav-btn"},"â¯")]),(0,r.Lk)("div",qt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.daysOfWeek,e=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:"calendar-day-name"},(0,u.v_)(e),1))),128)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.calendarDays,(e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:(0,u.C4)(["calendar-day",{"other-month":e.otherMonth,today:e.isToday,selected:e.date===o.selectedDate,"has-events":n.dayHasEvents(e.date)}]),onClick:t=>n.selectDate(e.date)},[(0,r.Lk)("span",Ht,(0,u.v_)(e.day),1),n.dayHasEvents(e.date)?((0,r.uX)(),(0,r.CE)("span",Zt)):(0,r.Q3)("",!0)],10,Kt))),128))])]),(0,r.Lk)("div",Vt,[(0,r.Lk)("h3",null,"Wydarzenia - "+(0,u.v_)(n.selectedDateFormatted),1),0===n.selectedDayEvents.length?((0,r.uX)(),(0,r.CE)("div",Yt," Brak wydarzeÅ„ na ten dzieÅ„ ")):((0,r.uX)(),(0,r.CE)("div",ea,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.selectedDayEvents,e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"event-card"},[(0,r.Lk)("div",ta,[(0,r.Lk)("h4",null,(0,u.v_)(e.title),1),(0,r.Lk)("span",aa,(0,u.v_)(e.time),1)]),e.description?((0,r.uX)(),(0,r.CE)("p",sa,(0,u.v_)(e.description),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",ra,[(0,r.Lk)("span",ia,(0,u.v_)(e.author.username),1),(0,r.Lk)("button",{onClick:t=>n.deleteEvent(e.id),class:"delete-btn"},"ðŸ—‘ï¸",8,oa)])]))),128))]))]),(0,r.Lk)("div",na,[(0,r.Lk)("div",la,[t[13]||(t[13]=(0,r.Lk)("h3",null,"ðŸ“ Rzeczy do zrobienia",-1)),(0,r.Lk)("button",{onClick:t[8]||(t[8]=e=>o.showAddTodoForm=!o.showAddTodoForm),class:"add-todo-btn"},"+")]),o.showAddTodoForm?((0,r.uX)(),(0,r.CE)("div",da,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>o.newTodo=e),placeholder:"Nowe zadanie...",onKeyup:t[10]||(t[10]=(0,s.jR)((...e)=>n.addTodo&&n.addTodo(...e),["enter"]))},null,544),[[s.Jo,o.newTodo]]),(0,r.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>n.addTodo&&n.addTodo(...e))},"Dodaj")])):(0,r.Q3)("",!0),(0,r.Lk)("div",ca,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.todos,e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"todo-item"},[(0,r.Lk)("input",{type:"checkbox",checked:e.completed,onChange:t=>n.toggleTodo(e.id)},null,40,ha),(0,r.Lk)("span",{class:(0,u.C4)({completed:e.completed})},(0,u.v_)(e.text),3),(0,r.Lk)("button",{onClick:t=>n.deleteTodo(e.id),class:"delete-btn-small"},"Ã—",8,ua)]))),128)),0===o.todos.length?((0,r.uX)(),(0,r.CE)("div",ga," Brak zadaÅ„ ")):(0,r.Q3)("",!0)])])])])])}const va={name:"Events",props:{currentUser:{type:Object,required:!0}},data(){return{currentDate:new Date,selectedDate:(new Date).toISOString().split("T")[0],events:[],todos:[],showAddEventForm:!1,showAddTodoForm:!1,newEvent:{title:"",description:"",date:(new Date).toISOString().split("T")[0],time:"12:00"},newTodo:"",daysOfWeek:["Pn","Wt","Åšr","Cz","Pt","Sb","Nd"],apiUrl:"http://localhost:8000/api"}},computed:{currentMonthYear(){return this.currentDate.toLocaleDateString("pl-PL",{month:"long",year:"numeric"})},selectedDateFormatted(){const e=new Date(this.selectedDate);return e.toLocaleDateString("pl-PL",{day:"numeric",month:"long",year:"numeric"})},calendarDays(){const e=this.currentDate.getFullYear(),t=this.currentDate.getMonth(),a=new Date(e,t,1),s=new Date(e,t+1,0);let r=a.getDay()-1;-1===r&&(r=6);const i=[],o=new Date(e,t,0).getDate();for(let d=r-1;d>=0;d--){const a=o-d,s=new Date(e,t-1,a);i.push({day:a,date:s.toISOString().split("T")[0],otherMonth:!0,isToday:!1})}const n=(new Date).toISOString().split("T")[0];for(let d=1;d<=s.getDate();d++){const a=new Date(e,t,d),s=a.toISOString().split("T")[0];i.push({day:d,date:s,otherMonth:!1,isToday:s===n})}const l=42-i.length;for(let d=1;d<=l;d++){const a=new Date(e,t+1,d);i.push({day:d,date:a.toISOString().split("T")[0],otherMonth:!0,isToday:!1})}return i},selectedDayEvents(){return this.events.filter(e=>e.date===this.selectedDate)}},mounted(){this.loadEvents(),this.loadTodos()},methods:{previousMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1)},nextMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1)},selectDate(e){this.selectedDate=e},dayHasEvents(e){return this.events.some(t=>t.date===e)},async loadEvents(){try{const e=await fetch(`${this.apiUrl}/events`);e.ok&&(this.events=await e.json())}catch(e){console.error("Error loading events:",e)}},async addEvent(){if(this.newEvent.title.trim()){if(!this.currentUser||!this.currentUser.id)return alert("BÅ‚Ä…d: Brak zalogowanego uÅ¼ytkownika"),void console.error("currentUser:",this.currentUser);try{const e=await fetch(`${this.apiUrl}/events`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...this.newEvent,userId:this.currentUser.id})});if(e.ok)await this.loadEvents(),this.newEvent={title:"",description:"",date:(new Date).toISOString().split("T")[0],time:"12:00"},this.showAddEventForm=!1,alert("Wydarzenie dodane pomyÅ›lnie!");else{const t=await e.json();alert("BÅ‚Ä…d podczas dodawania wydarzenia: "+(t.error||"Nieznany bÅ‚Ä…d")),console.error("Response error:",t)}}catch(e){console.error("Error adding event:",e),alert("BÅ‚Ä…d poÅ‚Ä…czenia z serwerem")}}else alert("TytuÅ‚ wydarzenia jest wymagany")},async deleteEvent(e){try{const t=await fetch(`${this.apiUrl}/events/${e}`,{method:"DELETE"});t.ok&&await this.loadEvents()}catch(t){console.error("Error deleting event:",t)}},async loadTodos(){try{const e=await fetch(`${this.apiUrl}/todos/${this.currentUser.id}`);e.ok&&(this.todos=await e.json())}catch(e){console.error("Error loading todos:",e)}},async addTodo(){if(this.newTodo.trim())if(this.currentUser&&this.currentUser.id)try{const e=await fetch(`${this.apiUrl}/todos`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:this.newTodo,userId:this.currentUser.id})});if(e.ok)await this.loadTodos(),this.newTodo="",this.showAddTodoForm=!1;else{const t=await e.json();alert("BÅ‚Ä…d podczas dodawania zadania: "+(t.error||"Nieznany bÅ‚Ä…d"))}}catch(e){console.error("Error adding todo:",e),alert("BÅ‚Ä…d poÅ‚Ä…czenia z serwerem")}else alert("BÅ‚Ä…d: Brak zalogowanego uÅ¼ytkownika");else alert("TreÅ›Ä‡ zadania jest wymagana")},async toggleTodo(e){try{const t=this.todos.find(t=>t.id===e),a=await fetch(`${this.apiUrl}/todos/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:!t.completed})});a.ok&&await this.loadTodos()}catch(t){console.error("Error toggling todo:",t)}},async deleteTodo(e){try{const t=await fetch(`${this.apiUrl}/todos/${e}`,{method:"DELETE"});t.ok&&await this.loadTodos()}catch(t){console.error("Error deleting todo:",t)}}}},ma=(0,l.A)(va,[["render",pa],["__scopeId","data-v-9463b0a4"]]),ka=ma,ya={name:"Dashboard",components:{Friends:Me,ChatRoom:pt,Settings:Pt,Events:ka},data(){return{currentUser:null,activeTab:"friends",selectedFriend:null,userAvatar:localStorage.getItem("avatar")||"ðŸ¦",apiUrl:"http://localhost:8000/api"}},async mounted(){const e=localStorage.getItem("user");e&&(this.currentUser=JSON.parse(e),await this.loadUserSettings());const t=localStorage.getItem("theme")||"purpleDream";C(t);const a=localStorage.getItem("textSize")||"medium";document.body.classList.add(E(a))},methods:{handleLogout(){localStorage.removeItem("user"),this.$router.push("/login")},openChat(e){this.selectedFriend=e,this.activeTab="friends"},closeChat(){this.selectedFriend=null},switchTab(e){this.activeTab=e,this.selectedFriend=null},closeSettings(){this.activeTab="friends"},updateAvatar(e){this.userAvatar=e},handleThemeChange(e){C(e)},handleTextSizeChange(e){document.body.classList.remove("text-size-small","text-size-medium","text-size-large"),document.body.classList.add(E(e))},async loadUserSettings(){try{const e=await fetch(`${this.apiUrl}/auth/users/${this.currentUser.id}/settings`);if(e.ok){const t=await e.json();t.theme&&(localStorage.setItem("theme",t.theme),C(t.theme)),t.textSize&&(localStorage.setItem("textSize",t.textSize),document.body.classList.remove("text-size-small","text-size-medium","text-size-large"),document.body.classList.add(E(t.textSize))),t.avatar&&(localStorage.setItem("avatar",t.avatar),this.userAvatar=t.avatar)}}catch(e){console.error("Error loading user settings:",e)}}}},fa=(0,l.A)(ya,[["render",ee],["__scopeId","data-v-1471bd0d"]]),ba=fa,wa=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:z},{path:"/register",name:"Register",component:B},{path:"/dashboard",name:"Dashboard",component:ba,meta:{requiresAuth:!0}}],La=(0,h.aE)({history:(0,h.LA)(),routes:wa});La.beforeEach((e,t,a)=>{const s=localStorage.getItem("user");e.meta.requiresAuth&&!s?a("/login"):"/login"!==e.path&&"/register"!==e.path||!s?a():a("/dashboard")});const Ca=La;(0,s.Ef)(c).use(Ca).mount("#app")}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,a),i.exports}a.m=e,(()=>{var e=[];a.O=(t,s,r,i)=>{if(!s){var o=1/0;for(c=0;c<e.length;c++){for(var[s,r,i]=e[c],n=!0,l=0;l<s.length;l++)(!1&i||o>=i)&&Object.keys(a.O).every(e=>a.O[e](s[l]))?s.splice(l--,1):(n=!1,i<o&&(o=i));if(n){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[s,r,i]}})(),(()=>{a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={524:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var r,i,[o,n,l]=s,d=0;if(o.some(t=>0!==e[t])){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(l)var c=l(a)}for(t&&t(s);d<o.length;d++)i=o[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=a.O(void 0,[504],()=>a(571));s=a.O(s)})();
//# sourceMappingURL=app.95f81561.js.map