{"version":3,"file":"js/app.92e9fb3d.js","mappings":"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","sources":["webpack://frontend/./src/App.vue","webpack://frontend/./src/App.vue?7ccd","webpack://frontend/./src/components/Login.vue","webpack://frontend/./src/themes.js","webpack://frontend/./src/components/Login.vue?38a9","webpack://frontend/./src/components/Register.vue","webpack://frontend/./src/components/Register.vue?0e3f","webpack://frontend/./src/components/Dashboard.vue","webpack://frontend/./src/components/Friends.vue","webpack://frontend/./src/components/Friends.vue?7ee7","webpack://frontend/./src/components/Events.vue","webpack://frontend/./src/components/Events.vue?f299","webpack://frontend/./src/components/Gallery.vue","webpack://frontend/./src/components/Gallery.vue?b669","webpack://frontend/./src/components/Settings.vue","webpack://frontend/./src/components/Settings.vue?b3ff","webpack://frontend/./src/components/ChatRoom.vue","webpack://frontend/./src/utils/encryption.js","webpack://frontend/./src/components/ChatRoom.vue?b738","webpack://frontend/./src/components/Dashboard.vue?b002","webpack://frontend/./src/router.js","webpack://frontend/./src/utils/antiDebug.js","webpack://frontend/./src/main.js","webpack://frontend/webpack/bootstrap","webpack://frontend/webpack/runtime/chunk loaded","webpack://frontend/webpack/runtime/compat get default export","webpack://frontend/webpack/runtime/define property getters","webpack://frontend/webpack/runtime/global","webpack://frontend/webpack/runtime/hasOwnProperty shorthand","webpack://frontend/webpack/runtime/jsonp chunk loading","webpack://frontend/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n:root {\n  /* Default Purple Dream Theme */\n  --color-primary: #8b5cf6;\n  --color-primaryDark: #6d28d9;\n  --color-primaryLight: #a78bfa;\n  --color-primaryLighter: #c4b5fd;\n  --color-background1: #1a1a2e;\n  --color-background2: #16213e;\n  --color-background3: #0f0f1e;\n  --color-cardBg: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%);\n  --color-border: rgba(139, 92, 246, 0.3);\n  --color-text: #c4b5fd;\n  --color-textLight: rgba(196, 181, 253, 0.7);\n  --color-success: #86efac;\n  --color-error: #fca5a5;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  margin: 0;\n  padding: 0;\n  background: linear-gradient(135deg, var(--color-background1) 0%, var(--color-background2) 50%, var(--color-background3) 100%);\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  overflow: hidden;\n  transition: all 0.3s ease;\n}\n\n/* Text Size Classes */\nbody.text-size-small {\n  font-size: 14px;\n}\n\nbody.text-size-medium {\n  font-size: 16px;\n}\n\nbody.text-size-large {\n  font-size: 18px;\n}\n\nbody.text-size-small h1 {\n  font-size: 28px;\n}\n\nbody.text-size-medium h1 {\n  font-size: 36px;\n}\n\nbody.text-size-large h1 {\n  font-size: 42px;\n}\n\nbody.text-size-small h2 {\n  font-size: 22px;\n}\n\nbody.text-size-medium h2 {\n  font-size: 28px;\n}\n\nbody.text-size-large h2 {\n  font-size: 32px;\n}\n\nbody.text-size-small h3 {\n  font-size: 16px;\n}\n\nbody.text-size-medium h3 {\n  font-size: 20px;\n}\n\nbody.text-size-large h3 {\n  font-size: 24px;\n}\n\n#app {\n  width: 100%;\n  height: 100vh;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=bcb87b9c\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=bcb87b9c&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"auth-container\">\n    <div class=\"auth-card\">\n      <div class=\"auth-header\">\n        <div class=\"logo-container\">\n          <svg class=\"logo-icon\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n              <linearGradient id=\"logoGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                <stop offset=\"0%\" style=\"stop-color:var(--color-primary);stop-opacity:1\" />\n                <stop offset=\"100%\" style=\"stop-color:var(--color-primaryDark);stop-opacity:1\" />\n              </linearGradient>\n            </defs>\n            <circle cx=\"30\" cy=\"50\" r=\"25\" fill=\"url(#logoGradient)\" opacity=\"0.8\"/>\n            <circle cx=\"70\" cy=\"50\" r=\"25\" fill=\"url(#logoGradient)\" opacity=\"0.8\"/>\n            <path d=\"M 30 35 Q 50 20 70 35\" stroke=\"var(--color-primaryLight)\" stroke-width=\"4\" fill=\"none\" stroke-linecap=\"round\"/>\n            <circle cx=\"30\" cy=\"45\" r=\"4\" fill=\"white\"/>\n            <circle cx=\"70\" cy=\"45\" r=\"4\" fill=\"white\"/>\n            <path d=\"M 20 55 Q 30 65 40 55\" stroke=\"white\" stroke-width=\"3\" fill=\"none\" stroke-linecap=\"round\"/>\n            <path d=\"M 60 55 Q 70 65 80 55\" stroke=\"white\" stroke-width=\"3\" fill=\"none\" stroke-linecap=\"round\"/>\n          </svg>\n          <h1>PingMe</h1>\n        </div>\n        <p>Zaloguj si do swojego konta</p>\n      </div>\n\n      <form @submit.prevent=\"handleLogin\" class=\"auth-form\">\n        <div class=\"login-type-section\">\n          <label class=\"login-type-label\">Logowanie</label>\n          <div class=\"login-type-buttons\">\n            <button\n              type=\"button\"\n              class=\"login-type-btn\"\n              :class=\"{ active: loginType === 'username' }\"\n              @click=\"loginType = 'username'\"\n            >\n              Login\n            </button>\n            <button\n              type=\"button\"\n              class=\"login-type-btn\"\n              :class=\"{ active: loginType === 'email' }\"\n              @click=\"loginType = 'email'\"\n            >\n              Mail\n            </button>\n          </div>\n        </div>\n\n        <div class=\"form-group\" v-if=\"loginType === 'email'\">\n          <label for=\"email\">Email</label>\n          <input\n            id=\"email\"\n            v-model=\"email\"\n            type=\"email\"\n            placeholder=\"Wprowad swj email\"\n            :required=\"loginType === 'email'\"\n          />\n        </div>\n\n        <div class=\"form-group\" v-if=\"loginType === 'username'\">\n          <label for=\"username\">Nazwa uytkownika</label>\n          <input\n            id=\"username\"\n            v-model=\"username\"\n            type=\"text\"\n            placeholder=\"Wprowad swoj nazw uytkownika\"\n            :required=\"loginType === 'username'\"\n          />\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"password\">Haso</label>\n          <input\n            id=\"password\"\n            v-model=\"password\"\n            type=\"password\"\n            placeholder=\"Wprowad haso\"\n            required\n          />\n        </div>\n\n        <div v-if=\"error\" class=\"error-message\">\n          {{ error }}\n        </div>\n\n        <button type=\"submit\" class=\"submit-btn\" :disabled=\"loading\">\n          {{ loading ? 'Logowanie...' : 'Zaloguj si' }}\n        </button>\n      </form>\n\n      <div class=\"auth-footer\">\n        <p>Nie masz konta? <router-link to=\"/register\">Zarejestruj si</router-link></p>\n      </div>\n    </div>\n\n    <footer class=\"page-footer\">\n      <div class=\"footer-content\">\n        <a href=\"mailto:kontakt@test.com\" class=\"footer-link\">\n          <div class=\"icon-wrapper\">\n            <svg class=\"envelope-icon\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"2\" stroke=\"currentColor\" stroke-width=\"2\"/>\n              <path d=\"M3 7L12 13L21 7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n            </svg>\n            <span class=\"icon-letter\">i</span>\n          </div>\n          <span>kontakt@test.com</span>\n        </a>\n        <a href=\"tel:123213321\" class=\"footer-link\">\n          <svg class=\"phone-icon\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          </svg>\n          <span>123-213-321</span>\n        </a>\n      </div>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport { applyTheme, getTextSizeClass } from '../themes.js'\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      email: '',\n      username: '',\n      password: '',\n      error: '',\n      loading: false,\n      loginType: 'email',\n      apiUrl: process.env.VUE_APP_API_URL || 'http://localhost:8000/api'\n    }\n  },\n  mounted() {\n    // Apply saved theme\n    const savedTheme = localStorage.getItem('theme') || 'purpleDream'\n    applyTheme(savedTheme)\n\n    // Apply saved text size\n    const savedTextSize = localStorage.getItem('textSize') || 'medium'\n    document.body.classList.add(getTextSizeClass(savedTextSize))\n  },\n  methods: {\n    async handleLogin() {\n      this.error = ''\n      this.loading = true\n\n      try {\n        const loginData = {\n          password: this.password\n        }\n\n        if (this.loginType === 'email') {\n          loginData.email = this.email\n        } else {\n          loginData.username = this.username\n        }\n\n        const response = await fetch(`${this.apiUrl}/auth/login`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(loginData)\n        })\n\n        const data = await response.json()\n\n        if (response.ok) {\n          // Save JWT token\n          localStorage.setItem('token', data.token)\n          localStorage.setItem('user', JSON.stringify(data.user))\n          // Save IP and login time for session validation\n          localStorage.setItem('userIp', data.ip)\n          localStorage.setItem('loginTime', new Date().toISOString())\n          localStorage.setItem('lastActivity', new Date().toISOString())\n          this.$router.push('/dashboard')\n        } else {\n          this.error = data.error || 'Bd logowania'\n        }\n      } catch (error) {\n        console.error('Login error:', error)\n        this.error = 'Wystpi bd podczas logowania'\n      } finally {\n        this.loading = false\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.auth-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  min-height: 100vh;\n  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f1e 100%);\n  padding: 20px 20px 0 20px;\n}\n\n.logo-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 15px;\n  margin-bottom: 10px;\n}\n\n.logo-icon {\n  width: 60px;\n  height: 60px;\n  filter: drop-shadow(0 0 20px rgba(167, 139, 250, 0.5));\n  animation: pulse 3s ease-in-out infinite;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n}\n\n.auth-card {\n  background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%);\n  backdrop-filter: blur(10px);\n  border: 2px solid rgba(139, 92, 246, 0.3);\n  border-radius: 20px;\n  padding: 40px;\n  width: 100%;\n  max-width: 450px;\n  box-shadow: 0 20px 60px rgba(139, 92, 246, 0.3);\n  margin: auto 0;\n}\n\n.auth-header {\n  text-align: center;\n  margin-bottom: 30px;\n}\n\n.auth-header h1 {\n  color: var(--color-primaryLight);\n  font-size: 36px;\n  margin-bottom: 10px;\n  text-shadow: 0 0 20px rgba(167, 139, 250, 0.5);\n}\n\n.auth-header p {\n  color: var(--color-text);\n  font-size: 16px;\n}\n\n.auth-form {\n  margin-bottom: 20px;\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\n.form-group label {\n  display: block;\n  color: var(--color-text);\n  font-size: 14px;\n  margin-bottom: 8px;\n  font-weight: 600;\n}\n\n.login-type-section {\n  margin-bottom: 25px;\n}\n\n.login-type-label {\n  display: block;\n  color: var(--color-text);\n  font-size: 16px;\n  margin-bottom: 12px;\n  font-weight: 600;\n  text-align: center;\n}\n\n.login-type-buttons {\n  display: flex;\n  gap: 12px;\n  justify-content: center;\n}\n\n.login-type-btn {\n  flex: 1;\n  max-width: 150px;\n  padding: 12px 24px;\n  background: rgba(139, 92, 246, 0.1);\n  border: 2px solid rgba(139, 92, 246, 0.3);\n  border-radius: 12px;\n  color: var(--color-text);\n  font-size: 15px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.login-type-btn:hover {\n  background: rgba(139, 92, 246, 0.2);\n  border-color: rgba(139, 92, 246, 0.5);\n  transform: translateY(-2px);\n  box-shadow: 0 5px 15px rgba(139, 92, 246, 0.3);\n}\n\n.login-type-btn.active {\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryDark) 100%);\n  border-color: var(--color-primaryLight);\n  color: white;\n  box-shadow: 0 5px 20px rgba(139, 92, 246, 0.5);\n}\n\n.form-group input {\n  width: 100%;\n  padding: 14px 18px;\n  background: rgba(0, 0, 0, 0.5);\n  border: 2px solid rgba(139, 92, 246, 0.3);\n  border-radius: 12px;\n  color: white;\n  font-size: 16px;\n  transition: all 0.3s;\n}\n\n.form-group input:focus {\n  outline: none;\n  border-color: var(--color-primaryLight);\n  box-shadow: 0 0 20px rgba(167, 139, 250, 0.3);\n}\n\n.form-group input::placeholder {\n  color: rgba(196, 181, 253, 0.5);\n}\n\n.error-message {\n  background: rgba(239, 68, 68, 0.2);\n  border: 1px solid rgba(239, 68, 68, 0.5);\n  color: #fca5a5;\n  padding: 12px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  text-align: center;\n}\n\n.submit-btn {\n  width: 100%;\n  padding: 14px;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryDark) 100%);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s;\n  box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);\n}\n\n.submit-btn:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px rgba(139, 92, 246, 0.6);\n}\n\n.submit-btn:active:not(:disabled) {\n  transform: translateY(0);\n}\n\n.submit-btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.auth-footer {\n  text-align: center;\n  color: var(--color-text);\n}\n\n.auth-footer a {\n  color: var(--color-primaryLight);\n  text-decoration: none;\n  font-weight: bold;\n  transition: color 0.3s;\n}\n\n.auth-footer a:hover {\n  color: var(--color-text);\n  text-decoration: underline;\n}\n\n.page-footer {\n  width: 100%;\n  background: linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(0, 0, 0, 0.9) 100%);\n  backdrop-filter: blur(10px);\n  border-top: 2px solid rgba(139, 92, 246, 0.3);\n  padding: 12px 20px;\n  margin-top: 0;\n}\n\n.footer-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 40px;\n  flex-wrap: wrap;\n}\n\n.footer-link {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  color: var(--color-text);\n  text-decoration: none;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all 0.3s;\n  padding: 8px 16px;\n  border-radius: 8px;\n  background: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(139, 92, 246, 0.2);\n}\n\n.footer-link:hover {\n  color: var(--color-primaryLight);\n  background: rgba(139, 92, 246, 0.2);\n  border-color: var(--color-primaryLight);\n  transform: translateY(-2px);\n  text-decoration: none;\n}\n\n.icon-wrapper {\n  position: relative;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.envelope-icon {\n  width: 24px;\n  height: 24px;\n  color: var(--color-primaryLight);\n}\n\n.icon-letter {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 10px;\n  font-weight: bold;\n  color: var(--color-primaryLight);\n  margin-top: 1px;\n}\n\n.phone-icon {\n  width: 20px;\n  height: 20px;\n  color: var(--color-primaryLight);\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .auth-container {\n    padding: 15px 15px 0 15px;\n  }\n\n  .auth-card {\n    padding: 30px 20px;\n    max-width: 100%;\n  }\n\n  .logo-container {\n    gap: 12px;\n  }\n\n  .logo-icon {\n    width: 50px;\n    height: 50px;\n  }\n\n  .auth-header h1 {\n    font-size: 28px;\n  }\n\n  .auth-header p {\n    font-size: 15px;\n  }\n\n  .auth-header {\n    margin-bottom: 25px;\n  }\n\n  .form-group {\n    margin-bottom: 18px;\n  }\n\n  .form-group input {\n    padding: 12px 16px;\n    font-size: 15px;\n  }\n\n  .submit-btn {\n    padding: 13px;\n    font-size: 15px;\n  }\n\n  .page-footer {\n    padding: 10px 15px;\n  }\n\n  .footer-content {\n    flex-direction: column;\n    gap: 12px;\n  }\n\n  .footer-link {\n    width: 100%;\n    justify-content: center;\n    padding: 10px 14px;\n  }\n}\n\n@media (max-width: 480px) {\n  .auth-container {\n    padding: 10px 10px 0 10px;\n  }\n\n  .auth-card {\n    padding: 25px 18px;\n    border-radius: 16px;\n  }\n\n  .logo-container {\n    gap: 10px;\n  }\n\n  .logo-icon {\n    width: 45px;\n    height: 45px;\n  }\n\n  .auth-header h1 {\n    font-size: 26px;\n  }\n\n  .auth-header p {\n    font-size: 14px;\n  }\n\n  .auth-header {\n    margin-bottom: 20px;\n  }\n\n  .form-group {\n    margin-bottom: 16px;\n  }\n\n  .form-group label {\n    font-size: 13px;\n    margin-bottom: 6px;\n  }\n\n  .form-group input {\n    padding: 11px 14px;\n    font-size: 14px;\n  }\n\n  .submit-btn {\n    padding: 12px;\n    font-size: 14px;\n  }\n\n  .auth-footer {\n    font-size: 14px;\n  }\n\n  .page-footer {\n    padding: 10px;\n  }\n\n  .footer-content {\n    gap: 10px;\n  }\n\n  .footer-link {\n    padding: 8px 12px;\n    font-size: 13px;\n  }\n\n  .footer-link span {\n    font-size: 12px;\n  }\n\n  .icon-wrapper {\n    width: 20px;\n    height: 20px;\n  }\n\n  .envelope-icon {\n    width: 20px;\n    height: 20px;\n  }\n\n  .phone-icon {\n    width: 18px;\n    height: 18px;\n  }\n}\n\n@media (max-width: 375px) {\n  .auth-container {\n    padding: 8px 8px 0 8px;\n  }\n\n  .auth-card {\n    padding: 20px 15px;\n    border-radius: 14px;\n  }\n\n  .logo-icon {\n    width: 40px;\n    height: 40px;\n  }\n\n  .auth-header h1 {\n    font-size: 24px;\n  }\n\n  .auth-header p {\n    font-size: 13px;\n  }\n\n  .form-group input {\n    padding: 10px 12px;\n    font-size: 14px;\n  }\n\n  .submit-btn {\n    padding: 11px;\n    font-size: 14px;\n  }\n\n  .footer-link {\n    padding: 8px 10px;\n    font-size: 12px;\n  }\n\n  .footer-link span {\n    font-size: 11px;\n  }\n}\n</style>\n","export const themes = {\n  darkModern: {\n    name: 'Dark Modern',\n    icon: '',\n    description: 'Nowoczesny ciemny motyw',\n    class: 'dark-modern',\n    colors: {\n      primary: '#3b82f6',\n      primaryDark: '#2563eb',\n      primaryLight: '#60a5fa',\n      primaryLighter: '#93c5fd',\n      background1: '#0f172a',\n      background2: '#1e293b',\n      background3: '#020617',\n      cardBg: 'rgba(30, 41, 59, 0.8)',\n      border: 'rgba(71, 85, 105, 0.5)',\n      text: '#f1f5f9',\n      textLight: '#94a3b8',\n      success: '#10b981',\n      error: '#ef4444'\n    }\n  },\n  lightModern: {\n    name: 'Light Modern',\n    icon: '',\n    description: 'Minimalistyczny jasny motyw',\n    class: 'light-modern',\n    colors: {\n      primary: '#3b82f6',\n      primaryDark: '#2563eb',\n      primaryLight: '#60a5fa',\n      primaryLighter: '#93c5fd',\n      background1: '#ffffff',\n      background2: '#f8fafc',\n      background3: '#f1f5f9',\n      cardBg: 'rgba(255, 255, 255, 0.9)',\n      border: 'rgba(226, 232, 240, 0.8)',\n      text: '#0f172a',\n      textLight: '#64748b',\n      success: '#10b981',\n      error: '#ef4444'\n    }\n  },\n  feminine: {\n    name: 'Feminine Garden',\n    icon: '',\n    description: 'Delikatny jasny motyw z kwiatkami',\n    class: 'feminine',\n    colors: {\n      primary: '#ec4899',\n      primaryDark: '#db2777',\n      primaryLight: '#f472b6',\n      primaryLighter: '#f9a8d4',\n      background1: '#fef3f8',\n      background2: '#fce7f3',\n      background3: '#f5d0fe',\n      cardBg: 'rgba(255, 255, 255, 0.95)',\n      border: 'rgba(249, 168, 212, 0.4)',\n      text: '#831843',\n      textLight: '#9f1239',\n      success: '#ec4899',\n      error: '#be123c'\n    }\n  },\n  darkFeminine: {\n    name: 'Dark Floral Night',\n    icon: '',\n    description: 'Ciemny kobiecy motyw z mnstwem kwiatkw',\n    class: 'dark-feminine',\n    colors: {\n      primary: '#f472b6',\n      primaryDark: '#ec4899',\n      primaryLight: '#f9a8d4',\n      primaryLighter: '#fbcfe8',\n      background1: '#1a0a14',\n      background2: '#2d1b2e',\n      background3: '#0f0511',\n      cardBg: 'rgba(45, 27, 46, 0.9)',\n      border: 'rgba(236, 72, 153, 0.3)',\n      text: '#fce7f3',\n      textLight: '#f9a8d4',\n      success: '#f472b6',\n      error: '#fb7185'\n    }\n  }\n}\n\nexport const avatars = [\n  '', '', '', '', '', '',\n  '', '', '', '', '', '',\n  '', '', '', '', '', '',\n  '', '', '', '', '', ''\n]\n\nexport function applyTheme(themeName) {\n  const theme = themes[themeName]\n  if (!theme) return\n\n  const root = document.documentElement\n\n  // Remove all theme classes\n  Object.values(themes).forEach(t => {\n    root.classList.remove(t.class)\n  })\n\n  // Add new theme class\n  root.classList.add(theme.class)\n\n  // Set CSS variables\n  Object.entries(theme.colors).forEach(([key, value]) => {\n    root.style.setProperty(`--color-${key}`, value)\n  })\n}\n\nexport function getTextSizeClass(size) {\n  const sizes = {\n    small: 'text-sm',\n    medium: 'text-base',\n    large: 'text-lg'\n  }\n  return sizes[size] || sizes.medium\n}\n","import { render } from \"./Login.vue?vue&type=template&id=937d7480&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=937d7480&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-937d7480\"]])\n\nexport default __exports__","<template>\n  <div class=\"auth-container\">\n    <div class=\"auth-card\">\n      <div class=\"auth-header\">\n        <div class=\"logo-container\">\n          <svg class=\"logo-icon\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n              <linearGradient id=\"logoGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                <stop offset=\"0%\" style=\"stop-color:var(--color-primary);stop-opacity:1\" />\n                <stop offset=\"100%\" style=\"stop-color:var(--color-primaryDark);stop-opacity:1\" />\n              </linearGradient>\n            </defs>\n            <circle cx=\"30\" cy=\"50\" r=\"25\" fill=\"url(#logoGradient)\" opacity=\"0.8\"/>\n            <circle cx=\"70\" cy=\"50\" r=\"25\" fill=\"url(#logoGradient)\" opacity=\"0.8\"/>\n            <path d=\"M 30 35 Q 50 20 70 35\" stroke=\"var(--color-primaryLight)\" stroke-width=\"4\" fill=\"none\" stroke-linecap=\"round\"/>\n            <circle cx=\"30\" cy=\"45\" r=\"4\" fill=\"white\"/>\n            <circle cx=\"70\" cy=\"45\" r=\"4\" fill=\"white\"/>\n            <path d=\"M 20 55 Q 30 65 40 55\" stroke=\"white\" stroke-width=\"3\" fill=\"none\" stroke-linecap=\"round\"/>\n            <path d=\"M 60 55 Q 70 65 80 55\" stroke=\"white\" stroke-width=\"3\" fill=\"none\" stroke-linecap=\"round\"/>\n          </svg>\n          <h1>PingMe</h1>\n        </div>\n        <p>Utwrz nowe konto</p>\n      </div>\n\n      <form @submit.prevent=\"handleRegister\" class=\"auth-form\">\n        <div class=\"form-group\">\n          <label for=\"username\">Nazwa uytkownika</label>\n          <input\n            id=\"username\"\n            v-model=\"username\"\n            type=\"text\"\n            placeholder=\"Wybierz nazw uytkownika\"\n            required\n          />\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"email\">Email</label>\n          <input\n            id=\"email\"\n            v-model=\"email\"\n            type=\"email\"\n            placeholder=\"Wprowad swj email\"\n            required\n          />\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"password\">Haso</label>\n          <input\n            id=\"password\"\n            v-model=\"password\"\n            type=\"password\"\n            placeholder=\"Wybierz haso\"\n            required\n          />\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"confirmPassword\">Potwierd haso</label>\n          <input\n            id=\"confirmPassword\"\n            v-model=\"confirmPassword\"\n            type=\"password\"\n            placeholder=\"Potwierd haso\"\n            required\n          />\n        </div>\n\n        <div v-if=\"error\" class=\"error-message\">\n          {{ error }}\n        </div>\n\n        <div v-if=\"success\" class=\"success-message\">\n          {{ success }}\n        </div>\n\n        <button type=\"submit\" class=\"submit-btn\" :disabled=\"loading\">\n          {{ loading ? 'Rejestracja...' : 'Zarejestruj si' }}\n        </button>\n      </form>\n\n      <div class=\"auth-footer\">\n        <p>Masz ju konto? <router-link to=\"/login\">Zaloguj si</router-link></p>\n      </div>\n    </div>\n\n    <footer class=\"page-footer\">\n      <div class=\"footer-content\">\n        <a href=\"mailto:kontakt@test.com\" class=\"footer-link\">\n          <div class=\"icon-wrapper\">\n            <svg class=\"envelope-icon\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"2\" stroke=\"currentColor\" stroke-width=\"2\"/>\n              <path d=\"M3 7L12 13L21 7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n            </svg>\n            <span class=\"icon-letter\">i</span>\n          </div>\n          <span>kontakt@test.com</span>\n        </a>\n        <a href=\"tel:123213321\" class=\"footer-link\">\n          <svg class=\"phone-icon\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          </svg>\n          <span>123-213-321</span>\n        </a>\n      </div>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport { applyTheme, getTextSizeClass } from '../themes.js'\n\nexport default {\n  name: 'Register',\n  data() {\n    return {\n      username: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n      error: '',\n      success: '',\n      loading: false,\n      apiUrl: process.env.VUE_APP_API_URL || 'http://localhost:8000/api'\n    }\n  },\n  mounted() {\n    // Apply saved theme\n    const savedTheme = localStorage.getItem('theme') || 'purpleDream'\n    applyTheme(savedTheme)\n\n    // Apply saved text size\n    const savedTextSize = localStorage.getItem('textSize') || 'medium'\n    document.body.classList.add(getTextSizeClass(savedTextSize))\n  },\n  methods: {\n    async handleRegister() {\n      this.error = ''\n      this.success = ''\n\n      if (this.password !== this.confirmPassword) {\n        this.error = 'Hasa nie s identyczne'\n        return\n      }\n\n      if (this.password.length < 6) {\n        this.error = 'Haso musi mie co najmniej 6 znakw'\n        return\n      }\n\n      this.loading = true\n\n      try {\n        const response = await fetch(`${this.apiUrl}/auth/register`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: this.username,\n            email: this.email,\n            password: this.password\n          })\n        })\n\n        const data = await response.json()\n\n        if (response.ok) {\n          this.success = 'Rejestracja zakoczona pomylnie! Przekierowywanie...'\n          setTimeout(() => {\n            this.$router.push('/login')\n          }, 2000)\n        } else {\n          this.error = data.error || 'Bd rejestracji'\n        }\n      } catch (error) {\n        console.error('Registration error:', error)\n        this.error = 'Wystpi bd podczas rejestracji'\n      } finally {\n        this.loading = false\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.auth-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  min-height: 100vh;\n  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f1e 100%);\n  padding: 20px 20px 0 20px;\n}\n\n.logo-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 15px;\n  margin-bottom: 10px;\n}\n\n.logo-icon {\n  width: 60px;\n  height: 60px;\n  filter: drop-shadow(0 0 20px rgba(167, 139, 250, 0.5));\n  animation: pulse 3s ease-in-out infinite;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n}\n\n.auth-card {\n  background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%);\n  backdrop-filter: blur(10px);\n  border: 2px solid rgba(139, 92, 246, 0.3);\n  border-radius: 20px;\n  padding: 40px;\n  width: 100%;\n  max-width: 450px;\n  box-shadow: 0 20px 60px rgba(139, 92, 246, 0.3);\n  margin: auto 0;\n}\n\n.auth-header {\n  text-align: center;\n  margin-bottom: 30px;\n}\n\n.auth-header h1 {\n  color: var(--color-primaryLight);\n  font-size: 36px;\n  margin-bottom: 10px;\n  text-shadow: 0 0 20px rgba(167, 139, 250, 0.5);\n}\n\n.auth-header p {\n  color: var(--color-text);\n  font-size: 16px;\n}\n\n.auth-form {\n  margin-bottom: 20px;\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\n.form-group label {\n  display: block;\n  color: var(--color-text);\n  font-size: 14px;\n  margin-bottom: 8px;\n  font-weight: 600;\n}\n\n.form-group input {\n  width: 100%;\n  padding: 14px 18px;\n  background: rgba(0, 0, 0, 0.5);\n  border: 2px solid rgba(139, 92, 246, 0.3);\n  border-radius: 12px;\n  color: white;\n  font-size: 16px;\n  transition: all 0.3s;\n}\n\n.form-group input:focus {\n  outline: none;\n  border-color: var(--color-primaryLight);\n  box-shadow: 0 0 20px rgba(167, 139, 250, 0.3);\n}\n\n.form-group input::placeholder {\n  color: rgba(196, 181, 253, 0.5);\n}\n\n.error-message {\n  background: rgba(239, 68, 68, 0.2);\n  border: 1px solid rgba(239, 68, 68, 0.5);\n  color: #fca5a5;\n  padding: 12px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  text-align: center;\n}\n\n.success-message {\n  background: rgba(34, 197, 94, 0.2);\n  border: 1px solid rgba(34, 197, 94, 0.5);\n  color: #86efac;\n  padding: 12px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  text-align: center;\n}\n\n.submit-btn {\n  width: 100%;\n  padding: 14px;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryDark) 100%);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s;\n  box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);\n}\n\n.submit-btn:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px rgba(139, 92, 246, 0.6);\n}\n\n.submit-btn:active:not(:disabled) {\n  transform: translateY(0);\n}\n\n.submit-btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.auth-footer {\n  text-align: center;\n  color: var(--color-text);\n}\n\n.auth-footer a {\n  color: var(--color-primaryLight);\n  text-decoration: none;\n  font-weight: bold;\n  transition: color 0.3s;\n}\n\n.auth-footer a:hover {\n  color: var(--color-text);\n  text-decoration: underline;\n}\n\n.page-footer {\n  width: 100%;\n  background: linear-gradient(135deg, rgba(139, 92, 246, 0.15) 0%, rgba(0, 0, 0, 0.9) 100%);\n  backdrop-filter: blur(10px);\n  border-top: 2px solid rgba(139, 92, 246, 0.3);\n  padding: 12px 20px;\n  margin-top: 0;\n}\n\n.footer-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 40px;\n  flex-wrap: wrap;\n}\n\n.footer-link {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  color: var(--color-text);\n  text-decoration: none;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all 0.3s;\n  padding: 8px 16px;\n  border-radius: 8px;\n  background: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(139, 92, 246, 0.2);\n}\n\n.footer-link:hover {\n  color: var(--color-primaryLight);\n  background: rgba(139, 92, 246, 0.2);\n  border-color: var(--color-primaryLight);\n  transform: translateY(-2px);\n  text-decoration: none;\n}\n\n.icon-wrapper {\n  position: relative;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.envelope-icon {\n  width: 24px;\n  height: 24px;\n  color: var(--color-primaryLight);\n}\n\n.icon-letter {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 10px;\n  font-weight: bold;\n  color: var(--color-primaryLight);\n  margin-top: 1px;\n}\n\n.phone-icon {\n  width: 20px;\n  height: 20px;\n  color: var(--color-primaryLight);\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .auth-container {\n    padding: 15px 15px 0 15px;\n  }\n\n  .auth-card {\n    padding: 30px 20px;\n    max-width: 100%;\n  }\n\n  .logo-container {\n    gap: 12px;\n  }\n\n  .logo-icon {\n    width: 50px;\n    height: 50px;\n  }\n\n  .auth-header h1 {\n    font-size: 28px;\n  }\n\n  .auth-header p {\n    font-size: 15px;\n  }\n\n  .auth-header {\n    margin-bottom: 25px;\n  }\n\n  .form-group {\n    margin-bottom: 18px;\n  }\n\n  .form-group input {\n    padding: 12px 16px;\n    font-size: 15px;\n  }\n\n  .submit-btn {\n    padding: 13px;\n    font-size: 15px;\n  }\n\n  .page-footer {\n    padding: 10px 15px;\n  }\n\n  .footer-content {\n    flex-direction: column;\n    gap: 12px;\n  }\n\n  .footer-link {\n    width: 100%;\n    justify-content: center;\n    padding: 10px 14px;\n  }\n}\n\n@media (max-width: 480px) {\n  .auth-container {\n    padding: 10px 10px 0 10px;\n  }\n\n  .auth-card {\n    padding: 25px 18px;\n    border-radius: 16px;\n  }\n\n  .logo-container {\n    gap: 10px;\n  }\n\n  .logo-icon {\n    width: 45px;\n    height: 45px;\n  }\n\n  .auth-header h1 {\n    font-size: 26px;\n  }\n\n  .auth-header p {\n    font-size: 14px;\n  }\n\n  .auth-header {\n    margin-bottom: 20px;\n  }\n\n  .form-group {\n    margin-bottom: 16px;\n  }\n\n  .form-group label {\n    font-size: 13px;\n    margin-bottom: 6px;\n  }\n\n  .form-group input {\n    padding: 11px 14px;\n    font-size: 14px;\n  }\n\n  .submit-btn {\n    padding: 12px;\n    font-size: 14px;\n  }\n\n  .auth-footer {\n    font-size: 14px;\n  }\n\n  .page-footer {\n    padding: 10px;\n  }\n\n  .footer-content {\n    gap: 10px;\n  }\n\n  .footer-link {\n    padding: 8px 12px;\n    font-size: 13px;\n  }\n\n  .footer-link span {\n    font-size: 12px;\n  }\n\n  .icon-wrapper {\n    width: 20px;\n    height: 20px;\n  }\n\n  .envelope-icon {\n    width: 20px;\n    height: 20px;\n  }\n\n  .phone-icon {\n    width: 18px;\n    height: 18px;\n  }\n}\n\n@media (max-width: 375px) {\n  .auth-container {\n    padding: 8px 8px 0 8px;\n  }\n\n  .auth-card {\n    padding: 20px 15px;\n    border-radius: 14px;\n  }\n\n  .logo-icon {\n    width: 40px;\n    height: 40px;\n  }\n\n  .auth-header h1 {\n    font-size: 24px;\n  }\n\n  .auth-header p {\n    font-size: 13px;\n  }\n\n  .form-group input {\n    padding: 10px 12px;\n    font-size: 14px;\n  }\n\n  .submit-btn {\n    padding: 11px;\n    font-size: 14px;\n  }\n\n  .footer-link {\n    padding: 8px 10px;\n    font-size: 12px;\n  }\n\n  .footer-link span {\n    font-size: 11px;\n  }\n}\n</style>\n","import { render } from \"./Register.vue?vue&type=template&id=66799b14&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=66799b14&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-66799b14\"]])\n\nexport default __exports__","<template>\n  <div class=\"min-h-screen max-h-screen overflow-hidden transition-colors duration-300\" :class=\"getBgClass()\">\n    <!-- Mobile Header -->\n    <div class=\"lg:hidden fixed top-0 left-0 right-0 z-50 backdrop-blur-lg border-b\" :class=\"getCardClass()\">\n      <div class=\"flex items-center justify-between p-4\">\n        <div class=\"flex items-center gap-3\">\n          <div class=\"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold\" :style=\"getAvatarBgStyle()\">\n            {{ userAvatar }}\n          </div>\n          <span class=\"font-semibold\" :class=\"getTextClass()\">{{ currentUser?.username }}</span>\n        </div>\n        <button @click=\"mobileMenuOpen = !mobileMenuOpen\" class=\"p-2 rounded-lg hover:bg-opacity-10 transition-colors\" :class=\"getHoverClass()\">\n          <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n\n    <!-- Sidebar -->\n    <aside class=\"fixed left-0 top-0 bottom-0 w-72 backdrop-blur-lg border-r transition-transform duration-300 z-40\"\n           :class=\"[getCardClass(), mobileMenuOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0']\">\n      <!-- Logo -->\n      <div class=\"p-6 border-b\" :class=\"getBorderClass()\">\n        <div class=\"flex items-center gap-3 mb-4 animate-fade-in\">\n          <div class=\"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg border-2 border-black\" :class=\"getLogoBgClass()\">\n            <span class=\"text-2xl\"></span>\n          </div>\n          <h1 class=\"text-2xl font-bold\" :class=\"getLogoTextClass()\">\n            PingMe\n          </h1>\n        </div>\n\n        <!-- Live Clock -->\n        <div class=\"clock-widget p-3 rounded-lg mb-3\" :class=\"getCardClass()\">\n          <div class=\"text-center\">\n            <div class=\"text-lg font-bold\" :class=\"getTextClass()\">{{ currentTime }}</div>\n            <div class=\"text-xs\" :class=\"getTextMutedClass()\">{{ currentDate }}</div>\n          </div>\n        </div>\n\n        <!-- User Info -->\n        <div class=\"flex items-center gap-3 p-3 rounded-lg\" :class=\"getHoverClass()\">\n          <div class=\"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold shadow\" :style=\"getAvatarBgStyle()\">\n            {{ userAvatar }}\n          </div>\n          <div class=\"flex-1 min-w-0\">\n            <p class=\"font-semibold truncate\" :class=\"getTextClass()\">{{ currentUser?.username }}</p>\n            <p class=\"text-xs truncate\" :class=\"getTextMutedClass()\">Online</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Navigation -->\n      <nav class=\"p-4 space-y-2 flex-1 overflow-y-auto\">\n        <button\n          v-for=\"tab in tabs\"\n          :key=\"tab.id\"\n          @click=\"switchTab(tab.id)\"\n          class=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200 group animate-slide-up\"\n          :class=\"activeTab === tab.id ? getActiveNavClass() : getInactiveNavClass()\">\n          <span class=\"text-xl\">{{ tab.icon }}</span>\n          <span class=\"flex-1 text-left\">{{ tab.label }}</span>\n          <span v-if=\"tab.badge\" class=\"px-2 py-1 text-xs rounded-full bg-red-500 text-white\">{{ tab.badge }}</span>\n        </button>\n      </nav>\n\n      <!-- Logout Button -->\n      <div class=\"p-4 border-t\" :class=\"getBorderClass()\">\n        <button\n          @click=\"handleLogout\"\n          class=\"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all duration-200 hover:scale-105\"\n          :class=\"getLogoutButtonClass()\">\n          <span></span>\n          <span>Wyloguj si</span>\n        </button>\n      </div>\n    </aside>\n\n    <!-- Main Content -->\n    <main class=\"lg:ml-72 h-screen overflow-y-auto pt-20 lg:pt-0\">\n      <div class=\"p-6\">\n        <!-- Home Tab -->\n        <transition\n          enter-active-class=\"animate-fade-in\"\n          leave-active-class=\"animate-fade-out\">\n          <div v-if=\"activeTab === 'home'\" class=\"home-panel\">\n            <div class=\"welcome-card\">\n              <h1 class=\"welcome-title\"> Witaj, {{ currentUser?.username }}!</h1>\n              <p class=\"welcome-subtitle\">Co chcesz dzisiaj zrobi?</p>\n            </div>\n\n            <div class=\"quick-actions\">\n              <div class=\"action-card\" @click=\"switchTab('friends')\">\n                <div class=\"action-icon\"></div>\n                <h3>Znajomi</h3>\n                <p>Czatuj ze znajomymi</p>\n              </div>\n              <div class=\"action-card\" @click=\"switchTab('events')\">\n                <div class=\"action-icon\"></div>\n                <h3>Wydarzenia</h3>\n                <p>Planuj spotkania</p>\n              </div>\n              <div class=\"action-card\" @click=\"switchTab('gallery')\">\n                <div class=\"action-icon\"></div>\n                <h3>Galeria</h3>\n                <p>Dziel si zdjciami</p>\n              </div>\n              <div class=\"action-card\" @click=\"switchTab('settings')\">\n                <div class=\"action-icon\"></div>\n                <h3>Ustawienia</h3>\n                <p>Personalizuj aplikacj</p>\n              </div>\n            </div>\n          </div>\n        </transition>\n\n        <!-- Info Tab -->\n        <transition\n          enter-active-class=\"animate-fade-in\"\n          leave-active-class=\"animate-fade-out\">\n          <div v-if=\"activeTab === 'info'\" class=\"info-panel\">\n            <h1 class=\"info-title\"> Informacje o PingMe</h1>\n\n            <div class=\"info-section\">\n              <h2> Funkcjonalnoci</h2>\n              <ul class=\"info-list\">\n                <li> Chat w czasie rzeczywistym z przesyaniem plikw</li>\n                <li> Zarzdzanie znajomymi i niestandardowe pseudonimy</li>\n                <li> Galeria zdj i wideo (JPG, PNG, MP4, GIF)</li>\n                <li> Kalendarz wydarze i lista zada To-Do</li>\n                <li> GIF picker z integracj Giphy</li>\n                <li> Reakcje emoji na wiadomoci</li>\n                <li> Edycja i usuwanie wiadomoci</li>\n                <li> 4 motywy kolorystyczne (Dark Modern, Light Modern, Feminine Garden, Dark Floral Night)</li>\n                <li> Personalizacja avatara (24 emoji + 7 kolorw ta)</li>\n                <li> Responsive design (mobile & desktop)</li>\n              </ul>\n            </div>\n\n            <div class=\"info-section\">\n              <h2> Technologie</h2>\n              <div class=\"tech-columns\">\n                <div>\n                  <h3>Frontend:</h3>\n                  <ul class=\"tech-list\">\n                    <li>Vue.js 3</li>\n                    <li>Tailwind CSS</li>\n                    <li>Vue Router</li>\n                    <li>Giphy API</li>\n                  </ul>\n                </div>\n                <div>\n                  <h3>Backend:</h3>\n                  <ul class=\"tech-list\">\n                    <li>Symfony 6</li>\n                    <li>Doctrine ORM</li>\n                    <li>MySQL/SQLite</li>\n                    <li>REST API</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"info-section\">\n              <h2> Statystyki projektu</h2>\n              <div class=\"stats-grid\">\n                <div class=\"stat-card\">\n                  <div class=\"stat-value\">6</div>\n                  <div class=\"stat-label\">Gwnych sekcji</div>\n                </div>\n                <div class=\"stat-card\">\n                  <div class=\"stat-value\">4</div>\n                  <div class=\"stat-label\">Motywy</div>\n                </div>\n                <div class=\"stat-card\">\n                  <div class=\"stat-value\">10+</div>\n                  <div class=\"stat-label\">Funkcjonalnoci</div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"info-footer\">\n              <p> 2025 PingMe - Platforma komunikacji</p>\n              <p>Kontakt: <a href=\"mailto:kontakt@pingme.pl\">kontakt@pingme.pl</a></p>\n            </div>\n          </div>\n        </transition>\n\n        <!-- Friends Tab -->\n        <transition\n          enter-active-class=\"animate-fade-in\"\n          leave-active-class=\"animate-fade-out\">\n          <div v-if=\"activeTab === 'friends' && !selectedFriend\">\n            <Friends :currentUser=\"currentUser\" @open-chat=\"openChat\" />\n          </div>\n        </transition>\n\n        <!-- Events Tab -->\n        <transition\n          enter-active-class=\"animate-fade-in\"\n          leave-active-class=\"animate-fade-out\">\n          <div v-if=\"activeTab === 'events'\">\n            <Events :currentUser=\"currentUser\" />\n          </div>\n        </transition>\n\n        <!-- Gallery Tab -->\n        <transition\n          enter-active-class=\"animate-fade-in\"\n          leave-active-class=\"animate-fade-out\">\n          <div v-if=\"activeTab === 'gallery'\">\n            <Gallery :currentUser=\"currentUser\" />\n          </div>\n        </transition>\n\n        <!-- Settings Tab -->\n        <transition\n          enter-active-class=\"animate-fade-in\"\n          leave-active-class=\"animate-fade-out\">\n          <div v-if=\"activeTab === 'settings'\">\n            <Settings\n              :currentUser=\"currentUser\"\n              @close-settings=\"closeSettings\"\n              @avatar-changed=\"updateAvatar\"\n              @avatar-color-changed=\"handleAvatarColorChange\"\n              @theme-changed=\"handleThemeChange\"\n              @text-size-changed=\"handleTextSizeChange\"\n            />\n          </div>\n        </transition>\n\n        <!-- Chat Room -->\n        <transition\n          enter-active-class=\"animate-slide-up\"\n          leave-active-class=\"animate-fade-out\">\n          <div v-if=\"selectedFriend\">\n            <ChatRoom\n              :currentUser=\"currentUser\"\n              :friend=\"selectedFriend\"\n              @close-chat=\"closeChat\"\n            />\n          </div>\n        </transition>\n      </div>\n    </main>\n\n    <!-- Mobile Menu Overlay -->\n    <div v-if=\"mobileMenuOpen\"\n         @click=\"mobileMenuOpen = false\"\n         class=\"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden\"></div>\n\n    <!-- Footer -->\n    <footer class=\"fixed bottom-0 left-0 right-0 lg:left-72 p-4 backdrop-blur-lg border-t z-20\" :class=\"getCardClass()\">\n      <div class=\"flex items-center justify-between max-w-screen-xl mx-auto\">\n        <a href=\"mailto:kontakt@pingme.pl\" class=\"flex items-center gap-2 text-sm hover:text-blue-500 transition-colors\" :class=\"getTextMutedClass()\">\n          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n          </svg>\n          kontakt@pingme.pl\n        </a>\n        <div class=\"flex items-center gap-4\">\n          <p class=\"text-xs\" :class=\"getTextMutedClass()\"> 2025 PingMe. Wszelkie prawa zastrzeone.</p>\n          <p class=\"text-xs font-mono\" :class=\"getTextMutedClass()\">IP: {{ userIp }}</p>\n        </div>\n      </div>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport Friends from './Friends.vue'\nimport Events from './Events.vue'\nimport Gallery from './Gallery.vue'\nimport Settings from './Settings.vue'\nimport ChatRoom from './ChatRoom.vue'\nimport { applyTheme, getTextSizeClass } from '../themes.js'\n\nexport default {\n  name: 'Dashboard',\n  components: {\n    Friends,\n    Events,\n    Gallery,\n    Settings,\n    ChatRoom\n  },\n  data() {\n    return {\n      currentUser: null,\n      activeTab: 'home',\n      selectedFriend: null,\n      userAvatar: '',\n      currentTheme: 'darkModern',\n      currentAvatarColor: 0,\n      mobileMenuOpen: false,\n      currentTime: '',\n      currentDate: '',\n      userIp: '',\n      apiUrl: process.env.VUE_APP_API_URL || 'http://localhost:8000/api',\n      tabs: [\n        { id: 'home', icon: '', label: 'Strona gwna', badge: null },\n        { id: 'friends', icon: '', label: 'Znajomi', badge: null },\n        { id: 'events', icon: '', label: 'Wydarzenia', badge: null },\n        { id: 'gallery', icon: '', label: 'Galeria', badge: null },\n        { id: 'settings', icon: '', label: 'Ustawienia', badge: null },\n        { id: 'info', icon: '', label: 'Informacje', badge: null }\n      ],\n      avatarColors: [\n        'linear-gradient(to bottom right, #3b82f6, #8b5cf6)',\n        'linear-gradient(to bottom right, #ec4899, #ef4444)',\n        'linear-gradient(to bottom right, #10b981, #06b6d4)',\n        'linear-gradient(to bottom right, #f97316, #eab308)',\n        'linear-gradient(to bottom right, #a855f7, #ec4899)',\n        'linear-gradient(to bottom right, #dc2626, #7c3aed)',\n        'linear-gradient(to bottom right, #06b6d4, #3b82f6)'\n      ]\n    }\n  },\n  async mounted() {\n    const storedUser = localStorage.getItem('user')\n    const storedToken = localStorage.getItem('token')\n\n    // Require both user and JWT token\n    if (!storedUser || !storedToken) {\n      // Clear ALL localStorage data\n      localStorage.clear()\n      // Redirect immediately without alert to avoid bypassing\n      this.$router.push('/').catch(() => {\n        // Force reload if router fails\n        window.location.href = '/'\n      })\n      return\n    }\n\n    // Check IP and session validity\n    await this.checkIpAndSession()\n\n    this.currentUser = JSON.parse(storedUser)\n    const storedAvatar = localStorage.getItem('userAvatar')\n    if (storedAvatar) {\n      this.userAvatar = storedAvatar\n    }\n\n    const storedAvatarColor = localStorage.getItem('avatarBgColor')\n    if (storedAvatarColor) {\n      this.currentAvatarColor = parseInt(storedAvatarColor)\n    }\n\n    const storedTheme = localStorage.getItem('theme') || 'darkModern'\n    this.currentTheme = storedTheme\n    applyTheme(storedTheme)\n\n    const storedTextSize = localStorage.getItem('textSize') || 'medium'\n    document.body.classList.add(getTextSizeClass(storedTextSize))\n\n    // Initialize and start clock\n    this.updateClock()\n    this.clockInterval = setInterval(this.updateClock, 1000)\n\n    // Check inactivity every minute\n    this.inactivityInterval = setInterval(this.checkInactivity, 60000)\n\n    // Track user activity\n    this.setupActivityTracking()\n  },\n  beforeUnmount() {\n    if (this.clockInterval) {\n      clearInterval(this.clockInterval)\n    }\n    if (this.inactivityInterval) {\n      clearInterval(this.inactivityInterval)\n    }\n    // Remove activity listeners\n    document.removeEventListener('mousemove', this.updateActivity)\n    document.removeEventListener('keypress', this.updateActivity)\n    document.removeEventListener('click', this.updateActivity)\n  },\n  methods: {\n    updateClock() {\n      const now = new Date()\n      this.currentTime = now.toLocaleTimeString('pl-PL', { hour: '2-digit', minute: '2-digit', second: '2-digit' })\n      this.currentDate = now.toLocaleDateString('pl-PL', { weekday: 'short', year: 'numeric', month: 'long', day: 'numeric' })\n    },\n    switchTab(tab) {\n      this.activeTab = tab\n      this.selectedFriend = null\n      this.mobileMenuOpen = false\n    },\n    openChat(friend) {\n      this.selectedFriend = friend\n      this.activeTab = 'friends'\n      this.mobileMenuOpen = false\n    },\n    closeChat() {\n      this.selectedFriend = null\n    },\n    closeSettings() {\n      this.activeTab = 'friends'\n    },\n    handleLogout() {\n      localStorage.removeItem('user')\n      localStorage.removeItem('token')\n      this.$router.push('/')\n    },\n    updateAvatar(avatar) {\n      this.userAvatar = avatar\n      localStorage.setItem('userAvatar', avatar)\n    },\n    handleAvatarColorChange(colorIndex) {\n      this.currentAvatarColor = colorIndex\n      localStorage.setItem('avatarBgColor', colorIndex.toString())\n    },\n    handleThemeChange(theme) {\n      this.currentTheme = theme\n      applyTheme(theme)\n    },\n    handleTextSizeChange(size) {\n      document.body.classList.remove('text-sm', 'text-base', 'text-lg')\n      document.body.classList.add(getTextSizeClass(size))\n    },\n    getAvatarBgStyle() {\n      return {\n        background: this.avatarColors[this.currentAvatarColor]\n      }\n    },\n    getBgClass() {\n      if (this.currentTheme === 'feminine') return 'bg-pink-50'\n      if (this.currentTheme === 'darkFeminine') return 'bg-gradient-to-br from-purple-950 via-pink-950 to-purple-900'\n      if (this.currentTheme === 'lightModern') return 'bg-gray-50'\n      return 'bg-slate-900'\n    },\n    getCardClass() {\n      if (this.currentTheme === 'feminine') return 'bg-white/90 border-pink-200'\n      if (this.currentTheme === 'darkFeminine') return 'bg-purple-950/90 border-pink-500/30'\n      if (this.currentTheme === 'lightModern') return 'bg-white/90 border-gray-200'\n      return 'bg-slate-800/90 border-slate-700'\n    },\n    getBorderClass() {\n      if (this.currentTheme === 'feminine') return 'border-pink-200'\n      if (this.currentTheme === 'darkFeminine') return 'border-pink-500/30'\n      if (this.currentTheme === 'lightModern') return 'border-gray-200'\n      return 'border-slate-700'\n    },\n    getTextClass() {\n      if (this.currentTheme === 'feminine') return 'text-pink-900'\n      if (this.currentTheme === 'darkFeminine') return 'text-pink-100'\n      if (this.currentTheme === 'lightModern') return 'text-gray-900'\n      return 'text-slate-100'\n    },\n    getTextMutedClass() {\n      if (this.currentTheme === 'feminine') return 'text-pink-600'\n      if (this.currentTheme === 'darkFeminine') return 'text-pink-300'\n      if (this.currentTheme === 'lightModern') return 'text-gray-600'\n      return 'text-slate-400'\n    },\n    getHoverClass() {\n      if (this.currentTheme === 'feminine') return 'hover:bg-pink-100'\n      if (this.currentTheme === 'darkFeminine') return 'hover:bg-pink-900/30'\n      if (this.currentTheme === 'lightModern') return 'hover:bg-gray-100'\n      return 'hover:bg-slate-700'\n    },\n    getActiveNavClass() {\n      if (this.currentTheme === 'feminine') return 'bg-gradient-to-r from-pink-500 to-rose-500 text-white shadow-lg shadow-pink-500/50'\n      if (this.currentTheme === 'darkFeminine') return 'bg-gradient-to-r from-pink-600 to-purple-600 text-white shadow-lg shadow-pink-500/50'\n      if (this.currentTheme === 'lightModern') return 'bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg shadow-blue-500/50'\n      return 'bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg shadow-blue-500/50'\n    },\n    getInactiveNavClass() {\n      if (this.currentTheme === 'feminine') return 'text-pink-700 hover:bg-pink-100'\n      if (this.currentTheme === 'darkFeminine') return 'text-pink-200 hover:bg-pink-900/30'\n      if (this.currentTheme === 'lightModern') return 'text-gray-700 hover:bg-gray-100'\n      return 'text-slate-300 hover:bg-slate-700'\n    },\n    getLogoutButtonClass() {\n      if (this.currentTheme === 'feminine') return 'bg-pink-100 text-pink-700 hover:bg-pink-200'\n      if (this.currentTheme === 'darkFeminine') return 'bg-pink-900/50 text-pink-200 hover:bg-pink-800/50'\n      if (this.currentTheme === 'lightModern') return 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n      return 'bg-slate-700 text-slate-300 hover:bg-slate-600'\n    },\n    getLogoBgClass() {\n      if (this.currentTheme === 'feminine') return 'bg-pink-50'\n      if (this.currentTheme === 'darkFeminine') return 'bg-gradient-to-br from-purple-900 to-pink-900'\n      if (this.currentTheme === 'lightModern') return 'bg-gray-50'\n      return 'bg-slate-800'\n    },\n    getLogoTextClass() {\n      if (this.currentTheme === 'feminine') return 'text-pink-700'\n      if (this.currentTheme === 'darkFeminine') return 'text-pink-200'\n      if (this.currentTheme === 'lightModern') return 'text-gray-800'\n      return 'text-slate-100'\n    },\n    async checkIpAndSession() {\n      try {\n        // Get current IP for display only (JWT handles authentication)\n        const response = await fetch(`${this.apiUrl}/auth/ip`)\n        const data = await response.json()\n        this.userIp = data.ip\n\n        // Just display IP, don't enforce logout on change (JWT handles security)\n        localStorage.setItem('userIp', data.ip)\n      } catch (error) {\n        console.error('Error checking IP:', error)\n      }\n    },\n    checkInactivity() {\n      const lastActivity = localStorage.getItem('lastActivity')\n      if (!lastActivity) return\n\n      const now = new Date()\n      const lastActivityTime = new Date(lastActivity)\n      const minutesInactive = (now - lastActivityTime) / (1000 * 60)\n\n      if (minutesInactive >= 15) {\n        alert('Sesja wygasa z powodu braku aktywnoci. Zaloguj si ponownie.')\n        this.handleLogout()\n      }\n    },\n    setupActivityTracking() {\n      this.updateActivity = () => {\n        localStorage.setItem('lastActivity', new Date().toISOString())\n      }\n\n      document.addEventListener('mousemove', this.updateActivity)\n      document.addEventListener('keypress', this.updateActivity)\n      document.addEventListener('click', this.updateActivity)\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Home Panel */\n.home-panel {\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.welcome-card {\n  text-align: center;\n  padding: 60px 20px;\n  margin-bottom: 40px;\n}\n\n.welcome-title {\n  font-size: 42px;\n  font-weight: bold;\n  margin-bottom: 15px;\n}\n\n.welcome-subtitle {\n  font-size: 20px;\n  opacity: 0.8;\n}\n\n.quick-actions {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 25px;\n  padding: 20px;\n}\n\n.action-card {\n  padding: 40px 30px;\n  border-radius: 20px;\n  text-align: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  border: 2px solid transparent;\n}\n\n.action-icon {\n  font-size: 64px;\n  margin-bottom: 20px;\n}\n\n.action-card h3 {\n  font-size: 24px;\n  margin-bottom: 10px;\n  font-weight: bold;\n}\n\n.action-card p {\n  opacity: 0.7;\n  font-size: 16px;\n}\n\n.action-card:hover {\n  transform: translateY(-8px);\n  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);\n}\n\n/* Info Panel */\n.info-panel {\n  max-width: 1000px;\n  margin: 0 auto;\n}\n\n.info-title {\n  font-size: 36px;\n  font-weight: bold;\n  margin-bottom: 40px;\n  text-align: center;\n}\n\n.info-section {\n  padding: 30px;\n  border-radius: 16px;\n  margin-bottom: 30px;\n}\n\n.info-section h2 {\n  font-size: 28px;\n  margin-bottom: 20px;\n  font-weight: bold;\n}\n\n.info-section h3 {\n  font-size: 20px;\n  margin-bottom: 12px;\n  font-weight: bold;\n}\n\n.info-list {\n  list-style: none;\n  padding: 0;\n}\n\n.info-list li {\n  padding: 12px 0;\n  font-size: 16px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.info-list li:last-child {\n  border-bottom: none;\n}\n\n.tech-columns {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 30px;\n}\n\n.tech-list {\n  list-style: none;\n  padding: 0;\n}\n\n.tech-list li {\n  padding: 8px 0;\n  padding-left: 20px;\n  position: relative;\n  font-size: 16px;\n}\n\n.tech-list li::before {\n  content: '';\n  position: absolute;\n  left: 0;\n  font-weight: bold;\n}\n\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 20px;\n}\n\n.stat-card {\n  text-align: center;\n  padding: 30px;\n  border-radius: 16px;\n}\n\n.stat-value {\n  font-size: 48px;\n  font-weight: bold;\n  margin-bottom: 10px;\n}\n\n.stat-label {\n  font-size: 16px;\n  opacity: 0.7;\n}\n\n.info-footer {\n  text-align: center;\n  padding: 30px;\n  margin-top: 40px;\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n  opacity: 0.7;\n}\n\n.info-footer a {\n  text-decoration: underline;\n}\n\n/* Theme-specific colors */\n.home-panel .action-card,\n.info-panel .info-section,\n.info-panel .stat-card {\n  background: var(--color-cardBg);\n  border-color: var(--color-border);\n}\n\n.home-panel .action-card:hover {\n  border-color: var(--color-primaryLight);\n}\n\n.home-panel .welcome-title,\n.home-panel .action-card h3,\n.info-panel .info-title,\n.info-panel h2 {\n  color: var(--color-primaryLight);\n}\n\n.home-panel .welcome-subtitle,\n.home-panel .action-card p,\n.info-panel .info-list li,\n.info-panel .tech-list li {\n  color: var(--color-text);\n}\n\n.info-panel .tech-list li::before {\n  color: var(--color-primary);\n}\n\n.info-panel .stat-value {\n  color: var(--color-primary);\n}\n\n.info-panel .stat-label {\n  color: var(--color-textLight);\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .welcome-title {\n    font-size: 32px;\n  }\n\n  .action-icon {\n    font-size: 48px;\n  }\n\n  .action-card h3 {\n    font-size: 20px;\n  }\n\n  .info-title {\n    font-size: 28px;\n  }\n\n  .info-section h2 {\n    font-size: 24px;\n  }\n}\n</style>\n","<template>\n  <div class=\"friends-container\">\n    <div class=\"friends-panel\">\n      <div class=\"panel-header\">\n        <h2> Znajomi</h2>\n        <button class=\"add-btn\" @click=\"showAllUsers = !showAllUsers\">\n          {{ showAllUsers ? ' Zamknij' : ' Dodaj znajomego' }}\n        </button>\n      </div>\n\n      <div v-if=\"showAllUsers\" class=\"all-users-section\">\n        <h3>Wszyscy uytkownicy</h3>\n        <div v-if=\"allUsers.length === 0\" class=\"empty-state\">\n          Brak uytkownikw\n        </div>\n        <div v-else class=\"users-list\">\n          <div\n            v-for=\"user in availableUsers\"\n            :key=\"user.id\"\n            class=\"user-card\"\n          >\n            <div class=\"user-avatar\">{{ user.username.charAt(0).toUpperCase() }}</div>\n            <div class=\"user-info\">\n              <div class=\"user-name\">{{ user.username }}</div>\n              <div class=\"user-email\">{{ user.email }}</div>\n            </div>\n            <button\n              v-if=\"!isFriend(user.id)\"\n              class=\"add-friend-btn\"\n              @click=\"addFriend(user.id)\"\n            >\n               Dodaj\n            </button>\n            <span v-else class=\"friend-badge\"> Znajomy</span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"friends-section\">\n        <h3>Twoi znajomi ({{ friends.length }})</h3>\n        <div v-if=\"friends.length === 0\" class=\"empty-state\">\n          Nie masz jeszcze znajomych. Dodaj kogo!\n        </div>\n        <div v-else class=\"friends-list\">\n          <div\n            v-for=\"friend in friendsWithMessages\"\n            :key=\"friend.id\"\n            class=\"friend-card\"\n            @click=\"startChat(friend)\"\n          >\n            <div class=\"friend-avatar\">{{ friend.username.charAt(0).toUpperCase() }}</div>\n            <div class=\"friend-info\">\n              <div class=\"friend-name-section\">\n                <div v-if=\"editingNickId === friend.id\" class=\"nick-edit\">\n                  <input\n                    v-model=\"editedNick\"\n                    type=\"text\"\n                    placeholder=\"Pseudonim\"\n                    @keyup.enter=\"saveNick(friend.id)\"\n                    @keyup.esc=\"cancelEditNick\"\n                    ref=\"nickInput\"\n                  />\n                  <button class=\"save-nick-btn\" @click.stop=\"saveNick(friend.id)\" title=\"Zapisz\"></button>\n                  <button class=\"cancel-nick-btn\" @click.stop=\"cancelEditNick\" title=\"Anuluj\"></button>\n                </div>\n                <div v-else class=\"friend-name\" @dblclick=\"startEditNick(friend)\">\n                  <span v-if=\"friend.nickname\">\n                    {{ friend.nickname }} <span class=\"real-username\">({{ friend.username }})</span>\n                  </span>\n                  <span v-else>{{ friend.username }}</span>\n                  <button class=\"edit-nick-btn\" @click.stop=\"startEditNick(friend)\" title=\"Edytuj pseudonim\"></button>\n                </div>\n              </div>\n              <div v-if=\"friend.lastMessage\" class=\"last-message\">\n                <span class=\"message-text\">{{ friend.lastMessage.content }}</span>\n                <div class=\"message-meta\">\n                  <span class=\"message-time\">{{ formatTime(friend.lastMessage.createdAt) }}</span>\n                  <span class=\"message-date\">{{ formatDate(friend.lastMessage.createdAt) }}</span>\n                  <span v-if=\"friend.lastMessage.authorId !== currentUser.id\" class=\"read-status\">\n                    {{ friend.lastMessage.isRead ? '' : '' }}\n                  </span>\n                </div>\n              </div>\n              <div v-else class=\"last-message no-messages\">\n                Brak wiadomoci\n              </div>\n            </div>\n            <div class=\"friend-actions\" @click.stop>\n              <button class=\"chat-btn\" @click=\"startChat(friend)\"> Czat</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Friends',\n  props: {\n    currentUser: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      friends: [],\n      allUsers: [],\n      conversations: [],\n      showAllUsers: false,\n      editingNickId: null,\n      editedNick: '',\n      nicknames: JSON.parse(localStorage.getItem('friendNicknames') || '{}'),\n      apiUrl: process.env.VUE_APP_API_URL || 'http://localhost:8000/api'\n    }\n  },\n  computed: {\n    availableUsers() {\n      return this.allUsers.filter(user => user.id !== this.currentUser?.id)\n    },\n    friendsWithMessages() {\n      return this.friends.map(friend => {\n        const conversation = this.conversations.find(\n          conv => conv.participant.id === friend.id\n        )\n        return {\n          ...friend,\n          nickname: this.nicknames[friend.id] || null,\n          ...friend,\n          lastMessage: conversation?.lastMessage || null\n        }\n      })\n    }\n  },\n  mounted() {\n    this.loadFriends()\n    this.loadAllUsers()\n    this.loadConversations()\n    // Refresh conversations every 3 seconds for real-time updates\n    this.conversationInterval = setInterval(() => {\n      this.loadConversations()\n    }, 3000)\n  },\n  beforeUnmount() {\n    if (this.conversationInterval) {\n      clearInterval(this.conversationInterval)\n    }\n  },\n  methods: {\n    getAuthHeaders() {\n      const token = localStorage.getItem('token')\n      if (!token) {\n        console.error('[Friends] No token found - forcing logout')\n        localStorage.clear()\n        this.$router.push('/login')\n        return {}\n      }\n      return {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    },\n    async loadFriends() {\n      try {\n        const response = await fetch(`${this.apiUrl}/auth/users/${this.currentUser.id}/friends`, {\n          headers: this.getAuthHeaders()\n        })\n        if (response.ok) {\n          this.friends = await response.json()\n        }\n      } catch (error) {\n        console.error('Error loading friends:', error)\n      }\n    },\n    async loadAllUsers() {\n      try {\n        const response = await fetch(`${this.apiUrl}/auth/users`, {\n          headers: this.getAuthHeaders()\n        })\n        if (response.ok) {\n          this.allUsers = await response.json()\n        }\n      } catch (error) {\n        console.error('Error loading users:', error)\n      }\n    },\n    async loadConversations() {\n      try {\n        const response = await fetch(`${this.apiUrl}/conversations/${this.currentUser.id}`, {\n          headers: this.getAuthHeaders()\n        })\n        if (response.ok) {\n          this.conversations = await response.json()\n        }\n      } catch (error) {\n        console.error('Error loading conversations:', error)\n      }\n    },\n    async addFriend(friendId) {\n      try {\n        const response = await fetch(`${this.apiUrl}/auth/users/${friendId}/friends`, {\n          method: 'POST',\n          headers: this.getAuthHeaders(),\n          body: JSON.stringify({\n            currentUserId: this.currentUser.id\n          })\n        })\n\n        if (response.ok) {\n          await this.loadFriends()\n          await this.loadAllUsers()\n        }\n      } catch (error) {\n        console.error('Error adding friend:', error)\n      }\n    },\n    isFriend(userId) {\n      return this.friends.some(friend => friend.id === userId)\n    },\n    startChat(friend) {\n      this.$emit('open-chat', friend)\n    },\n    formatTime(dateString) {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return `${date.getHours()}:${String(date.getMinutes()).padStart(2, '0')}`\n    },\n    formatDate(dateString) {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      const today = new Date()\n      const yesterday = new Date(today)\n      yesterday.setDate(yesterday.getDate() - 1)\n\n      if (date.toDateString() === today.toDateString()) {\n        return 'Dzisiaj'\n      } else if (date.toDateString() === yesterday.toDateString()) {\n        return 'Wczoraj'\n      } else {\n        return `${date.getDate()}.${date.getMonth() + 1}.${date.getFullYear()}`\n      }\n    },\n    startEditNick(friend) {\n      this.editingNickId = friend.id\n      this.editedNick = this.nicknames[friend.id] || ''\n      this.$nextTick(() => {\n        if (this.$refs.nickInput && this.$refs.nickInput[0]) {\n          this.$refs.nickInput[0].focus()\n        }\n      })\n    },\n    saveNick(friendId) {\n      if (this.editedNick.trim()) {\n        this.nicknames[friendId] = this.editedNick.trim()\n      } else {\n        delete this.nicknames[friendId]\n      }\n      localStorage.setItem('friendNicknames', JSON.stringify(this.nicknames))\n      this.editingNickId = null\n      this.editedNick = ''\n    },\n    cancelEditNick() {\n      this.editingNickId = null\n      this.editedNick = ''\n    }\n  }\n}\n</script>\n\n<style scoped>\n.friends-container {\n  width: 100%;\n  max-width: 1200px;\n  height: 90vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.friends-panel {\n  width: 100%;\n  height: 100%;\n  background: var(--color-cardBg);\n  backdrop-filter: blur(10px);\n  border: 2px solid var(--color-border);\n  border-radius: 20px;\n  padding: 30px;\n  box-shadow: 0 20px 60px var(--color-primary);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 25px;\n  padding-bottom: 20px;\n  border-bottom: 2px solid var(--color-border);\n}\n\n.panel-header h2 {\n  color: var(--color-primaryLight);\n  font-size: 28px;\n  text-shadow: 0 0 20px var(--color-primaryLight);\n  margin: 0;\n}\n\n.add-btn {\n  padding: 12px 24px;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryDark) 100%);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 14px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s;\n  box-shadow: 0 4px 15px var(--color-primary);\n}\n\n.add-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px var(--color-primary);\n}\n\n.all-users-section,\n.friends-section {\n  margin-bottom: 25px;\n}\n\n.all-users-section {\n  max-height: 40%;\n  overflow-y: auto;\n  padding-bottom: 20px;\n  border-bottom: 2px solid var(--color-border);\n}\n\n.friends-section {\n  flex: 1;\n  overflow-y: auto;\n}\n\nh3 {\n  color: var(--color-text);\n  font-size: 18px;\n  margin-bottom: 15px;\n}\n\n.empty-state {\n  text-align: center;\n  color: var(--color-textLight);\n  padding: 40px;\n  font-style: italic;\n}\n\n.users-list,\n.friends-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.user-card,\n.friend-card {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  padding: 15px;\n  background: rgba(0, 0, 0, 0.4);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  transition: all 0.3s;\n}\n\n.user-card:hover,\n.friend-card:hover {\n  border-color: var(--color-primaryLight);\n  background: var(--color-primary);\n  transform: translateX(5px);\n  cursor: pointer;\n}\n\n.user-avatar,\n.friend-avatar {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryDark) 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-weight: bold;\n  font-size: 20px;\n  flex-shrink: 0;\n}\n\n.user-info,\n.friend-info {\n  flex: 1;\n}\n\n.user-name,\n.friend-name {\n  color: var(--color-text);\n  font-weight: 600;\n  font-size: 16px;\n  margin-bottom: 4px;\n}\n\n.friend-name-section {\n  position: relative;\n}\n\n.friend-name {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n}\n\n.real-username {\n  color: var(--color-textLight);\n  font-size: 14px;\n  font-weight: normal;\n  font-style: italic;\n}\n\n.edit-nick-btn {\n  background: none;\n  border: none;\n  color: var(--color-textLight);\n  font-size: 14px;\n  cursor: pointer;\n  padding: 4px 8px;\n  border-radius: 4px;\n  transition: all 0.2s;\n  opacity: 0.6;\n}\n\n.edit-nick-btn:hover {\n  opacity: 1;\n  background: rgba(139, 92, 246, 0.2);\n}\n\n.nick-edit {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.nick-edit input {\n  flex: 1;\n  padding: 6px 10px;\n  background: rgba(0, 0, 0, 0.5);\n  border: 2px solid var(--color-primaryLight);\n  border-radius: 8px;\n  color: var(--color-text);\n  font-size: 15px;\n  font-weight: 600;\n  outline: none;\n  transition: all 0.3s;\n}\n\n.nick-edit input:focus {\n  box-shadow: 0 0 10px rgba(139, 92, 246, 0.3);\n}\n\n.save-nick-btn,\n.cancel-nick-btn {\n  padding: 6px 12px;\n  background: none;\n  border: 2px solid;\n  border-radius: 8px;\n  font-size: 18px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.2s;\n  flex-shrink: 0;\n}\n\n.save-nick-btn {\n  border-color: #22c55e;\n  color: #22c55e;\n}\n\n.save-nick-btn:hover {\n  background: #22c55e;\n  color: white;\n  transform: scale(1.1);\n}\n\n.cancel-nick-btn {\n  border-color: #ef4444;\n  color: #ef4444;\n}\n\n.cancel-nick-btn:hover {\n  background: #ef4444;\n  color: white;\n  transform: scale(1.1);\n}\n\n.user-email,\n.friend-email {\n  color: var(--color-textLight);\n  font-size: 14px;\n}\n\n.last-message {\n  margin-top: 8px;\n  padding-top: 8px;\n  border-top: 1px solid var(--color-border);\n}\n\n.message-text {\n  display: block;\n  color: var(--color-text);\n  font-size: 14px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 300px;\n  margin-bottom: 4px;\n}\n\n.message-meta {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 12px;\n}\n\n.message-time {\n  color: var(--color-textLight);\n  font-weight: 600;\n}\n\n.message-date {\n  color: var(--color-textLight);\n}\n\n.read-status {\n  color: var(--color-success);\n  font-weight: bold;\n  margin-left: auto;\n}\n\n.no-messages {\n  color: var(--color-textLight);\n  font-style: italic;\n  font-size: 13px;\n  border: none;\n  padding: 0;\n  margin-top: 4px;\n}\n\n.add-friend-btn,\n.chat-btn {\n  padding: 8px 16px;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryDark) 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 13px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s;\n  white-space: nowrap;\n}\n\n.add-friend-btn:hover,\n.chat-btn:hover {\n  transform: scale(1.05);\n  box-shadow: 0 4px 15px var(--color-primary);\n}\n\n.friend-badge {\n  padding: 8px 16px;\n  background: rgba(34, 197, 94, 0.2);\n  border: 1px solid rgba(34, 197, 94, 0.5);\n  border-radius: 8px;\n  color: #86efac;\n  font-size: 13px;\n  font-weight: bold;\n  white-space: nowrap;\n}\n\n.friend-actions {\n  display: flex;\n  gap: 8px;\n}\n\n/* Scrollbar styling */\n.all-users-section::-webkit-scrollbar,\n.friends-section::-webkit-scrollbar {\n  width: 8px;\n}\n\n.all-users-section::-webkit-scrollbar-track,\n.friends-section::-webkit-scrollbar-track {\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 4px;\n}\n\n.all-users-section::-webkit-scrollbar-thumb,\n.friends-section::-webkit-scrollbar-thumb {\n  background: var(--color-primary);\n  border-radius: 4px;\n}\n\n.all-users-section::-webkit-scrollbar-thumb:hover,\n.friends-section::-webkit-scrollbar-thumb:hover {\n  background: var(--color-primaryLight);\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .friends-panel {\n    padding: 20px;\n    height: auto;\n    max-height: none;\n  }\n\n  .panel-header {\n    flex-direction: column;\n    gap: 15px;\n    align-items: stretch;\n  }\n\n  .panel-header h2 {\n    font-size: 24px;\n    text-align: center;\n  }\n\n  .add-btn {\n    width: 100%;\n  }\n\n  .all-users-section {\n    max-height: none;\n  }\n\n  .user-card,\n  .friend-card {\n    padding: 12px;\n    gap: 12px;\n  }\n\n  .user-avatar,\n  .friend-avatar {\n    width: 45px;\n    height: 45px;\n    font-size: 18px;\n  }\n\n  .user-name,\n  .friend-name {\n    font-size: 15px;\n  }\n\n  .user-email {\n    font-size: 13px;\n  }\n\n  .message-text {\n    max-width: 200px;\n  }\n}\n\n@media (max-width: 480px) {\n  .friends-container {\n    height: auto;\n  }\n\n  .friends-panel {\n    padding: 15px;\n    border-radius: 15px;\n  }\n\n  .panel-header h2 {\n    font-size: 20px;\n  }\n\n  h3 {\n    font-size: 16px;\n  }\n\n  .user-card,\n  .friend-card {\n    padding: 10px;\n    gap: 10px;\n  }\n\n  .user-avatar,\n  .friend-avatar {\n    width: 40px;\n    height: 40px;\n    font-size: 16px;\n  }\n\n  .user-name,\n  .friend-name {\n    font-size: 14px;\n  }\n\n  .user-email {\n    font-size: 12px;\n  }\n\n  .message-text {\n    font-size: 13px;\n    max-width: 150px;\n  }\n\n  .message-meta {\n    font-size: 11px;\n  }\n\n  .add-friend-btn,\n  .chat-btn {\n    padding: 6px 12px;\n    font-size: 12px;\n  }\n\n  .friend-badge {\n    padding: 6px 12px;\n    font-size: 12px;\n  }\n}\n</style>\n","import { render } from \"./Friends.vue?vue&type=template&id=16173c4e&scoped=true\"\nimport script from \"./Friends.vue?vue&type=script&lang=js\"\nexport * from \"./Friends.vue?vue&type=script&lang=js\"\n\nimport \"./Friends.vue?vue&type=style&index=0&id=16173c4e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-16173c4e\"]])\n\nexport default __exports__","<template>\n  <div class=\"events-container\">\n    <div class=\"events-panel\">\n      <div class=\"panel-header\">\n        <h2> Wydarzenia</h2>\n        <button class=\"add-event-btn\" @click=\"showAddEventForm = !showAddEventForm\">\n          {{ showAddEventForm ? ' Anuluj' : ' Dodaj wydarzenie' }}\n        </button>\n      </div>\n\n      <!-- Success notification -->\n      <div v-if=\"successMessage\" class=\"success-notification\">\n        {{ successMessage }}\n      </div>\n\n      <!-- Formularz dodawania wydarzenia -->\n      <div v-if=\"showAddEventForm\" class=\"add-event-form\">\n        <input v-model=\"newEvent.title\" placeholder=\"Tytu wydarzenia\" />\n        <textarea v-model=\"newEvent.description\" placeholder=\"Opis (opcjonalnie)\"></textarea>\n        <div class=\"form-row\">\n          <input v-model=\"newEvent.date\" type=\"date\" />\n          <input v-model=\"newEvent.time\" type=\"time\" />\n        </div>\n        <button @click=\"addEvent\" class=\"save-btn\">Zapisz wydarzenie</button>\n      </div>\n\n      <div class=\"events-content\">\n        <!-- Kalendarz -->\n        <div class=\"calendar-section\">\n          <div class=\"calendar-header\">\n            <button @click=\"previousMonth\" class=\"nav-btn\"></button>\n            <h3>{{ currentMonthYear }}</h3>\n            <button @click=\"nextMonth\" class=\"nav-btn\"></button>\n          </div>\n\n          <div class=\"calendar-grid\">\n            <div v-for=\"day in daysOfWeek\" :key=\"day\" class=\"calendar-day-name\">{{ day }}</div>\n            <div\n              v-for=\"(day, index) in calendarDays\"\n              :key=\"index\"\n              :class=\"['calendar-day', {\n                'other-month': day.otherMonth,\n                'today': day.isToday,\n                'selected': day.date === selectedDate,\n                'has-events': dayHasEvents(day.date)\n              }]\"\n              @click=\"selectDate(day.date)\"\n            >\n              <span class=\"day-number\">{{ day.day }}</span>\n              <span v-if=\"dayHasEvents(day.date)\" class=\"event-dot\"></span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Wydarzenia na wybrany dzie -->\n        <div class=\"events-list-section\">\n          <h3>Wydarzenia - {{ selectedDateFormatted }}</h3>\n          <div v-if=\"selectedDayEvents.length === 0\" class=\"empty-state\">\n            Brak wydarze na ten dzie\n          </div>\n          <div v-else class=\"events-list\">\n            <div v-for=\"event in selectedDayEvents\" :key=\"event.id\" class=\"event-card\">\n              <div class=\"event-header\">\n                <h4>{{ event.title }}</h4>\n                <span class=\"event-time\">{{ event.time }}</span>\n              </div>\n              <p v-if=\"event.description\" class=\"event-description\">{{ event.description }}</p>\n              <div class=\"event-meta\">\n                <span class=\"event-author\">{{ event.author.username }}</span>\n                <button @click=\"deleteEvent(event.id)\" class=\"delete-btn\"></button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Lista rzeczy do zrobienia -->\n        <div class=\"todo-section\">\n          <div class=\"todo-header\">\n            <h3> Rzeczy do zrobienia</h3>\n            <button @click=\"showAddTodoForm = !showAddTodoForm\" class=\"add-todo-btn\">+</button>\n          </div>\n\n          <div v-if=\"showAddTodoForm\" class=\"add-todo-form\">\n            <input\n              v-model=\"newTodo\"\n              placeholder=\"Nowe zadanie...\"\n              @keyup.enter=\"addTodo\"\n            />\n            <button @click=\"addTodo\">Dodaj</button>\n          </div>\n\n          <div class=\"todo-list\">\n            <div v-for=\"todo in todos\" :key=\"todo.id\" class=\"todo-item\">\n              <input\n                type=\"checkbox\"\n                :checked=\"todo.completed\"\n                @change=\"toggleTodo(todo.id)\"\n              />\n              <span :class=\"{ completed: todo.completed }\">{{ todo.text }}</span>\n              <button @click=\"deleteTodo(todo.id)\" class=\"delete-btn-small\"></button>\n            </div>\n            <div v-if=\"todos.length === 0\" class=\"empty-state-small\">\n              Brak zada\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Events',\n  props: {\n    currentUser: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      currentDate: new Date(),\n      selectedDate: new Date().toISOString().split('T')[0],\n      events: [],\n      todos: [],\n      showAddEventForm: false,\n      showAddTodoForm: false,\n      newEvent: {\n        title: '',\n        description: '',\n        date: new Date().toISOString().split('T')[0],\n        time: '12:00'\n      },\n      newTodo: '',\n      daysOfWeek: ['Pn', 'Wt', 'r', 'Cz', 'Pt', 'Sb', 'Nd'],\n      apiUrl: process.env.VUE_APP_API_URL || 'http://localhost:8000/api',\n      successMessage: ''\n    }\n  },\n  computed: {\n    currentMonthYear() {\n      return this.currentDate.toLocaleDateString('pl-PL', { month: 'long', year: 'numeric' })\n    },\n    selectedDateFormatted() {\n      // Parse date as YYYY-MM-DD without timezone conversion\n      const [year, month, day] = this.selectedDate.split('-').map(Number)\n      const date = new Date(year, month - 1, day)\n      return date.toLocaleDateString('pl-PL', { day: 'numeric', month: 'long', year: 'numeric' })\n    },\n    calendarDays() {\n      const year = this.currentDate.getFullYear()\n      const month = this.currentDate.getMonth()\n\n      const firstDay = new Date(year, month, 1)\n      const lastDay = new Date(year, month + 1, 0)\n\n      // Polski tydzie zaczyna si od poniedziaku (1), a nie niedzieli (0)\n      let startDay = firstDay.getDay() - 1\n      if (startDay === -1) startDay = 6\n\n      const days = []\n\n      // Helper function to format date as YYYY-MM-DD without timezone issues\n      const formatDate = (year, month, day) => {\n        const y = year.toString()\n        const m = (month + 1).toString().padStart(2, '0')\n        const d = day.toString().padStart(2, '0')\n        return `${y}-${m}-${d}`\n      }\n\n      // Poprzedni miesic\n      const prevMonthLastDay = new Date(year, month, 0).getDate()\n      for (let i = startDay - 1; i >= 0; i--) {\n        const day = prevMonthLastDay - i\n        days.push({\n          day,\n          date: formatDate(year, month - 1, day),\n          otherMonth: true,\n          isToday: false\n        })\n      }\n\n      // Aktualny miesic\n      const now = new Date()\n      const today = formatDate(now.getFullYear(), now.getMonth(), now.getDate())\n\n      for (let day = 1; day <= lastDay.getDate(); day++) {\n        const dateStr = formatDate(year, month, day)\n        days.push({\n          day,\n          date: dateStr,\n          otherMonth: false,\n          isToday: dateStr === today\n        })\n      }\n\n      // Nastpny miesic\n      const remaining = 42 - days.length // 6 tygodni x 7 dni\n      for (let day = 1; day <= remaining; day++) {\n        days.push({\n          day,\n          date: formatDate(year, month + 1, day),\n          otherMonth: true,\n          isToday: false\n        })\n      }\n\n      return days\n    },\n    selectedDayEvents() {\n      return this.events.filter(event => event.date === this.selectedDate)\n    }\n  },\n  mounted() {\n    this.loadEvents()\n    this.loadTodos()\n  },\n  methods: {\n    getAuthHeaders() {\n      const token = localStorage.getItem('token')\n      if (!token) {\n        console.error('[Events] No token found - forcing logout')\n        localStorage.clear()\n        this.$router.push('/login')\n        return {}\n      }\n      return {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    },\n    previousMonth() {\n      this.currentDate = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() - 1)\n    },\n    nextMonth() {\n      this.currentDate = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() + 1)\n    },\n    selectDate(date) {\n      this.selectedDate = date\n      // Auto-ustaw dat w formularzu nowego wydarzenia\n      this.newEvent.date = date\n      // NIE otwieraj formularza - tylko poka wydarzenia z tego dnia\n    },\n    dayHasEvents(date) {\n      return this.events.some(event => event.date === date)\n    },\n    async loadEvents() {\n      try {\n        const response = await fetch(`${this.apiUrl}/events`, {\n          headers: this.getAuthHeaders()\n        })\n        if (response.ok) {\n          this.events = await response.json()\n        }\n      } catch (error) {\n        console.error('Error loading events:', error)\n      }\n    },\n    async addEvent() {\n      if (!this.newEvent.title.trim()) {\n        alert('Tytu wydarzenia jest wymagany')\n        return\n      }\n\n      if (!this.currentUser || !this.currentUser.id) {\n        alert('Bd: Brak zalogowanego uytkownika')\n        console.error('currentUser:', this.currentUser)\n        return\n      }\n\n      try {\n        const response = await fetch(`${this.apiUrl}/events`, {\n          method: 'POST',\n          headers: this.getAuthHeaders(),\n          body: JSON.stringify({\n            ...this.newEvent,\n            userId: this.currentUser.id\n          })\n        })\n\n        if (response.ok) {\n          await this.loadEvents()\n          this.newEvent = {\n            title: '',\n            description: '',\n            date: new Date().toISOString().split('T')[0],\n            time: '12:00'\n          }\n          this.showAddEventForm = false\n          this.successMessage = ' Wydarzenie dodane pomylnie!'\n          setTimeout(() => {\n            this.successMessage = ''\n          }, 3000)\n        } else {\n          const error = await response.json()\n          alert('Bd podczas dodawania wydarzenia: ' + (error.error || 'Nieznany bd'))\n          console.error('Response error:', error)\n        }\n      } catch (error) {\n        console.error('Error adding event:', error)\n        alert('Bd poczenia z serwerem')\n      }\n    },\n    async deleteEvent(eventId) {\n      try {\n        const response = await fetch(`${this.apiUrl}/events/${eventId}`, {\n          method: 'DELETE',\n          headers: this.getAuthHeaders()\n        })\n\n        if (response.ok) {\n          await this.loadEvents()\n        }\n      } catch (error) {\n        console.error('Error deleting event:', error)\n      }\n    },\n    async loadTodos() {\n      try {\n        const response = await fetch(`${this.apiUrl}/todos/${this.currentUser.id}`, {\n          headers: this.getAuthHeaders()\n        })\n        if (response.ok) {\n          this.todos = await response.json()\n        }\n      } catch (error) {\n        console.error('Error loading todos:', error)\n      }\n    },\n    async addTodo() {\n      if (!this.newTodo.trim()) {\n        alert('Tre zadania jest wymagana')\n        return\n      }\n\n      if (!this.currentUser || !this.currentUser.id) {\n        alert('Bd: Brak zalogowanego uytkownika')\n        return\n      }\n\n      try {\n        const response = await fetch(`${this.apiUrl}/todos`, {\n          method: 'POST',\n          headers: this.getAuthHeaders(),\n          body: JSON.stringify({\n            text: this.newTodo,\n            userId: this.currentUser.id\n          })\n        })\n\n        if (response.ok) {\n          await this.loadTodos()\n          this.newTodo = ''\n          this.showAddTodoForm = false\n        } else {\n          const error = await response.json()\n          alert('Bd podczas dodawania zadania: ' + (error.error || 'Nieznany bd'))\n        }\n      } catch (error) {\n        console.error('Error adding todo:', error)\n        alert('Bd poczenia z serwerem')\n      }\n    },\n    async toggleTodo(todoId) {\n      try {\n        const todo = this.todos.find(t => t.id === todoId)\n        const response = await fetch(`${this.apiUrl}/todos/${todoId}`, {\n          method: 'PATCH',\n          headers: this.getAuthHeaders(),\n          body: JSON.stringify({\n            completed: !todo.completed\n          })\n        })\n\n        if (response.ok) {\n          await this.loadTodos()\n        }\n      } catch (error) {\n        console.error('Error toggling todo:', error)\n      }\n    },\n    async deleteTodo(todoId) {\n      try {\n        const response = await fetch(`${this.apiUrl}/todos/${todoId}`, {\n          method: 'DELETE',\n          headers: this.getAuthHeaders()\n        })\n\n        if (response.ok) {\n          await this.loadTodos()\n        }\n      } catch (error) {\n        console.error('Error deleting todo:', error)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.events-container {\n  width: 100%;\n  max-width: 1400px;\n  height: 90vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 0 auto;\n}\n\n.events-panel {\n  width: 100%;\n  height: 100%;\n  background: var(--color-cardBg);\n  backdrop-filter: blur(10px);\n  border: 2px solid var(--color-border);\n  border-radius: 20px;\n  padding: 30px;\n  box-shadow: 0 20px 60px var(--color-primary);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 25px;\n  padding-bottom: 20px;\n  border-bottom: 2px solid var(--color-border);\n}\n\n.panel-header h2 {\n  color: var(--color-primaryLight);\n  font-size: 28px;\n  text-shadow: 0 0 20px var(--color-primaryLight);\n  margin: 0;\n}\n\n.add-event-btn {\n  padding: 12px 24px;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryDark) 100%);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 14px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s;\n  box-shadow: 0 4px 15px var(--color-primary);\n}\n\n.add-event-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px var(--color-primary);\n}\n\n.add-event-form {\n  background: rgba(0, 0, 0, 0.3);\n  border: 2px solid var(--color-border);\n  border-radius: 15px;\n  padding: 20px;\n  margin-bottom: 20px;\n}\n\n.add-event-form input,\n.add-event-form textarea {\n  width: 100%;\n  padding: 12px;\n  margin-bottom: 12px;\n  background: rgba(0, 0, 0, 0.5);\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  color: white;\n  font-size: 14px;\n}\n\n.add-event-form textarea {\n  min-height: 80px;\n  resize: vertical;\n}\n\n.form-row {\n  display: flex;\n  gap: 12px;\n}\n\n.form-row input {\n  flex: 1;\n}\n\n.save-btn {\n  width: 100%;\n  padding: 12px;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryDark) 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.save-btn:hover {\n  transform: scale(1.02);\n}\n\n.events-content {\n  flex: 1;\n  display: grid;\n  grid-template-columns: 1.5fr 1fr 0.8fr;\n  gap: 20px;\n  overflow: hidden;\n}\n\n.calendar-section,\n.events-list-section,\n.todo-section {\n  background: rgba(0, 0, 0, 0.3);\n  border: 2px solid var(--color-border);\n  border-radius: 15px;\n  padding: 20px;\n  overflow-y: auto;\n}\n\n.calendar-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.calendar-header h3 {\n  color: var(--color-text);\n  margin: 0;\n  font-size: 18px;\n  text-transform: capitalize;\n}\n\n.nav-btn {\n  background: var(--color-primary);\n  border: none;\n  color: white;\n  padding: 8px 12px;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.nav-btn:hover {\n  background: var(--color-primaryLight);\n  transform: scale(1.1);\n}\n\n.calendar-grid {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 5px;\n}\n\n.calendar-day-name {\n  text-align: center;\n  color: var(--color-textLight);\n  font-size: 12px;\n  font-weight: bold;\n  padding: 8px 0;\n}\n\n.calendar-day {\n  aspect-ratio: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background: rgba(0, 0, 0, 0.3);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s;\n  position: relative;\n}\n\n.calendar-day:hover {\n  background: var(--color-primary);\n  transform: scale(1.05);\n}\n\n.calendar-day.other-month {\n  opacity: 0.3;\n}\n\n.calendar-day.today {\n  border: 2px solid var(--color-primaryLight);\n  background: var(--color-primary);\n}\n\n.calendar-day.selected {\n  background: var(--color-primaryDark);\n  box-shadow: 0 0 10px var(--color-primary);\n}\n\n.calendar-day.has-events .day-number {\n  font-weight: bold;\n  color: var(--color-primaryLighter);\n}\n\n.day-number {\n  color: var(--color-text);\n  font-size: 14px;\n}\n\n.event-dot {\n  width: 4px;\n  height: 4px;\n  background: var(--color-primaryLight);\n  border-radius: 50%;\n  position: absolute;\n  bottom: 4px;\n}\n\n.events-list-section h3,\n.todo-header h3 {\n  color: var(--color-text);\n  font-size: 16px;\n  margin-bottom: 15px;\n}\n\n.events-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.event-card {\n  background: rgba(0, 0, 0, 0.4);\n  border: 1px solid var(--color-border);\n  border-radius: 10px;\n  padding: 15px;\n  transition: all 0.2s;\n}\n\n.event-card:hover {\n  border-color: var(--color-primaryLight);\n  transform: translateX(5px);\n}\n\n.event-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.event-header h4 {\n  color: var(--color-primaryLight);\n  margin: 0;\n  font-size: 16px;\n}\n\n.event-time {\n  color: var(--color-textLight);\n  font-size: 14px;\n}\n\n.event-description {\n  color: var(--color-text);\n  font-size: 14px;\n  margin: 8px 0;\n}\n\n.event-meta {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 10px;\n  padding-top: 10px;\n  border-top: 1px solid var(--color-border);\n}\n\n.event-author {\n  color: var(--color-textLight);\n  font-size: 12px;\n}\n\n.delete-btn {\n  background: rgba(239, 68, 68, 0.2);\n  border: 1px solid rgba(239, 68, 68, 0.3);\n  color: #fca5a5;\n  padding: 4px 8px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.delete-btn:hover {\n  background: rgba(239, 68, 68, 0.4);\n  transform: scale(1.1);\n}\n\n.todo-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.add-todo-btn {\n  width: 32px;\n  height: 32px;\n  background: var(--color-primary);\n  border: none;\n  color: white;\n  border-radius: 50%;\n  font-size: 20px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.add-todo-btn:hover {\n  background: var(--color-primaryLight);\n  transform: scale(1.1);\n}\n\n.add-todo-form {\n  display: flex;\n  gap: 8px;\n  margin-bottom: 15px;\n}\n\n.add-todo-form input {\n  flex: 1;\n  padding: 10px;\n  background: rgba(0, 0, 0, 0.5);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  color: white;\n  font-size: 14px;\n}\n\n.add-todo-form button {\n  padding: 10px 16px;\n  background: var(--color-primary);\n  border: none;\n  color: white;\n  border-radius: 8px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.add-todo-form button:hover {\n  background: var(--color-primaryLight);\n}\n\n.todo-list {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.todo-item {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 10px;\n  background: rgba(0, 0, 0, 0.4);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  transition: all 0.2s;\n}\n\n.todo-item:hover {\n  border-color: var(--color-primaryLight);\n}\n\n.todo-item input[type=\"checkbox\"] {\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n}\n\n.todo-item span {\n  flex: 1;\n  color: var(--color-text);\n  font-size: 14px;\n}\n\n.todo-item span.completed {\n  text-decoration: line-through;\n  opacity: 0.5;\n}\n\n.delete-btn-small {\n  background: none;\n  border: none;\n  color: var(--color-textLight);\n  font-size: 20px;\n  cursor: pointer;\n  transition: all 0.2s;\n  padding: 0;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.delete-btn-small:hover {\n  color: #fca5a5;\n  transform: scale(1.2);\n}\n\n.empty-state {\n  text-align: center;\n  color: var(--color-textLight);\n  padding: 40px 20px;\n  font-style: italic;\n}\n\n.empty-state-small {\n  text-align: center;\n  color: var(--color-textLight);\n  padding: 20px;\n  font-size: 14px;\n  font-style: italic;\n}\n\n/* Success notification */\n.success-notification {\n  background: rgba(34, 197, 94, 0.2);\n  border: 2px solid rgba(34, 197, 94, 0.5);\n  color: #86efac;\n  padding: 15px 20px;\n  border-radius: 12px;\n  margin-bottom: 20px;\n  font-weight: 600;\n  text-align: center;\n  animation: slideDown 0.3s ease-out;\n}\n\n@keyframes slideDown {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Responsive */\n@media (max-width: 1200px) {\n  .events-content {\n    grid-template-columns: 1fr;\n    grid-template-rows: auto auto auto;\n  }\n}\n\n@media (max-width: 768px) {\n  .events-panel {\n    padding: 20px;\n  }\n\n  .panel-header {\n    flex-direction: column;\n    gap: 15px;\n    align-items: stretch;\n  }\n\n  .add-event-btn {\n    width: 100%;\n  }\n\n  .calendar-day {\n    font-size: 12px;\n  }\n\n  .day-number {\n    font-size: 12px;\n  }\n}\n</style>\n","import { render } from \"./Events.vue?vue&type=template&id=09dcf6b1&scoped=true\"\nimport script from \"./Events.vue?vue&type=script&lang=js\"\nexport * from \"./Events.vue?vue&type=script&lang=js\"\n\nimport \"./Events.vue?vue&type=style&index=0&id=09dcf6b1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-09dcf6b1\"]])\n\nexport default __exports__","<template>\n  <div class=\"gallery-container\">\n    <div class=\"gallery-header\">\n      <h1> Galeria Zdj</h1>\n      <button class=\"add-photo-btn\" @click=\"showUploadModal = true\">\n         Dodaj zdjcie\n      </button>\n    </div>\n\n    <!-- Upload Modal -->\n    <div v-if=\"showUploadModal\" class=\"modal-overlay\" @click=\"closeUploadModal\">\n      <div class=\"modal-content\" @click.stop>\n        <div class=\"modal-header\">\n          <h2>Dodaj nowe zdjcie</h2>\n          <button class=\"close-btn\" @click=\"closeUploadModal\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"upload-area\" @drop=\"handleDrop\" @dragover.prevent @dragleave.prevent>\n            <input\n              ref=\"fileInput\"\n              type=\"file\"\n              accept=\"image/*\"\n              @change=\"handleFileSelect\"\n              style=\"display: none\"\n            />\n            <div v-if=\"!selectedFile\" class=\"upload-placeholder\" @click=\"$refs.fileInput.click()\">\n              <div class=\"upload-icon\"></div>\n              <p>Kliknij lub przecignij zdjcie</p>\n            </div>\n            <div v-else class=\"upload-preview\">\n              <img :src=\"previewUrl\" alt=\"Preview\" />\n              <button class=\"remove-btn\" @click=\"removeFile\"></button>\n            </div>\n          </div>\n          <div class=\"caption-input\">\n            <input\n              v-model=\"newCaption\"\n              type=\"text\"\n              placeholder=\"Dodaj podpis (opcjonalne)\"\n              maxlength=\"255\"\n            />\n          </div>\n          <div class=\"modal-actions\">\n            <button class=\"cancel-btn\" @click=\"closeUploadModal\">Anuluj</button>\n            <button class=\"upload-btn\" @click=\"uploadPhoto\" :disabled=\"!selectedFile || uploading\">\n              {{ uploading ? 'Przesyanie...' : 'Przelij' }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Edit Modal -->\n    <div v-if=\"editingPhoto\" class=\"modal-overlay\" @click=\"closeEditModal\">\n      <div class=\"modal-content edit-modal\" @click.stop>\n        <div class=\"modal-header\">\n          <h2>Edytuj zdjcie</h2>\n          <button class=\"close-btn\" @click=\"closeEditModal\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"edit-tools\">\n            <button\n              :class=\"['tool-btn', { active: editMode === 'crop' }]\"\n              @click=\"editMode = 'crop'\"\n            >\n               Przytnij\n            </button>\n            <button\n              :class=\"['tool-btn', { active: editMode === 'draw' }]\"\n              @click=\"editMode = 'draw'\"\n            >\n               Rysuj\n            </button>\n            <button\n              :class=\"['tool-btn', { active: editMode === 'text' }]\"\n              @click=\"editMode = 'text'\"\n            >\n               Tekst\n            </button>\n            <button class=\"tool-btn\" @click=\"resetEdit\">\n               Reset\n            </button>\n          </div>\n\n          <div class=\"edit-canvas-container\">\n            <canvas ref=\"editCanvas\" @mousedown=\"startDrawing\" @mousemove=\"draw\" @mouseup=\"stopDrawing\" @mouseleave=\"stopDrawing\"></canvas>\n          </div>\n\n          <div v-if=\"editMode === 'draw'\" class=\"draw-options\">\n            <label>Kolor:</label>\n            <input v-model=\"drawColor\" type=\"color\" />\n            <label>Grubo:</label>\n            <input v-model=\"drawWidth\" type=\"range\" min=\"1\" max=\"20\" />\n          </div>\n\n          <div v-if=\"editMode === 'text'\" class=\"text-options\">\n            <input v-model=\"textToAdd\" type=\"text\" placeholder=\"Wpisz tekst\" />\n            <label>Kolor:</label>\n            <input v-model=\"textColor\" type=\"color\" />\n            <label>Rozmiar:</label>\n            <input v-model=\"textSize\" type=\"range\" min=\"10\" max=\"100\" />\n            <button @click=\"addTextToCanvas\">Dodaj tekst</button>\n          </div>\n\n          <div class=\"modal-actions\">\n            <button class=\"cancel-btn\" @click=\"closeEditModal\">Anuluj</button>\n            <button class=\"save-btn\" @click=\"saveEditedPhoto\">Zapisz</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Photos Grid -->\n    <div v-if=\"loading\" class=\"loading\">adowanie zdj...</div>\n    <div v-else-if=\"photos.length === 0\" class=\"empty-state\">\n      <div class=\"empty-icon\"></div>\n      <p>Brak zdj w galerii</p>\n      <button class=\"add-first-btn\" @click=\"showUploadModal = true\">Dodaj pierwsze zdjcie</button>\n    </div>\n    <div v-else class=\"photos-grid\">\n      <div v-for=\"photo in photos\" :key=\"photo.id\" class=\"photo-card\">\n        <div class=\"photo-wrapper\" @click=\"openPhotoView(photo)\">\n          <img :src=\"photo.url\" :alt=\"photo.caption || 'Photo'\" />\n        </div>\n        <div class=\"photo-info\">\n          <div v-if=\"editingCaptionId === photo.id\" class=\"caption-edit\">\n            <input\n              v-model=\"editedCaption\"\n              type=\"text\"\n              @keyup.enter=\"saveCaption(photo.id)\"\n              @blur=\"saveCaption(photo.id)\"\n              ref=\"captionInput\"\n            />\n          </div>\n          <div v-else class=\"caption-display\" @click=\"startEditCaption(photo)\">\n            <p class=\"caption\">{{ photo.caption || 'Kliknij aby doda podpis' }}</p>\n          </div>\n          <p class=\"upload-date\">{{ formatDate(photo.uploadedAt) }}</p>\n        </div>\n        <div class=\"photo-actions\">\n          <button class=\"action-btn edit\" @click=\"startEdit(photo)\" title=\"Edytuj\"></button>\n          <button class=\"action-btn delete\" @click=\"deletePhoto(photo.id)\" title=\"Usu\"></button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Photo View Modal -->\n    <div v-if=\"viewingPhoto\" class=\"modal-overlay\" @click=\"viewingPhoto = null\">\n      <div class=\"photo-view-modal\" @click.stop>\n        <button class=\"close-btn\" @click=\"viewingPhoto = null\"></button>\n        <img :src=\"viewingPhoto.url\" :alt=\"viewingPhoto.caption\" />\n        <div class=\"photo-view-info\">\n          <p v-if=\"viewingPhoto.caption\" class=\"caption\">{{ viewingPhoto.caption }}</p>\n          <p class=\"date\">{{ formatDate(viewingPhoto.uploadedAt) }}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Gallery',\n  props: {\n    currentUser: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      photos: [],\n      loading: false,\n      showUploadModal: false,\n      selectedFile: null,\n      previewUrl: null,\n      newCaption: '',\n      uploading: false,\n      editingPhoto: null,\n      editMode: 'crop',\n      drawColor: '#ff0000',\n      drawWidth: 5,\n      textColor: '#ffffff',\n      textSize: 30,\n      textToAdd: '',\n      isDrawing: false,\n      lastX: 0,\n      lastY: 0,\n      editingCaptionId: null,\n      editedCaption: '',\n      viewingPhoto: null,\n      apiUrl: process.env.VUE_APP_API_URL || 'http://localhost:8000/api',\n      originalImageData: null,\n      editCanvas: null,\n      editCtx: null\n    }\n  },\n  mounted() {\n    this.loadPhotos()\n  },\n  methods: {\n    getAuthHeaders() {\n      const token = localStorage.getItem('token')\n      if (!token) {\n        console.error('[Gallery] No token found - forcing logout')\n        localStorage.clear()\n        this.$router.push('/login')\n        return {}\n      }\n      return {\n        'Authorization': `Bearer ${token}`\n      }\n    },\n    async loadPhotos() {\n      this.loading = true\n      try {\n        const response = await fetch(`${this.apiUrl}/photos/${this.currentUser.id}`, {\n          headers: this.getAuthHeaders()\n        })\n        const data = await response.json()\n        this.photos = Array.isArray(data) ? data : []\n      } catch (error) {\n        console.error('Error loading photos:', error)\n        alert('Bd podczas adowania zdj')\n      } finally {\n        this.loading = false\n      }\n    },\n    handleFileSelect(event) {\n      const file = event.target.files[0]\n      if (file) {\n        this.processFile(file)\n      }\n    },\n    handleDrop(event) {\n      event.preventDefault()\n      const file = event.dataTransfer.files[0]\n      if (file && file.type.startsWith('image/')) {\n        this.processFile(file)\n      }\n    },\n    processFile(file) {\n      // Check file type - images and videos\n      const validTypes = [\n        'image/jpeg',\n        'image/jpg',\n        'image/png',\n        'image/gif',\n        'image/webp',\n        'image/bmp',\n        'video/mp4',\n        'video/quicktime',\n        'video/x-msvideo'\n      ]\n      if (!validTypes.includes(file.type.toLowerCase())) {\n        alert(`Nieprawidowy typ pliku: ${file.type}. Dozwolone formaty: JPEG, JPG, PNG, GIF, WebP, BMP, MP4`)\n        console.error('Invalid file type:', file.type)\n        return\n      }\n\n      // Larger size limit for videos (50MB)\n      const maxSize = file.type.startsWith('video/') ? 50 * 1024 * 1024 : 10 * 1024 * 1024\n      if (file.size > maxSize) {\n        const limit = file.type.startsWith('video/') ? '50MB' : '10MB'\n        alert(`Plik jest za duy (max ${limit})`)\n        return\n      }\n\n      console.log('File accepted:', file.name, file.type, file.size)\n      this.selectedFile = file\n      this.previewUrl = URL.createObjectURL(file)\n    },\n    removeFile() {\n      this.selectedFile = null\n      this.previewUrl = null\n      if (this.$refs.fileInput) {\n        this.$refs.fileInput.value = ''\n      }\n    },\n    async uploadPhoto() {\n      if (!this.selectedFile) return\n\n      this.uploading = true\n      console.log('Uploading file:', this.selectedFile.name, this.selectedFile.type)\n\n      const formData = new FormData()\n      formData.append('file', this.selectedFile)\n      formData.append('userId', this.currentUser.id)\n      formData.append('caption', this.newCaption)\n\n      try {\n        const response = await fetch(`${this.apiUrl}/photos`, {\n          method: 'POST',\n          headers: this.getAuthHeaders(),\n          body: formData\n        })\n\n        if (response.ok) {\n          await this.loadPhotos()\n          this.closeUploadModal()\n          alert('Zdjcie dodane pomylnie!')\n        } else {\n          const error = await response.json()\n          console.error('Upload failed:', error)\n          let errorMsg = 'Bd: ' + (error.error || 'Nie udao si przesa zdjcia')\n          if (error.receivedMimeType) {\n            errorMsg += `\\n\\nTyp pliku: ${error.receivedMimeType}`\n            errorMsg += `\\nAkceptowane typy: JPEG, PNG, GIF, WebP, BMP`\n          }\n          alert(errorMsg)\n        }\n      } catch (error) {\n        console.error('Upload error:', error)\n        alert('Bd podczas przesyania zdjcia: ' + error.message)\n      } finally {\n        this.uploading = false\n      }\n    },\n    closeUploadModal() {\n      this.showUploadModal = false\n      this.removeFile()\n      this.newCaption = ''\n    },\n    startEdit(photo) {\n      this.editingPhoto = photo\n      this.editMode = 'crop'\n      this.$nextTick(() => {\n        this.initEditCanvas(photo.url)\n      })\n    },\n    initEditCanvas(imageUrl) {\n      const canvas = this.$refs.editCanvas\n      if (!canvas) {\n        console.error('Canvas not found')\n        return\n      }\n\n      this.editCanvas = canvas\n      this.editCtx = canvas.getContext('2d')\n\n      const img = new Image()\n\n      img.onerror = (error) => {\n        console.error('Error loading image:', error)\n        alert('Bd podczas adowania zdjcia. Sprbuj ponownie.')\n      }\n\n      img.onload = () => {\n        const maxWidth = 800\n        const maxHeight = 600\n        let width = img.width\n        let height = img.height\n\n        if (width > maxWidth) {\n          height = (height * maxWidth) / width\n          width = maxWidth\n        }\n        if (height > maxHeight) {\n          width = (width * maxHeight) / height\n          height = maxHeight\n        }\n\n        canvas.width = width\n        canvas.height = height\n        this.editCtx.drawImage(img, 0, 0, width, height)\n        this.originalImageData = this.editCtx.getImageData(0, 0, width, height)\n        console.log('Canvas initialized successfully', width, height)\n      }\n\n      // Don't use crossOrigin for same-origin images\n      // Only add if needed for external images\n      if (imageUrl.startsWith('http') && !imageUrl.includes(window.location.hostname)) {\n        img.crossOrigin = 'anonymous'\n      }\n\n      img.src = imageUrl\n    },\n    startDrawing(e) {\n      if (this.editMode !== 'draw') return\n      this.isDrawing = true\n      const rect = this.editCanvas.getBoundingClientRect()\n      this.lastX = e.clientX - rect.left\n      this.lastY = e.clientY - rect.top\n    },\n    draw(e) {\n      if (!this.isDrawing || this.editMode !== 'draw') return\n      const rect = this.editCanvas.getBoundingClientRect()\n      const x = e.clientX - rect.left\n      const y = e.clientY - rect.top\n\n      this.editCtx.beginPath()\n      this.editCtx.moveTo(this.lastX, this.lastY)\n      this.editCtx.lineTo(x, y)\n      this.editCtx.strokeStyle = this.drawColor\n      this.editCtx.lineWidth = this.drawWidth\n      this.editCtx.lineCap = 'round'\n      this.editCtx.stroke()\n\n      this.lastX = x\n      this.lastY = y\n    },\n    stopDrawing() {\n      this.isDrawing = false\n    },\n    addTextToCanvas() {\n      if (!this.textToAdd.trim()) return\n      this.editCtx.font = `${this.textSize}px Arial`\n      this.editCtx.fillStyle = this.textColor\n      this.editCtx.fillText(this.textToAdd, 50, 50)\n      this.textToAdd = ''\n    },\n    resetEdit() {\n      if (this.originalImageData) {\n        this.editCtx.putImageData(this.originalImageData, 0, 0)\n      }\n    },\n    async saveEditedPhoto() {\n      if (!this.editCanvas) return\n\n      this.editCanvas.toBlob(async (blob) => {\n        const formData = new FormData()\n        formData.append('file', blob, 'edited.jpg')\n        formData.append('userId', this.currentUser.id)\n        formData.append('caption', this.editingPhoto.caption || '')\n\n        try {\n          // Upload as new photo\n          const response = await fetch(`${this.apiUrl}/photos`, {\n            method: 'POST',\n            headers: this.getAuthHeaders(),\n            body: formData\n          })\n\n          if (response.ok) {\n            await this.loadPhotos()\n            this.closeEditModal()\n            alert('Zdjcie zapisane!')\n          }\n        } catch (error) {\n          console.error('Save error:', error)\n          alert('Bd podczas zapisywania')\n        }\n      }, 'image/jpeg', 0.9)\n    },\n    closeEditModal() {\n      this.editingPhoto = null\n      this.editMode = 'crop'\n    },\n    startEditCaption(photo) {\n      this.editingCaptionId = photo.id\n      this.editedCaption = photo.caption || ''\n      this.$nextTick(() => {\n        if (this.$refs.captionInput && this.$refs.captionInput[0]) {\n          this.$refs.captionInput[0].focus()\n        }\n      })\n    },\n    async saveCaption(photoId) {\n      try {\n        const authHeaders = this.getAuthHeaders()\n        const response = await fetch(`${this.apiUrl}/photos/${photoId}`, {\n          method: 'PATCH',\n          headers: { ...authHeaders, 'Content-Type': 'application/json' },\n          body: JSON.stringify({ caption: this.editedCaption })\n        })\n\n        if (response.ok) {\n          const photo = this.photos.find(p => p.id === photoId)\n          if (photo) {\n            photo.caption = this.editedCaption\n          }\n        }\n      } catch (error) {\n        console.error('Error saving caption:', error)\n      } finally {\n        this.editingCaptionId = null\n        this.editedCaption = ''\n      }\n    },\n    async deletePhoto(photoId) {\n      if (!confirm('Czy na pewno chcesz usun to zdjcie?')) return\n\n      try {\n        const response = await fetch(`${this.apiUrl}/photos/${photoId}`, {\n          method: 'DELETE',\n          headers: this.getAuthHeaders()\n        })\n\n        if (response.ok) {\n          this.photos = this.photos.filter(p => p.id !== photoId)\n          alert('Zdjcie usunite')\n        }\n      } catch (error) {\n        console.error('Error deleting photo:', error)\n        alert('Bd podczas usuwania zdjcia')\n      }\n    },\n    openPhotoView(photo) {\n      this.viewingPhoto = photo\n    },\n    formatDate(dateString) {\n      const date = new Date(dateString)\n      return date.toLocaleDateString('pl-PL', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.gallery-container {\n  padding: 30px;\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n.gallery-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 30px;\n}\n\n.gallery-header h1 {\n  color: var(--color-text);\n  font-size: 32px;\n  margin: 0;\n}\n\n.add-photo-btn {\n  padding: 12px 24px;\n  background: linear-gradient(135deg, var(--color-primary), var(--color-primaryDark));\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s;\n  box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);\n}\n\n.add-photo-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  animation: fadeIn 0.3s;\n}\n\n.modal-content {\n  background: var(--color-cardBg);\n  border-radius: 20px;\n  padding: 30px;\n  max-width: 600px;\n  width: 90%;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);\n  border: 2px solid var(--color-border);\n}\n\n.modal-content.edit-modal {\n  max-width: 900px;\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.modal-header h2 {\n  color: var(--color-text);\n  margin: 0;\n  font-size: 24px;\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  color: var(--color-text);\n  font-size: 32px;\n  cursor: pointer;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: all 0.2s;\n}\n\n.close-btn:hover {\n  background: rgba(255, 255, 255, 0.1);\n  transform: rotate(90deg);\n}\n\n.upload-area {\n  border: 3px dashed var(--color-border);\n  border-radius: 12px;\n  padding: 40px;\n  text-align: center;\n  cursor: pointer;\n  transition: all 0.3s;\n  min-height: 300px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.upload-area:hover {\n  border-color: var(--color-primaryLight);\n  background: rgba(139, 92, 246, 0.05);\n}\n\n.upload-placeholder {\n  width: 100%;\n}\n\n.upload-icon {\n  font-size: 64px;\n  margin-bottom: 20px;\n}\n\n.upload-placeholder p {\n  color: var(--color-textLight);\n  font-size: 18px;\n}\n\n.upload-preview {\n  position: relative;\n  width: 100%;\n}\n\n.upload-preview img {\n  max-width: 100%;\n  max-height: 400px;\n  border-radius: 12px;\n}\n\n.remove-btn {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  background: rgba(239, 68, 68, 0.9);\n  border: none;\n  color: white;\n  font-size: 24px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.remove-btn:hover {\n  background: #dc2626;\n  transform: scale(1.1);\n}\n\n.caption-input {\n  margin-top: 20px;\n}\n\n.caption-input input {\n  width: 100%;\n  padding: 12px 16px;\n  background: rgba(0, 0, 0, 0.3);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  color: var(--color-text);\n  font-size: 16px;\n  outline: none;\n  transition: all 0.3s;\n}\n\n.caption-input input:focus {\n  border-color: var(--color-primaryLight);\n  box-shadow: 0 0 10px rgba(139, 92, 246, 0.2);\n}\n\n.modal-actions {\n  display: flex;\n  gap: 12px;\n  margin-top: 20px;\n}\n\n.cancel-btn,\n.upload-btn,\n.save-btn {\n  flex: 1;\n  padding: 12px;\n  border: none;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.cancel-btn {\n  background: rgba(255, 255, 255, 0.1);\n  color: var(--color-text);\n}\n\n.cancel-btn:hover {\n  background: rgba(255, 255, 255, 0.15);\n}\n\n.upload-btn,\n.save-btn {\n  background: linear-gradient(135deg, var(--color-primary), var(--color-primaryDark));\n  color: white;\n}\n\n.upload-btn:hover,\n.save-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);\n}\n\n.upload-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.loading,\n.empty-state {\n  text-align: center;\n  padding: 60px 20px;\n  color: var(--color-textLight);\n}\n\n.empty-icon {\n  font-size: 80px;\n  margin-bottom: 20px;\n}\n\n.add-first-btn {\n  margin-top: 20px;\n  padding: 12px 24px;\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 16px;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.photos-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 24px;\n}\n\n.photo-card {\n  background: var(--color-cardBg);\n  border-radius: 16px;\n  overflow: hidden;\n  border: 2px solid var(--color-border);\n  transition: all 0.3s;\n}\n\n.photo-card:hover {\n  transform: translateY(-4px);\n  box-shadow: 0 8px 24px rgba(139, 92, 246, 0.2);\n}\n\n.photo-wrapper {\n  cursor: pointer;\n  aspect-ratio: 1;\n  overflow: hidden;\n}\n\n.photo-wrapper img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: all 0.3s;\n}\n\n.photo-wrapper:hover img {\n  transform: scale(1.05);\n}\n\n.photo-info {\n  padding: 16px;\n}\n\n.caption-display {\n  cursor: pointer;\n  min-height: 24px;\n}\n\n.caption {\n  color: var(--color-text);\n  font-size: 16px;\n  margin: 0 0 8px 0;\n  word-wrap: break-word;\n}\n\n.caption-edit input {\n  width: 100%;\n  padding: 8px;\n  background: rgba(0, 0, 0, 0.3);\n  border: 2px solid var(--color-primaryLight);\n  border-radius: 8px;\n  color: var(--color-text);\n  font-size: 16px;\n  outline: none;\n}\n\n.upload-date {\n  color: var(--color-textLight);\n  font-size: 14px;\n  margin: 0;\n}\n\n.photo-actions {\n  display: flex;\n  gap: 8px;\n  padding: 12px 16px;\n  background: rgba(0, 0, 0, 0.2);\n}\n\n.action-btn {\n  flex: 1;\n  padding: 8px;\n  border: none;\n  border-radius: 8px;\n  font-size: 18px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.action-btn.edit {\n  background: rgba(59, 130, 246, 0.2);\n}\n\n.action-btn.edit:hover {\n  background: rgba(59, 130, 246, 0.4);\n  transform: scale(1.05);\n}\n\n.action-btn.delete {\n  background: rgba(239, 68, 68, 0.2);\n}\n\n.action-btn.delete:hover {\n  background: rgba(239, 68, 68, 0.4);\n  transform: scale(1.05);\n}\n\n.edit-tools {\n  display: flex;\n  gap: 12px;\n  margin-bottom: 20px;\n  flex-wrap: wrap;\n}\n\n.tool-btn {\n  padding: 10px 16px;\n  background: rgba(255, 255, 255, 0.1);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  color: var(--color-text);\n  cursor: pointer;\n  transition: all 0.2s;\n  font-size: 14px;\n}\n\n.tool-btn:hover {\n  background: rgba(255, 255, 255, 0.15);\n}\n\n.tool-btn.active {\n  background: var(--color-primary);\n  border-color: var(--color-primaryLight);\n  color: white;\n}\n\n.edit-canvas-container {\n  background: #000;\n  border-radius: 12px;\n  padding: 20px;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 20px;\n}\n\ncanvas {\n  max-width: 100%;\n  min-width: 400px;\n  min-height: 300px;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  cursor: crosshair;\n  background: #1a1a1a;\n}\n\n.draw-options,\n.text-options {\n  display: flex;\n  gap: 12px;\n  align-items: center;\n  padding: 16px;\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 12px;\n  margin-bottom: 20px;\n  flex-wrap: wrap;\n}\n\n.draw-options label,\n.text-options label {\n  color: var(--color-text);\n  font-weight: bold;\n}\n\n.draw-options input[type=\"color\"],\n.text-options input[type=\"color\"] {\n  width: 50px;\n  height: 36px;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n}\n\n.draw-options input[type=\"range\"],\n.text-options input[type=\"range\"] {\n  flex: 1;\n  min-width: 100px;\n}\n\n.text-options input[type=\"text\"] {\n  flex: 1;\n  padding: 8px 12px;\n  background: rgba(0, 0, 0, 0.3);\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-text);\n  outline: none;\n}\n\n.text-options button {\n  padding: 8px 16px;\n  background: var(--color-primary);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.text-options button:hover {\n  background: var(--color-primaryLight);\n}\n\n.photo-view-modal {\n  position: relative;\n  max-width: 90%;\n  max-height: 90%;\n  border-radius: 12px;\n  overflow: hidden;\n}\n\n.photo-view-modal img {\n  max-width: 100%;\n  max-height: calc(90vh - 100px);\n  display: block;\n}\n\n.photo-view-modal .close-btn {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 10;\n}\n\n.photo-view-info {\n  background: rgba(0, 0, 0, 0.8);\n  padding: 20px;\n  text-align: center;\n}\n\n.photo-view-info .caption {\n  color: white;\n  font-size: 18px;\n  margin-bottom: 10px;\n}\n\n.photo-view-info .date {\n  color: rgba(255, 255, 255, 0.7);\n  font-size: 14px;\n  margin: 0;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n@media (max-width: 768px) {\n  .photos-grid {\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n    gap: 16px;\n  }\n\n  .gallery-header {\n    flex-direction: column;\n    gap: 16px;\n    align-items: stretch;\n  }\n\n  .modal-content {\n    padding: 20px;\n  }\n}\n</style>\n","import { render } from \"./Gallery.vue?vue&type=template&id=bb249eee&scoped=true\"\nimport script from \"./Gallery.vue?vue&type=script&lang=js\"\nexport * from \"./Gallery.vue?vue&type=script&lang=js\"\n\nimport \"./Gallery.vue?vue&type=style&index=0&id=bb249eee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bb249eee\"]])\n\nexport default __exports__","<template>\n  <div class=\"settings-container\">\n    <div class=\"settings-panel\">\n      <div class=\"settings-header\">\n        <button class=\"back-btn\" @click=\"$emit('close-settings')\">\n           Powrt\n        </button>\n        <h2> Ustawienia</h2>\n      </div>\n\n      <div class=\"settings-content\">\n        <!-- Theme Selection -->\n        <div class=\"settings-section\">\n          <h3> Motyw</h3>\n          <div class=\"theme-grid\">\n            <div\n              v-for=\"(theme, key) in themes\"\n              :key=\"key\"\n              :class=\"['theme-card', { active: currentTheme === key }]\"\n              @click=\"changeTheme(key)\"\n            >\n              <div class=\"theme-preview\" :style=\"getThemePreview(theme)\"></div>\n              <span class=\"theme-name\">{{ theme.name }}</span>\n              <span v-if=\"currentTheme === key\" class=\"theme-check\"></span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Text Size -->\n        <div class=\"settings-section\">\n          <h3> Rozmiar tekstu</h3>\n          <div class=\"text-size-options\">\n            <button\n              v-for=\"size in textSizes\"\n              :key=\"size.value\"\n              :class=\"['size-btn', { active: currentTextSize === size.value }]\"\n              @click=\"changeTextSize(size.value)\"\n            >\n              {{ size.label }}\n            </button>\n          </div>\n          <div class=\"text-preview\" :class=\"getTextSizeClass(currentTextSize)\">\n            Przykadowy tekst wiadomoci\n          </div>\n        </div>\n\n        <!-- Avatar Selection -->\n        <div class=\"settings-section\">\n          <h3> Avatar</h3>\n          <div class=\"avatar-grid\">\n            <div\n              v-for=\"avatar in avatars\"\n              :key=\"avatar\"\n              :class=\"['avatar-option', { active: currentAvatar === avatar }]\"\n              @click=\"changeAvatar(avatar)\"\n            >\n              <span class=\"avatar-emoji\">{{ avatar }}</span>\n              <span v-if=\"currentAvatar === avatar\" class=\"avatar-check\"></span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Avatar Background Color -->\n        <div class=\"settings-section\">\n          <h3> Kolor ta avatara</h3>\n          <div class=\"color-grid\">\n            <div\n              v-for=\"(color, index) in avatarColors\"\n              :key=\"index\"\n              :class=\"['color-option', { active: currentAvatarColor === index }]\"\n              :style=\"{ background: color.gradient }\"\n              @click=\"changeAvatarColor(index)\"\n            >\n              <span v-if=\"currentAvatarColor === index\" class=\"color-check\"></span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Profile Photo Upload -->\n        <div class=\"settings-section\">\n          <h3> Zdjcie profilowe</h3>\n          <div class=\"profile-photo-section\">\n            <div class=\"current-photo\">\n              <img v-if=\"userProfilePhoto\" :src=\"getFullPhotoUrl(userProfilePhoto)\" alt=\"Profile\" class=\"profile-img\" />\n              <div v-else class=\"no-photo\">Brak zdjcia</div>\n            </div>\n            <div class=\"photo-controls\">\n              <input\n                type=\"file\"\n                ref=\"photoInput\"\n                accept=\"image/*\"\n                style=\"display: none\"\n                @change=\"handlePhotoUpload\"\n              />\n              <button class=\"upload-btn\" @click=\"$refs.photoInput.click()\">\n                Wybierz zdjcie\n              </button>\n              <button v-if=\"userProfilePhoto\" class=\"remove-btn\" @click=\"removeProfilePhoto\">\n                Usu zdjcie\n              </button>\n            </div>\n            <p class=\"photo-info\">Max 5MB, formaty: JPG, PNG, GIF, WEBP</p>\n          </div>\n        </div>\n\n        <!-- User Info -->\n        <div class=\"settings-section\">\n          <h3> Informacje o koncie</h3>\n          <div class=\"user-details\">\n            <p><strong>Nazwa uytkownika:</strong> {{ currentUser?.username }}</p>\n            <p><strong>Email:</strong> {{ currentUser?.email }}</p>\n          </div>\n        </div>\n\n        <!-- Save Settings -->\n        <div class=\"settings-section save-section\">\n          <button\n            class=\"save-btn\"\n            @click=\"saveSettings\"\n            :disabled=\"isSaving\"\n          >\n            {{ isSaving ? 'Zapisywanie...' : ' Zapisz ustawienia' }}\n          </button>\n          <p v-if=\"saveMessage\" :class=\"['save-message', saveMessageType]\">\n            {{ saveMessage }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { themes, avatars, applyTheme, getTextSizeClass } from '../themes.js'\n\nexport default {\n  name: 'Settings',\n  props: {\n    currentUser: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      themes,\n      avatars,\n      currentTheme: localStorage.getItem('theme') || 'purpleDream',\n      currentTextSize: localStorage.getItem('textSize') || 'medium',\n      currentAvatar: localStorage.getItem('userAvatar') || '',\n      currentAvatarColor: parseInt(localStorage.getItem('avatarBgColor') || '0'),\n      textSizes: [\n        { value: 'small', label: 'May' },\n        { value: 'medium', label: 'redni' },\n        { value: 'large', label: 'Duy' }\n      ],\n      avatarColors: [\n        { name: 'Niebieski-Fioletowy', gradient: 'linear-gradient(to bottom right, #3b82f6, #8b5cf6)' },\n        { name: 'Rowy-Czerwony', gradient: 'linear-gradient(to bottom right, #ec4899, #ef4444)' },\n        { name: 'Zielony-Cyjan', gradient: 'linear-gradient(to bottom right, #10b981, #06b6d4)' },\n        { name: 'Pomaraczowy-ty', gradient: 'linear-gradient(to bottom right, #f97316, #eab308)' },\n        { name: 'Fioletowy-Rowy', gradient: 'linear-gradient(to bottom right, #a855f7, #ec4899)' },\n        { name: 'Czerwony-Fioletowy', gradient: 'linear-gradient(to bottom right, #dc2626, #7c3aed)' },\n        { name: 'Cyjan-Niebieski', gradient: 'linear-gradient(to bottom right, #06b6d4, #3b82f6)' }\n      ],\n      isSaving: false,\n      saveMessage: '',\n      saveMessageType: '',\n      userProfilePhoto: this.currentUser?.avatar || null,\n      apiUrl: process.env.VUE_APP_API_URL || 'http://localhost:8000/api'\n    }\n  },\n  mounted() {\n    applyTheme(this.currentTheme)\n    this.applyTextSize(this.currentTextSize)\n    this.userProfilePhoto = this.currentUser?.avatar || null\n  },\n  methods: {\n    getTextSizeClass,\n    changeTheme(themeName) {\n      this.currentTheme = themeName\n      localStorage.setItem('theme', themeName)\n      applyTheme(themeName)\n      this.$emit('theme-changed', themeName)\n    },\n    changeTextSize(size) {\n      this.currentTextSize = size\n      localStorage.setItem('textSize', size)\n      this.applyTextSize(size)\n      this.$emit('text-size-changed', size)\n    },\n    applyTextSize(size) {\n      document.body.classList.remove('text-size-small', 'text-size-medium', 'text-size-large')\n      document.body.classList.add(getTextSizeClass(size))\n    },\n    changeAvatar(avatar) {\n      this.currentAvatar = avatar\n      localStorage.setItem('userAvatar', avatar)\n      this.$emit('avatar-changed', avatar)\n    },\n    changeAvatarColor(colorIndex) {\n      this.currentAvatarColor = colorIndex\n      localStorage.setItem('avatarBgColor', colorIndex.toString())\n      this.$emit('avatar-color-changed', colorIndex)\n    },\n    getThemePreview(theme) {\n      return {\n        background: `linear-gradient(135deg, ${theme.colors.primary} 0%, ${theme.colors.primaryDark} 100%)`\n      }\n    },\n    async saveSettings() {\n      this.isSaving = true\n      this.saveMessage = ''\n      this.saveMessageType = ''\n\n      // Settings are already saved to localStorage when changed\n      // This button just confirms the save\n      setTimeout(() => {\n        this.saveMessage = ' Ustawienia zostay zapisane pomylnie!'\n        this.saveMessageType = 'success'\n        this.isSaving = false\n\n        // Auto-hide message after 3 seconds\n        setTimeout(() => {\n          this.saveMessage = ''\n        }, 3000)\n      }, 500)\n    },\n    getFullPhotoUrl(photoPath) {\n      if (!photoPath) return ''\n      if (photoPath.startsWith('http')) return photoPath\n      const baseUrl = this.apiUrl.replace('/api', '')\n      return baseUrl + photoPath\n    },\n    async handlePhotoUpload(event) {\n      const file = event.target.files[0]\n      if (!file) return\n\n      // Validate file size\n      if (file.size > 5 * 1024 * 1024) {\n        alert('Plik jest za duy (max 5MB)')\n        return\n      }\n\n      // Validate file type\n      const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp']\n      if (!allowedTypes.includes(file.type)) {\n        alert('Nieprawidowy typ pliku. Dozwolone: JPG, PNG, GIF, WEBP')\n        return\n      }\n\n      try {\n        const formData = new FormData()\n        formData.append('file', file)\n\n        const token = localStorage.getItem('token')\n        const response = await fetch(\n          `${this.apiUrl}/auth/users/${this.currentUser.id}/upload-photo`,\n          {\n            method: 'POST',\n            headers: {\n              'Authorization': `Bearer ${token}`\n            },\n            body: formData\n          }\n        )\n\n        if (response.ok) {\n          const data = await response.json()\n          this.userProfilePhoto = data.avatar\n\n          // Update localStorage\n          const user = JSON.parse(localStorage.getItem('user'))\n          user.avatar = data.avatar\n          localStorage.setItem('user', JSON.stringify(user))\n\n          this.$emit('avatar-updated', data.avatar)\n          alert('Zdjcie profilowe zostao zaktualizowane!')\n        } else {\n          alert('Nie udao si przesa zdjcia')\n        }\n      } catch (error) {\n        console.error('Error uploading photo:', error)\n        alert('Bd podczas przesyania zdjcia')\n      }\n    },\n    async removeProfilePhoto() {\n      if (!confirm('Czy na pewno chcesz usun zdjcie profilowe?')) return\n\n      try {\n        // In a real app, you'd call an API to delete the photo\n        // For now, just clear it locally\n        this.userProfilePhoto = null\n\n        const user = JSON.parse(localStorage.getItem('user'))\n        user.avatar = null\n        localStorage.setItem('user', JSON.stringify(user))\n\n        this.$emit('avatar-updated', null)\n        alert('Zdjcie profilowe zostao usunite')\n      } catch (error) {\n        console.error('Error removing photo:', error)\n        alert('Bd podczas usuwania zdjcia')\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.settings-container {\n  width: 100%;\n  max-width: 1200px;\n  height: 90vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.settings-panel {\n  width: 100%;\n  height: 100%;\n  background: var(--color-cardBg, linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%));\n  backdrop-filter: blur(10px);\n  border: 2px solid var(--color-border, rgba(139, 92, 246, 0.3));\n  border-radius: 20px;\n  padding: 30px;\n  box-shadow: 0 20px 60px rgba(139, 92, 246, 0.3);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.settings-header {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  margin-bottom: 30px;\n  padding-bottom: 20px;\n  border-bottom: 2px solid var(--color-border, rgba(139, 92, 246, 0.3));\n}\n\n.back-btn {\n  padding: 10px 20px;\n  background: rgba(0, 0, 0, 0.3);\n  border: 2px solid var(--color-border, rgba(255, 255, 255, 0.3));\n  border-radius: 12px;\n  color: white;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.back-btn:hover {\n  background: rgba(0, 0, 0, 0.5);\n  transform: translateX(-3px);\n}\n\n.settings-header h2 {\n  color: var(--color-primaryLight, #a78bfa);\n  font-size: 28px;\n  text-shadow: 0 0 20px rgba(167, 139, 250, 0.5);\n  margin: 0;\n}\n\n.settings-content {\n  flex: 1;\n  overflow-y: auto;\n  padding-right: 10px;\n}\n\n.settings-section {\n  margin-bottom: 40px;\n}\n\n.settings-section h3 {\n  color: var(--color-text, #c4b5fd);\n  font-size: 20px;\n  margin-bottom: 20px;\n}\n\n/* Theme Grid */\n.theme-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  gap: 15px;\n}\n\n.theme-card {\n  position: relative;\n  background: rgba(0, 0, 0, 0.4);\n  border: 2px solid var(--color-border, rgba(139, 92, 246, 0.3));\n  border-radius: 12px;\n  padding: 15px;\n  cursor: pointer;\n  transition: all 0.3s;\n  text-align: center;\n}\n\n.theme-card:hover {\n  border-color: var(--color-primaryLight, #a78bfa);\n  transform: translateY(-3px);\n  box-shadow: 0 5px 20px rgba(139, 92, 246, 0.4);\n}\n\n.theme-card.active {\n  border-color: var(--color-primary, #8b5cf6);\n  background: rgba(139, 92, 246, 0.2);\n  box-shadow: 0 5px 20px rgba(139, 92, 246, 0.6);\n}\n\n.theme-preview {\n  width: 100%;\n  height: 60px;\n  border-radius: 8px;\n  margin-bottom: 10px;\n}\n\n.theme-name {\n  display: block;\n  color: var(--color-text, #c4b5fd);\n  font-size: 14px;\n  font-weight: 600;\n}\n\n.theme-check {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  background: var(--color-primary, #8b5cf6);\n  color: white;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  font-weight: bold;\n}\n\n/* Text Size Options */\n.text-size-options {\n  display: flex;\n  gap: 15px;\n  margin-bottom: 20px;\n}\n\n.size-btn {\n  flex: 1;\n  padding: 12px 24px;\n  background: rgba(0, 0, 0, 0.4);\n  border: 2px solid var(--color-border, rgba(139, 92, 246, 0.3));\n  border-radius: 12px;\n  color: var(--color-text, #c4b5fd);\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.size-btn:hover {\n  border-color: var(--color-primaryLight, #a78bfa);\n  transform: translateY(-2px);\n}\n\n.size-btn.active {\n  background: linear-gradient(135deg, var(--color-primary, #8b5cf6) 0%, var(--color-primaryDark, #6d28d9) 100%);\n  border-color: var(--color-primary, #8b5cf6);\n  color: white;\n  box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);\n}\n\n.text-preview {\n  padding: 20px;\n  background: rgba(0, 0, 0, 0.3);\n  border: 1px solid var(--color-border, rgba(139, 92, 246, 0.3));\n  border-radius: 12px;\n  color: var(--color-text, #c4b5fd);\n  text-align: center;\n}\n\n/* Avatar Grid */\n.avatar-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));\n  gap: 12px;\n}\n\n/* Color Grid */\n.color-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));\n  gap: 12px;\n}\n\n.color-option {\n  position: relative;\n  border: 3px solid var(--color-border, rgba(139, 92, 246, 0.3));\n  border-radius: 12px;\n  height: 60px;\n  cursor: pointer;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.color-option:hover {\n  border-color: var(--color-primaryLight, #a78bfa);\n  transform: scale(1.05);\n  box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);\n}\n\n.color-option.active {\n  border-color: var(--color-primary, #8b5cf6);\n  border-width: 4px;\n  box-shadow: 0 4px 20px rgba(139, 92, 246, 0.6);\n}\n\n.color-check {\n  background: white;\n  color: var(--color-primary, #8b5cf6);\n  width: 26px;\n  height: 26px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  font-weight: bold;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n}\n\n.avatar-option {\n  position: relative;\n  background: rgba(0, 0, 0, 0.4);\n  border: 2px solid var(--color-border, rgba(139, 92, 246, 0.3));\n  border-radius: 12px;\n  padding: 15px;\n  cursor: pointer;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  aspect-ratio: 1;\n}\n\n.avatar-option:hover {\n  border-color: var(--color-primaryLight, #a78bfa);\n  transform: scale(1.1);\n  background: rgba(139, 92, 246, 0.2);\n}\n\n.avatar-option.active {\n  border-color: var(--color-primary, #8b5cf6);\n  background: rgba(139, 92, 246, 0.3);\n  box-shadow: 0 4px 15px rgba(139, 92, 246, 0.6);\n}\n\n.avatar-emoji {\n  font-size: 32px;\n}\n\n.avatar-check {\n  position: absolute;\n  top: -5px;\n  right: -5px;\n  background: var(--color-primary, #8b5cf6);\n  color: white;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  font-weight: bold;\n}\n\n/* User Details */\n.user-details {\n  background: rgba(0, 0, 0, 0.3);\n  border: 1px solid var(--color-border, rgba(139, 92, 246, 0.3));\n  border-radius: 12px;\n  padding: 20px;\n}\n\n.user-details p {\n  color: var(--color-text, #c4b5fd);\n  margin: 10px 0;\n  font-size: 15px;\n}\n\n.user-details strong {\n  color: var(--color-primaryLight, #a78bfa);\n}\n\n/* Scrollbar */\n.settings-content::-webkit-scrollbar {\n  width: 8px;\n}\n\n.settings-content::-webkit-scrollbar-track {\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 4px;\n}\n\n.settings-content::-webkit-scrollbar-thumb {\n  background: var(--color-primary, #8b5cf6);\n  border-radius: 4px;\n}\n\n.settings-content::-webkit-scrollbar-thumb:hover {\n  background: var(--color-primaryLight, #a78bfa);\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .settings-panel {\n    padding: 20px;\n  }\n\n  .settings-header h2 {\n    font-size: 24px;\n  }\n\n  .theme-grid {\n    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n    gap: 12px;\n  }\n\n  .text-size-options {\n    flex-direction: column;\n  }\n\n  .avatar-grid {\n    grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));\n    gap: 10px;\n  }\n\n  .avatar-emoji {\n    font-size: 28px;\n  }\n}\n\n@media (max-width: 480px) {\n  .settings-panel {\n    padding: 15px;\n    border-radius: 15px;\n  }\n\n  .settings-header h2 {\n    font-size: 20px;\n  }\n\n  .settings-section h3 {\n    font-size: 18px;\n  }\n\n  .theme-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  .avatar-grid {\n    grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));\n  }\n\n  .avatar-emoji {\n    font-size: 24px;\n  }\n}\n\n/* Save Section */\n.save-section {\n  text-align: center;\n  padding-top: 10px;\n  border-top: 2px solid var(--color-border, rgba(139, 92, 246, 0.3));\n}\n\n.save-btn {\n  width: 100%;\n  max-width: 400px;\n  padding: 16px 32px;\n  background: linear-gradient(135deg, var(--color-primary, #8b5cf6) 0%, var(--color-primaryDark, #6d28d9) 100%);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  font-size: 18px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s;\n  box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);\n}\n\n.save-btn:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px rgba(139, 92, 246, 0.6);\n}\n\n.save-btn:active:not(:disabled) {\n  transform: translateY(0);\n}\n\n.save-btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.save-message {\n  margin-top: 15px;\n  padding: 12px 20px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  animation: fadeIn 0.3s ease-in;\n}\n\n.save-message.success {\n  background: rgba(34, 197, 94, 0.2);\n  border: 1px solid rgba(34, 197, 94, 0.5);\n  color: var(--color-success, #86efac);\n}\n\n.save-message.error {\n  background: rgba(239, 68, 68, 0.2);\n  border: 1px solid rgba(239, 68, 68, 0.5);\n  color: var(--color-error, #fca5a5);\n}\n\n/* Profile Photo Section */\n.profile-photo-section {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  align-items: center;\n}\n\n.current-photo {\n  width: 150px;\n  height: 150px;\n  border-radius: 50%;\n  overflow: hidden;\n  border: 4px solid var(--color-primary);\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n}\n\n.profile-img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.no-photo {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: var(--color-cardBg);\n  color: var(--color-textMuted);\n  font-size: 14px;\n}\n\n.photo-controls {\n  display: flex;\n  gap: 10px;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.upload-btn, .remove-btn {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 10px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.upload-btn {\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryDark) 100%);\n  color: white;\n}\n\n.upload-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 5px 15px rgba(139, 92, 246, 0.4);\n}\n\n.remove-btn {\n  background: rgba(239, 68, 68, 0.2);\n  border: 2px solid rgba(239, 68, 68, 0.5);\n  color: #fca5a5;\n}\n\n.remove-btn:hover {\n  background: rgba(239, 68, 68, 0.3);\n}\n\n.photo-info {\n  font-size: 12px;\n  color: var(--color-textMuted);\n  text-align: center;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n</style>\n","import { render } from \"./Settings.vue?vue&type=template&id=009cfbde&scoped=true\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\n\nimport \"./Settings.vue?vue&type=style&index=0&id=009cfbde&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-009cfbde\"]])\n\nexport default __exports__","<template>\n  <div class=\"chatroom-container\">\n    <div class=\"chatroom-header\">\n      <button class=\"back-btn\" @click=\"$emit('close-chat')\">\n         Powrt\n      </button>\n      <div class=\"chat-user-info\">\n        <div class=\"chat-avatar\">{{ friend.username.charAt(0).toUpperCase() }}</div>\n        <div class=\"chat-username\">\n          <span v-if=\"friendNickname\">\n            {{ friendNickname }} <span class=\"real-username\">({{ friend.username }})</span>\n          </span>\n          <span v-else>{{ friend.username }}</span>\n        </div>\n      </div>\n      <div class=\"header-spacer\"></div>\n      <button class=\"personalize-btn\" @click=\"showPersonalizeModal = true\" title=\"Personalizuj czat\">\n        \n      </button>\n    </div>\n\n    <!-- Personalization Modal -->\n    <div v-if=\"showPersonalizeModal\" class=\"modal-overlay\" @click=\"closePersonalizeModal\">\n      <div class=\"personalize-modal\" @click.stop>\n        <div class=\"modal-header\">\n          <h3> Personalizacja czatu</h3>\n          <button class=\"modal-close-btn\" @click=\"closePersonalizeModal\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"color-section\">\n            <label>Kolor moich wiadomoci:</label>\n            <div class=\"color-picker-row\">\n              <input type=\"color\" v-model=\"chatCustomization.myMessageColor\" />\n              <span class=\"color-preview\" :style=\"{ background: chatCustomization.myMessageColor }\"></span>\n              <button class=\"reset-btn\" @click=\"resetColor('myMessageColor')\">Resetuj</button>\n            </div>\n          </div>\n          <div class=\"color-section\">\n            <label>Kolor wiadomoci znajomego:</label>\n            <div class=\"color-picker-row\">\n              <input type=\"color\" v-model=\"chatCustomization.friendMessageColor\" />\n              <span class=\"color-preview\" :style=\"{ background: chatCustomization.friendMessageColor }\"></span>\n              <button class=\"reset-btn\" @click=\"resetColor('friendMessageColor')\">Resetuj</button>\n            </div>\n          </div>\n          <div class=\"color-section\">\n            <label>Kolor ta czatu:</label>\n            <div class=\"color-picker-row\">\n              <input type=\"color\" v-model=\"chatCustomization.backgroundColor\" />\n              <span class=\"color-preview\" :style=\"{ background: chatCustomization.backgroundColor }\"></span>\n              <button class=\"reset-btn\" @click=\"resetColor('backgroundColor')\">Resetuj</button>\n            </div>\n          </div>\n          <div class=\"color-section\">\n            <label>Rozmiar tekstu: {{ chatCustomization.fontSize }}px</label>\n            <div class=\"font-size-row\">\n              <input\n                type=\"range\"\n                v-model.number=\"chatCustomization.fontSize\"\n                min=\"10\"\n                max=\"20\"\n                step=\"1\"\n                class=\"font-size-slider\"\n              />\n              <button class=\"reset-btn\" @click=\"resetFontSize\">Resetuj</button>\n            </div>\n          </div>\n          <div class=\"modal-actions\">\n            <button class=\"save-btn\" @click=\"savePersonalization\">Zapisz</button>\n            <button class=\"cancel-btn\" @click=\"closePersonalizeModal\">Anuluj</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div\n      class=\"chat-area\"\n      ref=\"chatArea\"\n      @drop=\"handleDrop\"\n      @dragover=\"handleDragOver\"\n      @dragleave=\"handleDragLeave\"\n      :class=\"{ 'drag-over': isDragging }\"\n      :style=\"getChatAreaStyle()\"\n    >\n      <div v-if=\"isDragging\" class=\"drop-overlay\">\n         Upu plik tutaj\n      </div>\n\n      <div v-if=\"messages.length === 0\" class=\"empty-chat-message\">\n        Brak wiadomoci. Zacznij konwersacj!\n      </div>\n\n      <!-- Group messages by date -->\n      <div v-for=\"group in groupedMessages\" :key=\"group.date\">\n        <!-- Date separator -->\n        <div class=\"date-separator\">\n          <span class=\"date-label\">{{ group.label }}</span>\n        </div>\n\n        <!-- Messages in this date group -->\n        <div\n          v-for=\"message in group.messages\"\n          :key=\"message.id\"\n          :class=\"['message', message.author?.id === currentUser.id ? 'sent' : 'received']\"\n        >\n        <div class=\"message-wrapper\">\n          <div class=\"message-bubble\" :style=\"getMessageBubbleStyle(message.author?.id === currentUser.id)\">\n            <!-- Display attachment if present -->\n            <div v-if=\"message.attachmentType === 'image'\" class=\"message-attachment\">\n              <img :src=\"message.attachmentUrl\" :alt=\"message.attachmentName\" class=\"attachment-image\" @click=\"openImageModal(message.attachmentUrl)\" />\n            </div>\n            <div v-else-if=\"message.attachmentType === 'video'\" class=\"message-attachment\">\n              <video :src=\"message.attachmentUrl\" controls class=\"attachment-video\"></video>\n            </div>\n            <div v-else-if=\"message.attachmentType === 'gif'\" class=\"message-attachment\">\n              <img :src=\"message.attachmentUrl\" alt=\"GIF\" class=\"attachment-gif\" />\n            </div>\n\n            <!-- Edit mode -->\n            <div v-if=\"editingMessageId === message.id\" class=\"edit-message-form\">\n              <input\n                v-model=\"editMessageText\"\n                type=\"text\"\n                @keyup.enter=\"saveEdit(message.id)\"\n                @keyup.esc=\"cancelEdit\"\n                class=\"edit-input\"\n                :ref=\"'editInput' + message.id\"\n              />\n              <button @click=\"saveEdit(message.id)\" class=\"save-edit-btn\"></button>\n              <button @click=\"cancelEdit\" class=\"cancel-edit-btn\"></button>\n            </div>\n            <!-- Normal display -->\n            <div v-else class=\"message-content\">\n              <span v-if=\"message.content && !message.deleted\">\n                {{ message.content }}\n                <span v-if=\"message.edited\" class=\"edited-label\">(edytowano)</span>\n              </span>\n              <span v-if=\"message.deleted\" class=\"deleted-message\">USUNITO</span>\n            </div>\n          </div>\n\n          <!-- Message controls (shown on hover) -->\n          <div class=\"message-controls\">\n            <!-- Reaction toggle button -->\n            <button\n              class=\"reaction-toggle-btn\"\n              @click=\"toggleReactionMenu(message.id, $event)\"\n              title=\"Dodaj reakcj\"\n            >\n              +\n            </button>\n\n            <!-- Message actions for own messages -->\n            <div v-if=\"message.author?.id === currentUser.id && !message.deleted\" class=\"message-actions\">\n              <button\n                class=\"action-btn edit-btn\"\n                @click=\"startEdit(message)\"\n                title=\"Edytuj\"\n              >\n                \n              </button>\n              <button\n                class=\"action-btn delete-btn\"\n                @click=\"deleteMessage(message.id)\"\n                title=\"Usu\"\n              >\n                \n              </button>\n            </div>\n          </div>\n        </div>\n        <div class=\"message-time\">\n          {{ formatTime(message.createdAt) }}\n        </div>\n\n        <!-- Wywietl aktywne reakcje (te z liczb > 0) -->\n        <div v-if=\"hasActiveReactions(message)\" class=\"active-reactions\">\n          <span\n            v-for=\"(emoji, type) in reactionEmojis\"\n            :key=\"type\"\n            v-show=\"message.reactions && message.reactions[type] > 0\"\n            class=\"reaction-badge\"\n            @click=\"toggleReaction(message.id, type)\"\n          >\n            {{ emoji }}\n          </span>\n        </div>\n\n        <!-- Menu rozwijane z wszystkimi reakcjami -->\n        <div v-if=\"openReactionMenuId === message.id\" class=\"reactions-menu\">\n          <button\n            v-for=\"(emoji, type) in reactionEmojis\"\n            :key=\"type\"\n            class=\"reaction-btn\"\n            :class=\"{ active: message.reactions && message.reactions[type] > 0 }\"\n            @click=\"addReaction(message.id, type)\"\n          >\n            {{ emoji }}\n          </button>\n        </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Typing indicator -->\n    <div v-if=\"isTyping\" class=\"typing-indicator\">\n      <span class=\"typing-text\">{{ typingUsername }} pisze</span>\n      <span class=\"typing-dots\">\n        <span class=\"dot\"></span>\n        <span class=\"dot\"></span>\n        <span class=\"dot\"></span>\n      </span>\n    </div>\n\n    <div class=\"input-area\">\n      <button class=\"attachment-btn\" @click=\"toggleAttachmentMenu\" title=\"Dodaj zacznik\">\n        \n      </button>\n\n      <!-- Attachment Menu -->\n      <div v-if=\"showAttachmentMenu\" class=\"attachment-menu\">\n        <button @click=\"openFileDialog\" class=\"menu-item\">\n           Obraz/Wideo\n        </button>\n        <button @click=\"toggleGifPicker\" class=\"menu-item\">\n           GIF\n        </button>\n      </div>\n\n      <!-- File input (hidden) -->\n      <input\n        ref=\"fileInput\"\n        type=\"file\"\n        accept=\"image/*,video/*\"\n        @change=\"handleFileSelect\"\n        style=\"display: none\"\n      />\n\n      <!-- GIF Picker -->\n      <div v-if=\"showGifPicker\" class=\"gif-picker\">\n        <div class=\"gif-picker-header\">\n          <input\n            v-model=\"gifSearchQuery\"\n            type=\"text\"\n            placeholder=\"Szukaj GIFw...\"\n            @input=\"searchGifs\"\n            class=\"gif-search-input\"\n          />\n          <button @click=\"showGifPicker = false\" class=\"close-btn\"></button>\n        </div>\n        <div v-if=\"loadingGifs\" class=\"loading-gifs\">adowanie...</div>\n        <div v-else class=\"gif-grid\">\n          <img\n            v-for=\"gif in displayedGifs\"\n            :key=\"gif.id\"\n            :src=\"gif.url\"\n            :alt=\"gif.title\"\n            class=\"gif-item\"\n            @click=\"sendGif(gif.url)\"\n          />\n        </div>\n        <div v-if=\"displayedGifs.length === 0 && !loadingGifs\" class=\"no-gifs\">\n          Brak GIFw. Wpisz co w wyszukiwark!\n        </div>\n      </div>\n\n      <!-- Upload Progress -->\n      <div v-if=\"uploadProgress > 0 && uploadProgress < 100\" class=\"upload-progress\">\n        Przesyanie: {{ uploadProgress }}%\n      </div>\n\n      <!-- Preview for selected file -->\n      <div v-if=\"selectedFile\" class=\"file-preview\">\n        <img v-if=\"selectedFileType === 'image'\" :src=\"selectedFilePreview\" alt=\"Preview\" class=\"preview-image\" />\n        <video v-else-if=\"selectedFileType === 'video'\" :src=\"selectedFilePreview\" class=\"preview-video\"></video>\n        <button @click=\"clearSelectedFile\" class=\"clear-btn\"></button>\n      </div>\n\n      <input\n        v-model=\"newMessage\"\n        type=\"text\"\n        placeholder=\"Napisz wiadomo...\"\n        @keyup.enter=\"sendMessage\"\n        ref=\"messageInput\"\n      />\n      <button @click=\"sendMessage\" :disabled=\"isSending\">\n        {{ isSending ? '' : 'Wylij' }}\n      </button>\n    </div>\n\n    <!-- Image Modal -->\n    <div v-if=\"showImageModal\" class=\"image-modal\" @click=\"closeImageModal\">\n      <div class=\"modal-content\" @click.stop>\n        <img :src=\"modalImageUrl\" alt=\"Full size image\" />\n        <button class=\"modal-close\" @click=\"closeImageModal\"></button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { generateConversationKey, encryptMessageForConversation, decryptMessageForConversation } from '@/utils/encryption'\n\nexport default {\n  name: 'ChatRoom',\n  props: {\n    currentUser: {\n      type: Object,\n      required: true\n    },\n    friend: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      messages: [],\n      newMessage: '',\n      conversationId: null,\n      openReactionMenuId: null,\n      reactionEmojis: {\n        heart: '',\n        like: '',\n        laugh: '',\n        wow: ''\n      },\n      apiUrl: process.env.VUE_APP_API_URL || 'http://localhost:8000/api',\n      showAttachmentMenu: false,\n      showGifPicker: false,\n      selectedFile: null,\n      selectedFileType: null,\n      selectedFilePreview: null,\n      uploadProgress: 0,\n      isSending: false,\n      isDragging: false,\n      showImageModal: false,\n      modalImageUrl: '',\n      gifSearchQuery: '',\n      loadingGifs: false,\n      trendingGifs: [],\n      searchedGifs: [],\n      // Giphy API key (public beta key - mona uy wasnego)\n      giphyApiKey: 'sXpGFDGZs0Dv1mmNFvYaGUvYwKX0PWIh',\n      searchTimeout: null,\n      editingMessageId: null,\n      editMessageText: '',\n      isInitialLoad: true,\n      showPersonalizeModal: false,\n      chatCustomization: {\n        myMessageColor: '#3b82f6',\n        friendMessageColor: '#6b7280',\n        backgroundColor: 'transparent',\n        fontSize: 14\n      },\n      defaultColors: {\n        myMessageColor: '#3b82f6',\n        friendMessageColor: '#6b7280',\n        backgroundColor: 'transparent',\n        fontSize: 14\n      },\n      isTyping: false,\n      typingUsername: '',\n      typingTimeout: null,\n      typingCheckInterval: null,\n      conversationKey: null\n    }\n  },\n  computed: {\n    displayedGifs() {\n      return this.gifSearchQuery ? this.searchedGifs : this.trendingGifs\n    },\n    friendNickname() {\n      const nicknames = JSON.parse(localStorage.getItem('friendNicknames') || '{}')\n      return nicknames[this.friend.id] || null\n    },\n    groupedMessages() {\n      const groups = []\n      let currentGroup = null\n\n      this.messages.forEach(message => {\n        const messageDate = this.getMessageDate(message.createdAt)\n\n        if (!currentGroup || currentGroup.date !== messageDate) {\n          currentGroup = {\n            date: messageDate,\n            label: this.getDateLabel(messageDate),\n            messages: []\n          }\n          groups.push(currentGroup)\n        }\n\n        currentGroup.messages.push(message)\n      })\n\n      return groups\n    }\n  },\n  watch: {\n    newMessage(newVal) {\n      if (newVal && newVal.trim() !== '') {\n        this.sendTypingNotification()\n      }\n    }\n  },\n  mounted() {\n    this.initializeConversation()\n    // Load trending GIFs on mount\n    this.loadTrendingGifs()\n    // Auto-refresh messages every 2 seconds for real-time updates\n    this.messageInterval = setInterval(() => {\n      this.loadMessages()\n    }, 2000)\n    // Check typing status every 500ms for faster response\n    this.typingCheckInterval = setInterval(() => {\n      this.checkTypingStatus()\n    }, 500)\n    // Close reactions menu when clicking outside\n    document.addEventListener('click', this.handleClickOutside)\n  },\n  beforeUnmount() {\n    if (this.messageInterval) {\n      clearInterval(this.messageInterval)\n    }\n    if (this.typingCheckInterval) {\n      clearInterval(this.typingCheckInterval)\n    }\n    if (this.typingTimeout) {\n      clearTimeout(this.typingTimeout)\n    }\n    // Mark conversation as read when leaving\n    if (this.conversationId) {\n      this.markConversationAsRead()\n    }\n    // Remove click outside listener\n    document.removeEventListener('click', this.handleClickOutside)\n  },\n  methods: {\n    getAuthHeaders() {\n      const token = localStorage.getItem('token')\n      if (!token) {\n        console.error('[ChatRoom] No token found - forcing logout')\n        localStorage.clear()\n        this.$router.push('/login')\n        return {}\n      }\n      return {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    },\n    async initializeConversation() {\n      try {\n        // Reset initial load flag when switching conversations\n        this.isInitialLoad = true\n\n        const url = `${this.apiUrl}/conversations/${this.currentUser.id}/with/${this.friend.id}`\n        const response = await fetch(url, {\n          headers: this.getAuthHeaders()\n        })\n        const data = await response.json()\n\n        this.conversationId = data.id\n\n        // Generate encryption key for this conversation\n        this.conversationKey = generateConversationKey(\n          this.conversationId,\n          this.currentUser.id,\n          this.friend.id\n        )\n\n        // Load chat customization for this conversation\n        this.loadChatCustomization()\n\n        await this.loadMessages()\n        await this.markConversationAsRead()\n      } catch (error) {\n        console.error('Error initializing conversation:', error)\n      }\n    },\n    async loadMessages() {\n      if (!this.conversationId) return\n\n      try {\n        const response = await fetch(\n          `${this.apiUrl}/conversations/${this.conversationId}/messages`,\n          {\n            headers: this.getAuthHeaders()\n          }\n        )\n        const data = await response.json()\n\n        // Fix relative URLs for attachments and decrypt messages\n        const messages = Array.isArray(data) ? data : []\n        messages.forEach(message => {\n          if (message.attachmentUrl && message.attachmentUrl.startsWith('/uploads/')) {\n            // Convert relative URL to absolute\n            const baseUrl = this.apiUrl.replace('/api', '')\n            message.attachmentUrl = baseUrl + message.attachmentUrl\n          }\n\n          // Decrypt message content if encrypted\n          if (message.content && this.conversationKey) {\n            message.content = decryptMessageForConversation(message.content, this.conversationKey)\n          }\n        })\n\n        this.messages = messages\n\n        this.$nextTick(() => {\n          // Only auto-scroll if user is at bottom or it's the initial load\n          if (this.isInitialLoad || this.isUserAtBottom()) {\n            this.scrollToBottom()\n            this.isInitialLoad = false\n          }\n        })\n      } catch (error) {\n        console.error('Error loading messages:', error)\n      }\n    },\n    async sendMessage() {\n      if ((!this.newMessage.trim() && !this.selectedFile) || !this.conversationId) return\n\n      this.isSending = true\n\n      try {\n        let attachmentData = null\n\n        // Upload file first if selected\n        if (this.selectedFile) {\n          attachmentData = await this.uploadFile(this.selectedFile)\n        }\n\n        // Encrypt message content before sending\n        const encryptedContent = this.conversationKey && this.newMessage\n          ? encryptMessageForConversation(this.newMessage, this.conversationKey)\n          : this.newMessage\n\n        // Send message with attachment info\n        const messageData = {\n          content: encryptedContent,\n          authorId: this.currentUser.id\n        }\n\n        if (attachmentData) {\n          messageData.attachmentType = attachmentData.attachmentType\n          messageData.attachmentUrl = attachmentData.attachmentUrl\n          messageData.attachmentName = attachmentData.attachmentName\n        }\n\n        const response = await fetch(\n          `${this.apiUrl}/conversations/${this.conversationId}/messages`,\n          {\n            method: 'POST',\n            headers: this.getAuthHeaders(),\n            body: JSON.stringify(messageData)\n          }\n        )\n\n        if (response.ok) {\n          this.newMessage = ''\n          this.clearSelectedFile()\n          // Clear typing status immediately after sending\n          await this.clearTypingStatus()\n          await this.loadMessages()\n          // Always scroll to bottom after sending a message\n          this.$nextTick(() => {\n            this.scrollToBottom()\n          })\n        }\n      } catch (error) {\n        console.error('Error sending message:', error)\n        alert('Bd podczas wysyania wiadomoci')\n      } finally {\n        this.isSending = false\n      }\n    },\n    async uploadFile(file) {\n      const formData = new FormData()\n      formData.append('file', file)\n\n      try {\n        // Get JWT token for authorization\n        // WANE: NIE ustawiaj Content-Type dla FormData - przegldarka ustawi automatycznie z boundary\n        const token = localStorage.getItem('token')\n        if (!token) {\n          throw new Error('Brak tokenu autoryzacji')\n        }\n\n        const response = await fetch(\n          `${this.apiUrl}/conversations/${this.conversationId}/messages/upload`,\n          {\n            method: 'POST',\n            headers: {\n              'Authorization': `Bearer ${token}`\n              // NIE dodawaj 'Content-Type' - FormData sam ustawi multipart/form-data\n            },\n            body: formData\n          }\n        )\n\n        if (response.ok) {\n          const data = await response.json()\n          return data\n        } else {\n          const error = await response.json()\n          console.error('Upload failed:', error)\n          throw new Error(error.error || 'Upload failed')\n        }\n      } catch (error) {\n        console.error('Error uploading file:', error)\n        alert('Bd podczas przesyania pliku: ' + error.message)\n        throw error\n      }\n    },\n    toggleAttachmentMenu() {\n      this.showAttachmentMenu = !this.showAttachmentMenu\n      if (this.showAttachmentMenu) {\n        this.showGifPicker = false\n      }\n    },\n    openFileDialog() {\n      this.$refs.fileInput.click()\n      this.showAttachmentMenu = false\n    },\n    handleFileSelect(event) {\n      const file = event.target.files[0]\n      if (!file) return\n\n      // Validate file size (max 50MB)\n      if (file.size > 50 * 1024 * 1024) {\n        alert('Plik jest za duy (max 50MB)')\n        return\n      }\n\n      this.selectedFile = file\n      this.selectedFileType = file.type.startsWith('image/') ? 'image' : 'video'\n\n      // Create preview\n      const reader = new FileReader()\n      reader.onload = (e) => {\n        this.selectedFilePreview = e.target.result\n      }\n      reader.readAsDataURL(file)\n    },\n    clearSelectedFile() {\n      this.selectedFile = null\n      this.selectedFileType = null\n      this.selectedFilePreview = null\n      if (this.$refs.fileInput) {\n        this.$refs.fileInput.value = ''\n      }\n    },\n    toggleGifPicker() {\n      this.showGifPicker = !this.showGifPicker\n      this.showAttachmentMenu = false\n      if (this.showGifPicker && this.trendingGifs.length === 0) {\n        this.loadTrendingGifs()\n      }\n    },\n    async loadTrendingGifs() {\n      this.loadingGifs = true\n      try {\n        const response = await fetch(\n          `https://api.giphy.com/v1/gifs/trending?api_key=${this.giphyApiKey}&limit=30&rating=g`\n        )\n        const data = await response.json()\n        this.trendingGifs = data.data.map(gif => ({\n          id: gif.id,\n          url: gif.images.fixed_height.url,\n          title: gif.title\n        }))\n      } catch (error) {\n        console.error('Error loading trending GIFs:', error)\n        // Fallback to hardcoded GIFs\n        this.trendingGifs = [\n          { id: 1, url: 'https://media.giphy.com/media/3oz8xAFtqoOUUrsh7W/giphy.gif', title: 'Happy' },\n          { id: 2, url: 'https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif', title: 'Thumbs up' },\n          { id: 3, url: 'https://media.giphy.com/media/g9582DNuQppxC/giphy.gif', title: 'Laughing' },\n          { id: 4, url: 'https://media.giphy.com/media/26ufdipQqU2lhNA4g/giphy.gif', title: 'Yes' },\n          { id: 5, url: 'https://media.giphy.com/media/3o7abKhOpu0NwenH3O/giphy.gif', title: 'No' },\n          { id: 6, url: 'https://media.giphy.com/media/3o6Zt481isNVuQI1l6/giphy.gif', title: 'Thinking' }\n        ]\n      } finally {\n        this.loadingGifs = false\n      }\n    },\n    searchGifs() {\n      // Clear previous timeout\n      if (this.searchTimeout) {\n        clearTimeout(this.searchTimeout)\n      }\n\n      // Debounce search\n      this.searchTimeout = setTimeout(async () => {\n        if (!this.gifSearchQuery.trim()) {\n          this.searchedGifs = []\n          return\n        }\n\n        this.loadingGifs = true\n        try {\n          const response = await fetch(\n            `https://api.giphy.com/v1/gifs/search?api_key=${this.giphyApiKey}&q=${encodeURIComponent(this.gifSearchQuery)}&limit=30&rating=g`\n          )\n          const data = await response.json()\n          this.searchedGifs = data.data.map(gif => ({\n            id: gif.id,\n            url: gif.images.fixed_height.url,\n            title: gif.title\n          }))\n        } catch (error) {\n          console.error('Error searching GIFs:', error)\n          this.searchedGifs = []\n        } finally {\n          this.loadingGifs = false\n        }\n      }, 500) // Wait 500ms after user stops typing\n    },\n    async sendGif(gifUrl) {\n      if (!this.conversationId) return\n\n      this.isSending = true\n\n      try {\n        const response = await fetch(\n          `${this.apiUrl}/conversations/${this.conversationId}/messages`,\n          {\n            method: 'POST',\n            headers: this.getAuthHeaders(),\n            body: JSON.stringify({\n              content: this.newMessage || '',\n              authorId: this.currentUser.id,\n              attachmentType: 'gif',\n              attachmentUrl: gifUrl,\n              attachmentName: 'GIF'\n            })\n          }\n        )\n\n        if (response.ok) {\n          this.newMessage = ''\n          this.showGifPicker = false\n          await this.loadMessages()\n        }\n      } catch (error) {\n        console.error('Error sending GIF:', error)\n        alert('Bd podczas wysyania GIF')\n      } finally {\n        this.isSending = false\n      }\n    },\n    handleDragOver(event) {\n      event.preventDefault()\n      this.isDragging = true\n    },\n    handleDragLeave(event) {\n      event.preventDefault()\n      this.isDragging = false\n    },\n    handleDrop(event) {\n      event.preventDefault()\n      this.isDragging = false\n\n      const files = event.dataTransfer.files\n      if (files.length > 0) {\n        const file = files[0]\n\n        // Check if file is image or video\n        if (file.type.startsWith('image/') || file.type.startsWith('video/')) {\n          // Simulate file input change\n          const dataTransfer = new DataTransfer()\n          dataTransfer.items.add(file)\n          if (this.$refs.fileInput) {\n            this.$refs.fileInput.files = dataTransfer.files\n            this.handleFileSelect({ target: { files: dataTransfer.files } })\n          }\n        } else {\n          alert('Obsugiwane s tylko pliki obrazw i wideo')\n        }\n      }\n    },\n    openImageModal(imageUrl) {\n      this.modalImageUrl = imageUrl\n      this.showImageModal = true\n    },\n    closeImageModal() {\n      this.showImageModal = false\n      this.modalImageUrl = ''\n    },\n    startEdit(message) {\n      this.editingMessageId = message.id\n      this.editMessageText = message.content\n      // Focus input after Vue updates DOM\n      this.$nextTick(() => {\n        const refName = 'editInput' + message.id\n        const input = this.$refs[refName]\n        if (input) {\n          if (Array.isArray(input)) {\n            input[0].focus()\n          } else {\n            input.focus()\n          }\n        }\n      })\n    },\n    async saveEdit(messageId) {\n      try {\n        const response = await fetch(`${this.apiUrl}/conversations/messages/${messageId}/edit`, {\n          method: 'PUT',\n          headers: this.getAuthHeaders(),\n          body: JSON.stringify({\n            content: this.editMessageText,\n            userId: this.currentUser.id\n          })\n        })\n\n        if (response.ok) {\n          const updatedMessage = await response.json()\n          const message = this.messages.find(m => m.id === messageId)\n          if (message) {\n            message.content = updatedMessage.content\n            message.edited = updatedMessage.edited\n          }\n        } else {\n          alert('Nie udao si edytowa wiadomoci')\n        }\n      } catch (error) {\n        console.error('Error editing message:', error)\n        alert('Bd podczas edycji wiadomoci')\n      }\n\n      this.editingMessageId = null\n      this.editMessageText = ''\n    },\n    cancelEdit() {\n      this.editingMessageId = null\n      this.editMessageText = ''\n    },\n    async deleteMessage(messageId) {\n      if (!confirm('Czy na pewno chcesz usun t wiadomo?')) {\n        return\n      }\n\n      try {\n        const response = await fetch(`${this.apiUrl}/conversations/messages/${messageId}/delete`, {\n          method: 'DELETE',\n          headers: this.getAuthHeaders(),\n          body: JSON.stringify({\n            userId: this.currentUser.id\n          })\n        })\n\n        if (response.ok) {\n          const updatedMessage = await response.json()\n          const message = this.messages.find(m => m.id === messageId)\n          if (message) {\n            message.deleted = updatedMessage.deleted\n            message.content = updatedMessage.content\n          }\n        } else {\n          alert('Nie udao si usun wiadomoci')\n        }\n      } catch (error) {\n        console.error('Error deleting message:', error)\n        alert('Bd podczas usuwania wiadomoci')\n      }\n    },\n    toggleReactionMenu(messageId, event) {\n      event.stopPropagation()\n      if (this.openReactionMenuId === messageId) {\n        this.openReactionMenuId = null\n      } else {\n        this.openReactionMenuId = messageId\n      }\n    },\n    handleClickOutside(event) {\n      const reactionsMenu = event.target.closest('.reactions-menu')\n      const toggleBtn = event.target.closest('.reaction-toggle-btn')\n\n      if (!reactionsMenu && !toggleBtn) {\n        this.openReactionMenuId = null\n      }\n    },\n    hasActiveReactions(message) {\n      if (!message.reactions) return false\n      return Object.values(message.reactions).some(count => count > 0)\n    },\n    async addReaction(messageId, reactionType) {\n      await this.toggleReaction(messageId, reactionType)\n      this.openReactionMenuId = null\n    },\n    async toggleReaction(messageId, reactionType) {\n      if (!this.conversationId) return\n\n      try {\n        const response = await fetch(\n          `${this.apiUrl}/conversations/${this.conversationId}/messages/${messageId}/reaction`,\n          {\n            method: 'POST',\n            headers: this.getAuthHeaders(),\n            body: JSON.stringify({\n              type: reactionType\n            })\n          }\n        )\n\n        if (response.ok) {\n          await this.loadMessages()\n        }\n      } catch (error) {\n        console.error('Error adding reaction:', error)\n      }\n    },\n    async markConversationAsRead() {\n      if (!this.conversationId) return\n\n      try {\n        await fetch(\n          `${this.apiUrl}/conversations/${this.conversationId}/messages/mark-read`,\n          {\n            method: 'POST',\n            headers: this.getAuthHeaders(),\n            body: JSON.stringify({\n              userId: this.currentUser.id\n            })\n          }\n        )\n      } catch (error) {\n        console.error('Error marking messages as read:', error)\n      }\n    },\n    formatTime(dateString) {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return `${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`\n    },\n    getMessageDate(dateString) {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      // Return date in format YYYY-MM-DD for grouping\n      return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`\n    },\n    getDateLabel(dateString) {\n      const date = new Date(dateString)\n      const now = new Date()\n\n      // Reset time part for comparison\n      const dateOnly = new Date(date.getFullYear(), date.getMonth(), date.getDate())\n      const nowOnly = new Date(now.getFullYear(), now.getMonth(), now.getDate())\n\n      const diffMs = nowOnly - dateOnly\n      const diffDays = Math.floor(diffMs / 86400000)\n\n      if (diffDays === 0) {\n        return 'Dzi'\n      } else if (diffDays === 1) {\n        return 'Wczoraj'\n      } else {\n        // Format: DD.MM.YYYY\n        return `${String(date.getDate()).padStart(2, '0')}.${String(date.getMonth() + 1).padStart(2, '0')}.${date.getFullYear()}`\n      }\n    },\n    isUserAtBottom() {\n      const chatArea = this.$refs.chatArea\n      if (!chatArea) return true\n\n      // Consider user at bottom if within 100px of the bottom\n      const threshold = 100\n      const position = chatArea.scrollTop + chatArea.clientHeight\n      const bottom = chatArea.scrollHeight\n\n      return position >= bottom - threshold\n    },\n    scrollToBottom() {\n      const chatArea = this.$refs.chatArea\n      if (chatArea) {\n        chatArea.scrollTop = chatArea.scrollHeight\n      }\n    },\n    loadChatCustomization() {\n      const key = `chat_customization_${this.conversationId}`\n      const saved = localStorage.getItem(key)\n      if (saved) {\n        this.chatCustomization = JSON.parse(saved)\n      } else {\n        this.chatCustomization = { ...this.defaultColors }\n      }\n    },\n    savePersonalization() {\n      const key = `chat_customization_${this.conversationId}`\n      localStorage.setItem(key, JSON.stringify(this.chatCustomization))\n      this.showPersonalizeModal = false\n    },\n    resetColor(colorKey) {\n      this.chatCustomization[colorKey] = this.defaultColors[colorKey]\n    },\n    resetFontSize() {\n      this.chatCustomization.fontSize = this.defaultColors.fontSize\n    },\n    closePersonalizeModal() {\n      this.showPersonalizeModal = false\n      // Reload customization in case user made changes but didn't save\n      this.loadChatCustomization()\n    },\n    getMessageBubbleStyle(isSent) {\n      const style = {\n        fontSize: this.chatCustomization.fontSize + 'px'\n      }\n\n      if (isSent) {\n        style.backgroundColor = this.chatCustomization.myMessageColor\n      } else {\n        style.backgroundColor = this.chatCustomization.friendMessageColor\n      }\n\n      return style\n    },\n    getChatAreaStyle() {\n      if (this.chatCustomization.backgroundColor !== 'transparent') {\n        return {\n          backgroundColor: this.chatCustomization.backgroundColor\n        }\n      }\n      return {}\n    },\n    sendTypingNotification() {\n      if (!this.conversationId) return\n\n      // Debounce typing notifications - send faster for quicker response\n      if (this.typingTimeout) {\n        clearTimeout(this.typingTimeout)\n      }\n\n      this.typingTimeout = setTimeout(async () => {\n        try {\n          await fetch(`${this.apiUrl}/conversations/${this.conversationId}/typing`, {\n            method: 'POST',\n            headers: this.getAuthHeaders(),\n            body: JSON.stringify({\n              userId: this.currentUser.id\n            })\n          })\n        } catch (error) {\n          console.error('Error sending typing notification:', error)\n        }\n      }, 150)\n    },\n    async clearTypingStatus() {\n      if (!this.conversationId) return\n\n      try {\n        await fetch(`${this.apiUrl}/conversations/${this.conversationId}/typing/clear`, {\n          method: 'POST',\n          headers: this.getAuthHeaders(),\n          body: JSON.stringify({\n            userId: this.currentUser.id\n          })\n        })\n      } catch (error) {\n        console.error('Error clearing typing status:', error)\n      }\n    },\n    async checkTypingStatus() {\n      if (!this.conversationId) return\n\n      try {\n        const response = await fetch(\n          `${this.apiUrl}/conversations/${this.conversationId}/typing-status?userId=${this.currentUser.id}`,\n          {\n            headers: this.getAuthHeaders()\n          }\n        )\n\n        if (response.ok) {\n          const data = await response.json()\n          this.isTyping = data.isTyping\n          if (data.isTyping && data.username) {\n            this.typingUsername = data.username\n          }\n        }\n      } catch (error) {\n        console.error('Error checking typing status:', error)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.chatroom-container {\n  width: 100%;\n  max-width: 1200px;\n  height: 90vh;\n  background: var(--color-cardBg);\n  backdrop-filter: blur(10px);\n  border: 2px solid var(--color-border);\n  border-radius: 20px;\n  box-shadow: 0 20px 60px var(--color-primary);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  margin: 0 auto;\n}\n\n.chatroom-header {\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryDark) 100%);\n  color: white;\n  padding: 20px 25px;\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  text-shadow: 0 0 20px rgba(0, 0, 0, 0.3);\n  border-bottom: 2px solid var(--color-border);\n}\n\n.back-btn {\n  padding: 10px 20px;\n  background: rgba(0, 0, 0, 0.3);\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 12px;\n  color: white;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.back-btn:hover {\n  background: rgba(0, 0, 0, 0.5);\n  border-color: rgba(255, 255, 255, 0.5);\n  transform: translateX(-3px);\n}\n\n.chat-user-info {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  flex: 1;\n}\n\n.chat-avatar {\n  width: 45px;\n  height: 45px;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.2);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bold;\n  font-size: 20px;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n}\n\n.chat-username {\n  font-size: 22px;\n  font-weight: bold;\n}\n\n.chat-username .real-username {\n  color: var(--color-textLight);\n  font-size: 16px;\n  font-weight: normal;\n  font-style: italic;\n  margin-left: 4px;\n}\n\n.header-spacer {\n  width: 120px;\n}\n\n.personalize-btn {\n  padding: 10px 20px;\n  background: rgba(255, 255, 255, 0.2);\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 12px;\n  color: white;\n  font-size: 20px;\n  cursor: pointer;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.personalize-btn:hover {\n  background: rgba(255, 255, 255, 0.3);\n  border-color: rgba(255, 255, 255, 0.5);\n  transform: scale(1.05);\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  backdrop-filter: blur(5px);\n}\n\n.personalize-modal {\n  background: var(--color-cardBg);\n  border: 2px solid var(--color-border);\n  border-radius: 20px;\n  width: 90%;\n  max-width: 500px;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);\n}\n\n.modal-header {\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryDark) 100%);\n  color: white;\n  padding: 20px 25px;\n  border-radius: 18px 18px 0 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.modal-header h3 {\n  margin: 0;\n  font-size: 22px;\n  font-weight: bold;\n}\n\n.modal-close-btn {\n  background: rgba(255, 255, 255, 0.2);\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 8px;\n  color: white;\n  font-size: 20px;\n  width: 35px;\n  height: 35px;\n  cursor: pointer;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.modal-close-btn:hover {\n  background: rgba(255, 255, 255, 0.3);\n  transform: rotate(90deg);\n}\n\n.modal-body {\n  padding: 25px;\n}\n\n.color-section {\n  margin-bottom: 20px;\n}\n\n.color-section label {\n  display: block;\n  color: var(--color-text);\n  font-weight: 600;\n  margin-bottom: 10px;\n  font-size: 15px;\n}\n\n.color-picker-row {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.color-picker-row input[type=\"color\"] {\n  width: 60px;\n  height: 40px;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  cursor: pointer;\n}\n\n.color-preview {\n  width: 40px;\n  height: 40px;\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n}\n\n.font-size-row {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.font-size-slider {\n  flex: 1;\n  height: 6px;\n  border-radius: 3px;\n  background: var(--color-border);\n  outline: none;\n  -webkit-appearance: none;\n  cursor: pointer;\n}\n\n.font-size-slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  background: var(--color-primary);\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.font-size-slider::-webkit-slider-thumb:hover {\n  background: var(--color-primaryDark);\n  transform: scale(1.2);\n}\n\n.font-size-slider::-moz-range-thumb {\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  background: var(--color-primary);\n  cursor: pointer;\n  border: none;\n  transition: all 0.2s;\n}\n\n.font-size-slider::-moz-range-thumb:hover {\n  background: var(--color-primaryDark);\n  transform: scale(1.2);\n}\n\n.reset-btn {\n  padding: 8px 16px;\n  background: var(--color-cardBg);\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  color: var(--color-text);\n  font-size: 13px;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.reset-btn:hover {\n  background: var(--color-primary);\n  border-color: var(--color-primary);\n  color: white;\n}\n\n.modal-actions {\n  display: flex;\n  gap: 12px;\n  margin-top: 25px;\n  justify-content: flex-end;\n}\n\n.save-btn {\n  padding: 12px 24px;\n  background: var(--color-primary);\n  border: 2px solid var(--color-primary);\n  border-radius: 10px;\n  color: white;\n  font-size: 15px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.save-btn:hover {\n  background: var(--color-primaryDark);\n  transform: scale(1.05);\n}\n\n.cancel-btn {\n  padding: 12px 24px;\n  background: var(--color-cardBg);\n  border: 2px solid var(--color-border);\n  border-radius: 10px;\n  color: var(--color-text);\n  font-size: 15px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.cancel-btn:hover {\n  background: var(--color-border);\n}\n\n.chat-area {\n  flex: 1;\n  padding: 25px;\n  overflow-y: auto;\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0.3) 0%, rgba(0, 0, 0, 0.5) 100%);\n}\n\n.empty-chat-message {\n  text-align: center;\n  color: var(--color-textLight);\n  font-size: 16px;\n  padding: 40px 20px;\n  opacity: 0.8;\n}\n\n.message {\n  margin-bottom: 20px;\n  animation: slideIn 0.3s ease-out;\n  position: relative;\n}\n\n.message:hover {\n  /* Usunito hover effect */\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.message.sent {\n  text-align: right;\n}\n\n.message.received {\n  text-align: left;\n}\n\n.message-wrapper {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  max-width: 75%;\n  position: relative;\n}\n\n.message.sent .message-wrapper {\n  flex-direction: row-reverse;\n}\n\n.message-bubble {\n  display: inline-block;\n  padding: 4px 10px;\n  border-radius: 14px;\n  word-wrap: break-word;\n  position: relative;\n  line-height: 1.4;\n  transition: padding 0.2s ease;\n}\n\n.message-content {\n  display: inline-block;\n}\n\n.message.sent .message-bubble {\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryDark) 100%);\n  color: white;\n  border-bottom-right-radius: 4px;\n  box-shadow: 0 4px 15px var(--color-border);\n}\n\n.message.received .message-bubble {\n  background: rgba(255, 255, 255, 0.1);\n  color: #e0e7ff;\n  border: 1px solid var(--color-border);\n  border-bottom-left-radius: 4px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n}\n\n.message-time {\n  font-size: 11px;\n  color: var(--color-textLight);\n  margin-top: 5px;\n  display: inline-block;\n}\n\n/* Date separator */\n.date-separator {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 30px 0 20px 0;\n  position: relative;\n}\n\n.date-separator::before,\n.date-separator::after {\n  content: '';\n  flex: 1;\n  height: 1px;\n  background: linear-gradient(to right, transparent, var(--color-border), transparent);\n}\n\n.date-separator::before {\n  margin-right: 15px;\n}\n\n.date-separator::after {\n  margin-left: 15px;\n}\n\n.date-label {\n  padding: 6px 16px;\n  background: var(--color-cardBg);\n  border: 1px solid var(--color-border);\n  border-radius: 20px;\n  color: var(--color-textLight);\n  font-size: 12px;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.1);\n  backdrop-filter: blur(10px);\n}\n\n/* Typing indicator */\n.typing-indicator {\n  padding: 10px 25px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  background: var(--color-cardBg);\n  border-top: 1px solid var(--color-border);\n  animation: fadeIn 0.3s ease;\n}\n\n.typing-text {\n  font-size: 13px;\n  color: var(--color-textLight);\n  font-style: italic;\n}\n\n.typing-dots {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.typing-dots .dot {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: var(--color-primary);\n  animation: typingDot 1.4s infinite;\n}\n\n.typing-dots .dot:nth-child(2) {\n  animation-delay: 0.2s;\n}\n\n.typing-dots .dot:nth-child(3) {\n  animation-delay: 0.4s;\n}\n\n@keyframes typingDot {\n  0%, 60%, 100% {\n    transform: translateY(0);\n    opacity: 0.4;\n  }\n  30% {\n    transform: translateY(-8px);\n    opacity: 1;\n  }\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(-5px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Message controls container */\n.message-controls {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  opacity: 0;\n  transition: opacity 0.2s ease;\n  pointer-events: none;\n}\n\n.message-wrapper:hover .message-controls {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n/* Przycisk + do rozwijania reakcji */\n.reaction-toggle-btn {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: rgba(0, 0, 0, 0.5);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  color: white;\n  font-size: 18px;\n  font-weight: bold;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n  flex-shrink: 0;\n}\n\n.reaction-toggle-btn:hover {\n  background: rgba(0, 0, 0, 0.7);\n  border-color: var(--color-primaryLight);\n  transform: scale(1.15);\n}\n\n/* Aktywne reakcje (te z liczb > 0) */\n.active-reactions {\n  display: inline-flex;\n  gap: 6px;\n  margin-top: 6px;\n  flex-wrap: wrap;\n}\n\n.reaction-badge {\n  background: rgba(0, 0, 0, 0.4);\n  border: 1px solid var(--color-border);\n  border-radius: 12px;\n  padding: 3px 8px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  color: white;\n}\n\n.reaction-badge:hover {\n  background: var(--color-primary);\n  border-color: var(--color-primaryLight);\n  transform: scale(1.05);\n}\n\n/* Menu rozwijane z wszystkimi reakcjami */\n.reactions-menu {\n  position: absolute;\n  bottom: -50px;\n  background: rgba(0, 0, 0, 0.95);\n  border: 2px solid var(--color-border);\n  border-radius: 15px;\n  padding: 8px;\n  display: flex;\n  gap: 6px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);\n  z-index: 10;\n  animation: slideDown 0.2s ease-out;\n}\n\n/* Position reactions menu for sent messages (right-aligned) */\n.message.sent .reactions-menu {\n  right: 0;\n}\n\n/* Position reactions menu for received messages (left-aligned) */\n.message.received .reactions-menu {\n  left: 0;\n}\n\n@keyframes slideDown {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.reactions-menu .reaction-btn {\n  background: rgba(255, 255, 255, 0.1);\n  border: 2px solid var(--color-border);\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n  font-size: 20px;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n}\n\n.reactions-menu .reaction-btn:hover {\n  transform: scale(1.15);\n  border-color: var(--color-primaryLight);\n  background: var(--color-primary);\n}\n\n.reactions-menu .reaction-btn.active {\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryDark) 100%);\n  border-color: var(--color-primaryLight);\n  box-shadow: 0 2px 10px var(--color-primary);\n}\n\n/* Message actions (edit/delete) */\n.message-actions {\n  display: inline-flex;\n  gap: 4px;\n}\n\n.action-btn {\n  background: rgba(0, 0, 0, 0.6);\n  border: 2px solid #000000;\n  border-radius: 8px;\n  width: 28px;\n  height: 28px;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 13px;\n  padding: 0;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);\n  flex-shrink: 0;\n}\n\n.action-btn:hover {\n  background: var(--color-primary);\n  border-color: #000000;\n  transform: scale(1.1);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);\n}\n\n/* Edit message form */\n.edit-message-form {\n  display: flex;\n  gap: 6px;\n  align-items: center;\n  width: 100%;\n}\n\n.edit-input {\n  flex: 1;\n  padding: 8px 12px;\n  background: rgba(0, 0, 0, 0.5);\n  border: 2px solid var(--color-border);\n  border-radius: 8px;\n  color: white;\n  font-size: 14px;\n}\n\n.edit-input:focus {\n  outline: none;\n  border-color: var(--color-primaryLight);\n}\n\n.save-edit-btn,\n.cancel-edit-btn {\n  background: var(--color-primary);\n  border: none;\n  color: white;\n  width: 28px;\n  height: 28px;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.cancel-edit-btn {\n  background: rgba(239, 68, 68, 0.3);\n}\n\n.save-edit-btn:hover {\n  background: var(--color-primaryLight);\n  transform: scale(1.1);\n}\n\n.cancel-edit-btn:hover {\n  background: rgba(239, 68, 68, 0.5);\n  transform: scale(1.1);\n}\n\n/* Edited and deleted labels */\n.edited-label {\n  font-size: 11px;\n  opacity: 0.6;\n  font-style: italic;\n  margin-left: 4px;\n}\n\n.deleted-message {\n  font-style: italic;\n  opacity: 0.5;\n  color: var(--color-textLight);\n}\n\n.input-area {\n  padding: 25px;\n  background: rgba(0, 0, 0, 0.4);\n  border-top: 2px solid var(--color-border);\n  display: flex;\n  gap: 12px;\n  align-items: flex-end;\n  position: relative;\n  flex-wrap: wrap;\n}\n\n.attachment-btn {\n  width: 45px;\n  height: 45px;\n  border-radius: 50%;\n  background: var(--color-primary);\n  border: 2px solid var(--color-border);\n  color: white;\n  font-size: 20px;\n  cursor: pointer;\n  transition: all 0.3s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.attachment-btn:hover {\n  background: var(--color-primaryLight);\n  transform: scale(1.1);\n}\n\n.attachment-menu {\n  position: absolute;\n  bottom: 80px;\n  left: 25px;\n  background: rgba(0, 0, 0, 0.95);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 8px;\n  z-index: 100;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);\n  animation: slideUp 0.2s ease-out;\n}\n\n@keyframes slideUp {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.menu-item {\n  display: block;\n  width: 100%;\n  padding: 12px 16px;\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px solid var(--color-border);\n  border-radius: 8px;\n  color: white;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.2s;\n  margin-bottom: 6px;\n  text-align: left;\n}\n\n.menu-item:last-child {\n  margin-bottom: 0;\n}\n\n.menu-item:hover {\n  background: var(--color-primary);\n  border-color: var(--color-primaryLight);\n}\n\n.gif-picker {\n  position: absolute;\n  bottom: 80px;\n  left: 25px;\n  width: 400px;\n  max-height: 400px;\n  background: rgba(0, 0, 0, 0.95);\n  border: 2px solid var(--color-border);\n  border-radius: 12px;\n  padding: 15px;\n  z-index: 100;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);\n  animation: slideUp 0.2s ease-out;\n}\n\n.gif-picker-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid var(--color-border);\n  gap: 10px;\n}\n\n.gif-search-input {\n  flex: 1;\n  padding: 10px 15px;\n  background: rgba(0, 0, 0, 0.5);\n  border: 2px solid var(--color-border);\n  border-radius: 20px;\n  color: white;\n  font-size: 14px;\n  outline: none;\n  transition: all 0.3s;\n}\n\n.gif-search-input:focus {\n  border-color: var(--color-primaryLight);\n  box-shadow: 0 0 10px rgba(139, 92, 246, 0.3);\n}\n\n.gif-search-input::placeholder {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n.gif-picker-header .close-btn {\n  background: none;\n  border: none;\n  color: white;\n  font-size: 24px;\n  cursor: pointer;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n  flex-shrink: 0;\n}\n\n.gif-picker-header .close-btn:hover {\n  color: var(--color-primaryLight);\n  transform: scale(1.2);\n}\n\n.loading-gifs {\n  text-align: center;\n  color: var(--color-text);\n  padding: 40px 20px;\n  font-size: 16px;\n}\n\n.no-gifs {\n  text-align: center;\n  color: var(--color-textLight);\n  padding: 40px 20px;\n  font-size: 14px;\n  font-style: italic;\n}\n\n.gif-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 10px;\n  max-height: 320px;\n  overflow-y: auto;\n}\n\n.gif-item {\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s;\n  border: 2px solid transparent;\n}\n\n.gif-item:hover {\n  border-color: var(--color-primaryLight);\n  transform: scale(1.05);\n}\n\n.file-preview {\n  position: relative;\n  width: 120px;\n  height: 80px;\n  border-radius: 8px;\n  overflow: hidden;\n  border: 2px solid var(--color-border);\n}\n\n.preview-image,\n.preview-video {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.file-preview .clear-btn {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: rgba(239, 68, 68, 0.9);\n  border: none;\n  color: white;\n  font-size: 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.file-preview .clear-btn:hover {\n  background: #dc2626;\n  transform: scale(1.1);\n}\n\n.upload-progress {\n  position: absolute;\n  top: 10px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: var(--color-primary);\n  color: white;\n  padding: 8px 16px;\n  border-radius: 8px;\n  font-size: 14px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\n}\n\n.drop-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(139, 92, 246, 0.9);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 32px;\n  color: white;\n  font-weight: bold;\n  z-index: 50;\n  backdrop-filter: blur(5px);\n}\n\n.chat-area.drag-over {\n  border: 3px dashed var(--color-primaryLight);\n}\n\n.message-attachment {\n  margin-bottom: 8px;\n}\n\n.attachment-image,\n.attachment-gif {\n  max-width: 300px;\n  max-height: 300px;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: block;\n}\n\n.attachment-image:hover {\n  transform: scale(1.02);\n  box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4);\n}\n\n.attachment-video {\n  max-width: 300px;\n  max-height: 300px;\n  border-radius: 12px;\n  display: block;\n}\n\n.image-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.95);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  animation: fadeIn 0.3s ease-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.modal-content {\n  position: relative;\n  max-width: 90%;\n  max-height: 90%;\n}\n\n.modal-content img {\n  max-width: 100%;\n  max-height: 90vh;\n  border-radius: 8px;\n  box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5);\n}\n\n.modal-close {\n  position: absolute;\n  top: -40px;\n  right: 0;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background: rgba(239, 68, 68, 0.9);\n  border: none;\n  color: white;\n  font-size: 24px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s;\n}\n\n.modal-close:hover {\n  background: #dc2626;\n  transform: scale(1.1);\n}\n\n.input-area input {\n  flex: 1;\n  padding: 14px 20px;\n  background: rgba(0, 0, 0, 0.5);\n  border: 2px solid var(--color-border);\n  border-radius: 25px;\n  font-size: 16px;\n  color: white;\n  outline: none;\n  transition: all 0.3s;\n}\n\n.input-area input::placeholder {\n  color: var(--color-textLight);\n}\n\n.input-area input:focus {\n  border-color: var(--color-primaryLight);\n  box-shadow: 0 0 20px var(--color-border);\n}\n\n.input-area button {\n  padding: 14px 28px;\n  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primaryDark) 100%);\n  color: white;\n  border: none;\n  border-radius: 25px;\n  font-size: 16px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s;\n  box-shadow: 0 4px 15px var(--color-primary);\n}\n\n.input-area button:hover {\n  transform: scale(1.05);\n}\n\n.input-area button:active {\n  transform: scale(0.95);\n}\n\n.chat-area::-webkit-scrollbar {\n  width: 8px;\n}\n\n.chat-area::-webkit-scrollbar-track {\n  background: rgba(0, 0, 0, 0.3);\n  border-radius: 4px;\n}\n\n.chat-area::-webkit-scrollbar-thumb {\n  background: var(--color-primary);\n  border-radius: 4px;\n}\n\n.chat-area::-webkit-scrollbar-thumb:hover {\n  background: var(--color-primaryLight);\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .chatroom-container {\n    height: 85vh;\n    max-width: 100%;\n    border-radius: 15px;\n  }\n\n  .chatroom-header {\n    padding: 15px 20px;\n    gap: 15px;\n  }\n\n  .back-btn {\n    padding: 8px 15px;\n    font-size: 13px;\n  }\n\n  .chat-avatar {\n    width: 40px;\n    height: 40px;\n    font-size: 18px;\n  }\n\n  .chat-username {\n    font-size: 20px;\n  }\n\n  .header-spacer {\n    width: 80px;\n  }\n\n  .chat-area {\n    padding: 20px;\n  }\n\n  .message-wrapper {\n    max-width: 85%;\n  }\n\n  .message-bubble {\n    padding: 5px 12px;\n  }\n\n  .reaction-toggle-btn {\n    width: 22px;\n    height: 22px;\n    font-size: 16px;\n  }\n\n  .action-btn {\n    width: 26px;\n    height: 26px;\n    font-size: 12px;\n  }\n\n  .reaction-badge {\n    font-size: 13px;\n    padding: 2px 6px;\n  }\n\n  .reactions-menu .reaction-btn {\n    width: 36px;\n    height: 36px;\n    font-size: 18px;\n  }\n\n  .input-area {\n    padding: 20px;\n    gap: 10px;\n  }\n\n  .input-area input {\n    padding: 12px 18px;\n    font-size: 15px;\n  }\n\n  .input-area button {\n    padding: 12px 24px;\n    font-size: 15px;\n  }\n}\n\n@media (max-width: 480px) {\n  .chatroom-container {\n    height: 80vh;\n    border-radius: 12px;\n  }\n\n  .chatroom-header {\n    padding: 12px 15px;\n    gap: 10px;\n  }\n\n  .back-btn {\n    padding: 6px 12px;\n    font-size: 12px;\n  }\n\n  .chat-avatar {\n    width: 35px;\n    height: 35px;\n    font-size: 16px;\n  }\n\n  .chat-username {\n    font-size: 18px;\n  }\n\n  .header-spacer {\n    display: none;\n  }\n\n  .chat-area {\n    padding: 15px;\n  }\n\n  .message-wrapper {\n    max-width: 90%;\n    gap: 6px;\n  }\n\n  .message-bubble {\n    padding: 4px 10px;\n  }\n\n  .message-time {\n    font-size: 10px;\n  }\n\n  .reaction-toggle-btn {\n    width: 20px;\n    height: 20px;\n    font-size: 14px;\n  }\n\n  .action-btn {\n    width: 24px;\n    height: 24px;\n    font-size: 11px;\n  }\n\n  .reaction-badge {\n    font-size: 12px;\n    padding: 2px 5px;\n  }\n\n  .reactions-menu {\n    padding: 6px;\n    gap: 4px;\n  }\n\n  .reactions-menu .reaction-btn {\n    width: 32px;\n    height: 32px;\n    font-size: 16px;\n  }\n\n  .input-area {\n    padding: 15px;\n    gap: 8px;\n    flex-wrap: wrap;\n  }\n\n  .input-area input {\n    padding: 10px 16px;\n    font-size: 14px;\n    border-radius: 20px;\n  }\n\n  .input-area button {\n    padding: 10px 20px;\n    font-size: 14px;\n    border-radius: 20px;\n  }\n}\n</style>\n","import CryptoJS from 'crypto-js'\n\n// Secret key for encryption (in production, this should be per-conversation and stored securely)\nconst SECRET_KEY = process.env.VUE_APP_ENCRYPTION_KEY || 'pingme-secret-key-2025'\n\nexport function encryptMessage(message) {\n  if (!message) return ''\n  try {\n    return CryptoJS.AES.encrypt(message, SECRET_KEY).toString()\n  } catch (error) {\n    console.error('Encryption error:', error)\n    return message\n  }\n}\n\nexport function decryptMessage(encryptedMessage) {\n  if (!encryptedMessage) return ''\n  try {\n    const bytes = CryptoJS.AES.decrypt(encryptedMessage, SECRET_KEY)\n    const decrypted = bytes.toString(CryptoJS.enc.Utf8)\n    return decrypted || encryptedMessage\n  } catch (error) {\n    console.error('Decryption error:', error)\n    return encryptedMessage\n  }\n}\n\n// Generate a unique encryption key for a conversation\nexport function generateConversationKey(conversationId, userId1, userId2) {\n  const sortedIds = [userId1, userId2].sort().join('-')\n  return CryptoJS.SHA256(`${conversationId}-${sortedIds}-${SECRET_KEY}`).toString()\n}\n\n// Encrypt message with conversation-specific key\nexport function encryptMessageForConversation(message, conversationKey) {\n  if (!message) return ''\n  try {\n    return CryptoJS.AES.encrypt(message, conversationKey).toString()\n  } catch (error) {\n    console.error('Encryption error:', error)\n    return message\n  }\n}\n\n// Decrypt message with conversation-specific key\nexport function decryptMessageForConversation(encryptedMessage, conversationKey) {\n  if (!encryptedMessage) return ''\n\n  // Check if message looks encrypted (AES encrypted messages are base64-like)\n  // If it doesn't look encrypted, return as-is (old unencrypted message)\n  if (!encryptedMessage.includes('U2FsdGVk') && encryptedMessage.length < 100 && !encryptedMessage.match(/^[A-Za-z0-9+/=]+$/)) {\n    // Looks like plain text, not encrypted\n    return encryptedMessage\n  }\n\n  try {\n    const bytes = CryptoJS.AES.decrypt(encryptedMessage, conversationKey)\n    const decrypted = bytes.toString(CryptoJS.enc.Utf8)\n\n    // If decryption resulted in empty string or malformed data, return original\n    if (!decrypted || decrypted.length === 0) {\n      return encryptedMessage\n    }\n\n    return decrypted\n  } catch (error) {\n    // Decryption failed - probably an old unencrypted message\n    return encryptedMessage\n  }\n}\n","import { render } from \"./ChatRoom.vue?vue&type=template&id=0524073d&scoped=true\"\nimport script from \"./ChatRoom.vue?vue&type=script&lang=js\"\nexport * from \"./ChatRoom.vue?vue&type=script&lang=js\"\n\nimport \"./ChatRoom.vue?vue&type=style&index=0&id=0524073d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0524073d\"]])\n\nexport default __exports__","import { render } from \"./Dashboard.vue?vue&type=template&id=a0bb3fa4&scoped=true\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport \"./Dashboard.vue?vue&type=style&index=0&id=a0bb3fa4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a0bb3fa4\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\nimport Login from './components/Login.vue'\nimport Register from './components/Register.vue'\nimport Dashboard from './components/Dashboard.vue'\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/login'\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login\n  },\n  {\n    path: '/register',\n    name: 'Register',\n    component: Register\n  },\n  {\n    path: '/dashboard',\n    name: 'Dashboard',\n    component: Dashboard,\n    meta: { requiresAuth: true }\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n})\n\n// Navigation guard for authentication\nrouter.beforeEach((to, from, next) => {\n  const user = localStorage.getItem('user')\n  const token = localStorage.getItem('token')\n  const isAuthenticated = user && token\n\n  // If trying to access protected route without BOTH user and token\n  if (to.meta.requiresAuth && !isAuthenticated) {\n    // Clear all localStorage to force fresh login\n    localStorage.clear()\n    next('/login')\n  } else if ((to.path === '/login' || to.path === '/register') && isAuthenticated) {\n    next('/dashboard')\n  } else if ((to.path === '/login' || to.path === '/register') && user && !token) {\n    // Has user but no token - clear and stay on login\n    localStorage.clear()\n    next()\n  } else {\n    next()\n  }\n})\n\nexport default router\n","// Anti-debug and anti-inspection measures\n// Note: These are basic protections and can be bypassed by determined attackers\n\nexport function initAntiDebug() {\n  // Only enable in production\n  if (process.env.NODE_ENV !== 'production') {\n    return // Disable all protections in development\n  }\n\n  // Disable right-click\n  document.addEventListener('contextmenu', (e) => {\n    e.preventDefault()\n    return false\n  })\n\n  // Disable F12, Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+U\n  document.addEventListener('keydown', (e) => {\n    if (\n      e.keyCode === 123 || // F12\n      (e.ctrlKey && e.shiftKey && e.keyCode === 73) || // Ctrl+Shift+I\n      (e.ctrlKey && e.shiftKey && e.keyCode === 74) || // Ctrl+Shift+J\n      (e.ctrlKey && e.keyCode === 85) // Ctrl+U\n    ) {\n      e.preventDefault()\n      return false\n    }\n  })\n\n  // Disable console methods in production\n  const noop = () => {}\n  console.log = noop\n  console.warn = noop\n  console.error = noop\n  console.info = noop\n  console.debug = noop\n}\n\n// Clear console periodically\nexport function clearConsolePeriodically() {\n  // Only in production\n  if (process.env.NODE_ENV !== 'production') {\n    return\n  }\n\n  setInterval(() => {\n    console.clear()\n  }, 5000) // Less aggressive - every 5 seconds instead of 1\n}\n","import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport './assets/tailwind.css';\nimport { initAntiDebug, clearConsolePeriodically } from './utils/antiDebug';\n\n// Initialize anti-debug protection\ninitAntiDebug();\nclearConsolePeriodically();\n\nconst app = createApp(App);\napp.use(router);\napp.mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfrontend\"] = self[\"webpackChunkfrontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(389)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","name","__exports__","render","class","handleLogin","type","loginType","for","placeholder","required","email","username","password","error","disabled","loading","to","themes","darkModern","icon","description","colors","primary","primaryDark","primaryLight","primaryLighter","background1","background2","background3","cardBg","border","text","textLight","success","lightModern","feminine","darkFeminine","avatars","applyTheme","themeName","theme","root","document","documentElement","Object","values","forEach","t","classList","remove","add","entries","key","value","style","setProperty","getTextSizeClass","size","sizes","small","medium","large","data","apiUrl","mounted","savedTheme","localStorage","getItem","savedTextSize","body","methods","this","loginData","response","fetch","method","headers","JSON","stringify","json","ok","setItem","token","user","ip","Date","toISOString","$router","push","console","handleRegister","confirmPassword","length","setTimeout","getBgClass","getCardClass","getAvatarBgStyle","userAvatar","getTextClass","currentUser","mobileMenuOpen","getHoverClass","fill","stroke","viewBox","d","getBorderClass","getLogoBgClass","getLogoTextClass","currentTime","getTextMutedClass","currentDate","tabs","tab","switchTab","activeTab","getActiveNavClass","getInactiveNavClass","label","badge","handleLogout","getLogoutButtonClass","href","selectedFriend","openChat","closeSettings","updateAvatar","handleAvatarColorChange","handleThemeChange","handleTextSizeChange","friend","closeChat","userIp","showAllUsers","allUsers","availableUsers","charAt","toUpperCase","isFriend","addFriend","friends","friendsWithMessages","startChat","editingNickId","saveNick","cancelEditNick","ref","editedNick","title","startEditNick","nickname","lastMessage","content","formatTime","createdAt","formatDate","authorId","isRead","props","conversations","nicknames","parse","computed","filter","map","conversation","find","conv","participant","loadFriends","loadAllUsers","loadConversations","conversationInterval","setInterval","beforeUnmount","clearInterval","getAuthHeaders","clear","friendId","currentUserId","userId","some","$emit","dateString","date","getHours","String","getMinutes","padStart","today","yesterday","setDate","getDate","toDateString","getMonth","getFullYear","$nextTick","$refs","nickInput","focus","trim","showAddEventForm","successMessage","newEvent","time","addEvent","previousMonth","currentMonthYear","nextMonth","daysOfWeek","day","calendarDays","index","selectDate","dayHasEvents","selectedDateFormatted","selectedDayEvents","event","author","deleteEvent","showAddTodoForm","addTodo","newTodo","todos","todo","checked","completed","toggleTodo","deleteTodo","selectedDate","split","events","toLocaleDateString","month","year","Number","firstDay","lastDay","startDay","getDay","days","y","toString","m","prevMonthLastDay","i","otherMonth","isToday","now","dateStr","remaining","loadEvents","loadTodos","alert","eventId","todoId","showUploadModal","closeUploadModal","handleDrop","accept","handleFileSelect","selectedFile","src","previewUrl","alt","removeFile","fileInput","click","maxlength","newCaption","uploadPhoto","uploading","closeEditModal","editMode","resetEdit","startDrawing","draw","stopDrawing","drawColor","min","max","drawWidth","textToAdd","textColor","textSize","addTextToCanvas","saveEditedPhoto","photos","photo","openPhotoView","url","caption","editingCaptionId","saveCaption","editedCaption","startEditCaption","uploadedAt","startEdit","deletePhoto","viewingPhoto","editingPhoto","isDrawing","lastX","lastY","originalImageData","editCanvas","editCtx","loadPhotos","Array","isArray","file","target","files","processFile","preventDefault","dataTransfer","startsWith","validTypes","includes","toLowerCase","maxSize","limit","log","URL","createObjectURL","formData","FormData","append","errorMsg","receivedMimeType","message","initEditCanvas","imageUrl","canvas","getContext","img","Image","onerror","onload","maxWidth","maxHeight","width","height","drawImage","getImageData","window","location","hostname","crossOrigin","e","rect","getBoundingClientRect","clientX","left","clientY","top","x","beginPath","moveTo","lineTo","strokeStyle","lineWidth","lineCap","font","fillStyle","fillText","putImageData","toBlob","async","blob","captionInput","photoId","authHeaders","p","confirm","hour","minute","currentTheme","changeTheme","getThemePreview","textSizes","currentTextSize","changeTextSize","avatar","currentAvatar","changeAvatar","avatarColors","color","currentAvatarColor","gradient","changeAvatarColor","getFullPhotoUrl","userProfilePhoto","handlePhotoUpload","photoInput","removeProfilePhoto","saveSettings","isSaving","saveMessageType","saveMessage","parseInt","applyTextSize","colorIndex","background","photoPath","baseUrl","replace","allowedTypes","friendNickname","showPersonalizeModal","closePersonalizeModal","chatCustomization","myMessageColor","resetColor","friendMessageColor","backgroundColor","fontSize","step","number","resetFontSize","savePersonalization","isDragging","handleDragOver","handleDragLeave","getChatAreaStyle","messages","groupedMessages","group","getMessageBubbleStyle","attachmentType","attachmentUrl","attachmentName","openImageModal","controls","editingMessageId","saveEdit","cancelEdit","editMessageText","deleted","toggleReactionMenu","$event","deleteMessage","hasActiveReactions","reactionEmojis","emoji","toggleReaction","reactions","openReactionMenuId","addReaction","typingUsername","toggleAttachmentMenu","openFileDialog","toggleGifPicker","searchGifs","gifSearchQuery","showGifPicker","displayedGifs","gif","sendGif","loadingGifs","uploadProgress","selectedFileType","selectedFilePreview","clearSelectedFile","sendMessage","newMessage","isSending","closeImageModal","modalImageUrl","SECRET_KEY","VUE_APP_ENCRYPTION_KEY","generateConversationKey","conversationId","userId1","userId2","sortedIds","sort","join","encryptMessageForConversation","conversationKey","encrypt","decryptMessageForConversation","encryptedMessage","match","bytes","decrypt","decrypted","Utf8","heart","like","laugh","wow","showAttachmentMenu","showImageModal","trendingGifs","searchedGifs","giphyApiKey","searchTimeout","isInitialLoad","defaultColors","isTyping","typingTimeout","typingCheckInterval","groups","currentGroup","messageDate","getMessageDate","getDateLabel","watch","newVal","sendTypingNotification","initializeConversation","loadTrendingGifs","messageInterval","loadMessages","checkTypingStatus","addEventListener","handleClickOutside","clearTimeout","markConversationAsRead","removeEventListener","loadChatCustomization","isUserAtBottom","scrollToBottom","attachmentData","uploadFile","encryptedContent","messageData","clearTypingStatus","Error","reader","FileReader","result","readAsDataURL","images","fixed_height","encodeURIComponent","gifUrl","DataTransfer","items","refName","input","messageId","updatedMessage","edited","stopPropagation","reactionsMenu","closest","toggleBtn","count","reactionType","dateOnly","nowOnly","diffMs","diffDays","Math","floor","chatArea","threshold","position","scrollTop","clientHeight","bottom","scrollHeight","saved","colorKey","isSent","components","Friends","Events","Gallery","Settings","ChatRoom","storedUser","storedToken","catch","checkIpAndSession","storedAvatar","storedAvatarColor","storedTheme","storedTextSize","updateClock","clockInterval","inactivityInterval","checkInactivity","setupActivityTracking","updateActivity","toLocaleTimeString","second","weekday","removeItem","lastActivity","lastActivityTime","minutesInactive","routes","path","redirect","component","Login","Register","Dashboard","meta","requiresAuth","router","history","beforeEach","from","next","isAuthenticated","initAntiDebug","keyCode","ctrlKey","shiftKey","noop","warn","info","debug","clearConsolePeriodically","app","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}